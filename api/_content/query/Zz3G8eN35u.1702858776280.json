{"_path":"/blog/django-guide","_dir":"blog","_draft":false,"_partial":false,"_locale":"es","title":"Guía de principios en Django con Rest Framework","description":"Conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework.","date":"2023-12-08T00:00:00.000Z","time":"8 min","tags":["Desarrollo","API","Django"],"author":"RrQq","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"El objetivo de esta guía no es mostrar una verdad absoluta, sino mostrar un conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework."}]},{"type":"element","tag":"h2","props":{"id":"qué-es-lo-que-buscamos-establecer"},"children":[{"type":"text","value":"¿Qué es lo que buscamos establecer?"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Establecer buenas prácticas para el manejo de información dentro de un proyecto django."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Establecer un lugar claro para colocar la 'lógica empresarial'."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mantenga el código limpio y fácil de leer. Y que cualquier desarrollador del equipo podrá modificar, actualizar, etc."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Establecer consensos para el desarrollo de proyectos de manera transparente."}]}]},{"type":"element","tag":"h2","props":{"id":"django-cookiecutter"},"children":[{"type":"text","value":"Django Cookiecutter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para proyectos Django, utilizamos la estructura de "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/cookiecutter/cookiecutter-django","rel":["nofollow"]},"children":[{"type":"text","value":"Pydanny"}]},{"type":"text","value":"."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En cuanto al proveedor de la nube, utilizamos AWS."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Usamos Docker."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Respecto al servidor de correo, otro SMTP."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"De momento no utilizamos ningún compresor, los proyectos no son open source, ni whitenoise ni sentry."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Normalmente eliminamos la biblioteca django-debug-toolbar de la configuración del proyecto local."}]}]},{"type":"element","tag":"h2","props":{"id":"considerar"},"children":[{"type":"text","value":"Considerar"}]},{"type":"element","tag":"h3","props":{"id":"configuración-previa"},"children":[{"type":"text","value":"Configuración previa"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En la documentación de "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/cookiecutter/cookiecutter-django","rel":["nofollow"]},"children":[{"type":"text","value":"Django Cookiecutter"}]},{"type":"text","value":". viene configurado con un linter como "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://pypi.org/project/flake8/","rel":["nofollow"]},"children":[{"type":"text","value":"Flake8"}]},{"type":"text","value":" y con un formateador como "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://pypi.org/project/black/","rel":["nofollow"]},"children":[{"type":"text","value":"Black"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para aprovechar el uso del linter Flake8(PyCharm, VsCode), necesitamos configurar nuestro editor de código para usar este linter para Python. Lo mismo ocurre con Black ("},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://black.readthedocs.io/en/stable/integrations/editors.html#pycharm-intellij-idea","rel":["nofollow"]},"children":[{"type":"text","value":"PyCharm"}]},{"type":"text","value":" y "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://dev.to/adamlombard/how-to-use-the-black-python-code-formatter-in-vscode-3lo0","rel":["nofollow"]},"children":[{"type":"text","value":"VsCode"}]},{"type":"text","value":")."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lo ideal es que al guardar un cambio se revise la sintaxis y se formatee nuestro código."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Con negro utilizamos 129 caracteres como longitud de línea."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Otra forma de utilizar la sintaxis de verificación es mediante la confirmación previa."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Para activar la configuración previa a la confirmación en el proyecto, ejecute este comando:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes monokai","code":"pre-commit install\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"pre-commit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" install\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En general se ejecutan módulos como flake8, isort, black, etc. Si desea cambiar algo de esto, consulte el archivo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":".pre-commit-config.yaml"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"información-previa"},"children":[{"type":"text","value":"Información previa"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"El Directorio de Aplicaciones de Django"}]},{"type":"text","value":" guarda los modelos que están relacionados, debe escribirse en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"plural"}]},{"type":"text","value":" y en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"minúsculas"}]},{"type":"text","value":". Por ejemplo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"users"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Los nombres de los "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"modelos"}]},{"type":"text","value":" deben estar en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"singular"}]},{"type":"text","value":" y en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"PascalCase"}]},{"type":"text","value":". Por ejemplo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"Ticket"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Los campos"}]},{"type":"text","value":" deben ser "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"singulares"}]},{"type":"text","value":" y estar en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Snake_case"}]},{"type":"text","value":". Por ejemplo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"price_type"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Las funciones"}]},{"type":"text","value":" deben comenzar con un verbo y estar en "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"snake_case"}]},{"type":"text","value":". Por ejemplo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"get_related_tickets"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"configuración"},"children":[{"type":"text","value":"Configuración"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"En cuanto a la configuración predeterminada de Django Cookiecutter, agregamos algunas bibliotecas relacionadas como estas:"}]},{"type":"element","tag":"h3","props":{"id":"django-camelcase"},"children":[{"type":"text","value":"Django CamelCase"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/vbabiy/djangorestframework-camel-case","rel":["nofollow"]},"children":[{"type":"text","value":"Django REST Framework JSON CamelCase"}]},{"type":"text","value":" para obtener una salida y entrada del analizador Json con formato CamelCase."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"REST_FRAMEWORK = {\n    ...\n    \"DEFAULT_RENDERER_CLASSES\": (\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\",),\n    \"DEFAULT_PARSER_CLASSES\": (\n        \"djangorestframework_camel_case.parser.CamelCaseFormParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\",\n    ),\n    \"JSON_UNDERSCOREIZE\": {\n        \"no_underscore_before_number\": True,\n    },\n    \"COERCE_DECIMAL_TO_STRING\": False,\n}\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"REST_FRAMEWORK"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"    \"DEFAULT_RENDERER_CLASSES\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"    \"DEFAULT_PARSER_CLASSES\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": (\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"        \"djangorestframework_camel_case.parser.CamelCaseFormParser\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    ),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"    \"JSON_UNDERSCOREIZE\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"        \"no_underscore_before_number\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"True"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"    \"COERCE_DECIMAL_TO_STRING\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"False"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"dj-rest-auth"},"children":[{"type":"text","value":"Dj Rest Auth"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/iMerica/dj-rest-auth","rel":["nofollow"]},"children":[{"type":"text","value":"Dj-Rest-Auth"}]},{"type":"text","value":" nos proporciona puntos finales API directos para manejar de forma segura la autenticación en Django.\nSi necesitamos cambiar un "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://dj-rest-auth.readthedocs.io/en/latest/configuration.html","rel":["nofollow"]},"children":[{"type":"text","value":"serializador"}]},{"type":"text","value":" predeterminado, podemos usar:"}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"  REST_AUTH_SERIALIZERS = {\n    \"LOGIN_SERIALIZER\": \"folder_api.users.api.serializers.MyLoginSerializer\",\n}\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"  REST_AUTH_SERIALIZERS"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"    \"LOGIN_SERIALIZER\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"folder_api.users.api.serializers.MyLoginSerializer\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"django-model-utils"},"children":[{"type":"text","value":"Django Model Utils"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/jazzband/django-model-utils","rel":["nofollow"]},"children":[{"type":"text","value":"Django Model Utils"}]},{"type":"text","value":" nos proporciona utilidades para modelos y campos. Entre estos tenemos un modelo abstracto para manejar las fechas de creación y modificación."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from model_utils.models import TimeStampedModel\nfrom model_utils.fields import UUIDField\n\nclass Ticket(TimeStampedModel):\n  uuid = UUIDField(primary_key=True, version=4, editable=False)\n  ...\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" model_utils.models "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" TimeStampedModel\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" model_utils.fields "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" UUIDField\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"  uuid "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" UUIDField("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"primary_key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"True"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"version"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"editable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"False"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"  ...\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"django-url-filter"},"children":[{"type":"text","value":"Django URL Filter"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{":target":"_blank","href":"https://pypi.org/project/django-url-filter/","rel":["nofollow"]},"children":[{"type":"text","value":"Django Url Filter"}]},{"type":"text","value":" nos proporciona una interfaz URL simple para filtrar datos, entre campos y relaciones."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Si necesitas agregarlo dentro de una acción, puedes hacerlo de esta manera:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from url_filter.integrations.drf import DjangoFilterBackend\n\nclass TicketViewSet(GenericViewSet):\n    ...\n    filter_backends = [DjangoFilterBackend]\n    filter_fields = [\"uuid\"]\n    ...\n    @action(detail=False, methods=[\"GET\"])\n    def defeated(self, request):\n        productos = self.filter_queryset(self.get_queryset())\n        ...\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" url_filter.integrations.drf "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" DjangoFilterBackend\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" TicketViewSet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"GenericViewSet"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    filter_backends "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" [DjangoFilterBackend]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    filter_fields "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"uuid\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"    @action"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"detail"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"False"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"methods"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"GET\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" defeated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        productos "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".filter_queryset("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".get_queryset())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"        ...\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"storages"},"children":[{"type":"text","value":"Storages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{":target":"_blank","href":"https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html","rel":["nofollow"]},"children":[{"type":"text","value":"Django Storages"}]},{"type":"text","value":" nos proporciona un conjunto de backends de almacenamiento para Django. Estos backends proporcionan compatibilidad con el almacenamiento de archivos en Amazon S3, Azure Storage, Google Cloud Storage, etc."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"La configuración la podemos mantener dentro de un archivo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"storages.py"}]},{"type":"text","value":" dentro de la carpeta utils."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Generalmente permitimos que los archivos estáticos sean legibles públicamente:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class StaticRootS3Boto3Storage(S3Boto3Storage):\n    location = \"static\"\n    default_acl = \"public-read\"\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" StaticRootS3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"S3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    location "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"static\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    default_acl "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"public-read\"\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"En el caso de mantener los archivos multimedia legibles públicamente:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class PublicMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media\"\n    default_acl = \"public-read\"\n    file_overwrite = False\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" PublicMediaS3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"S3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    location "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"media\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    default_acl "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"public-read\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    file_overwrite "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" False\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pero en caso de que necesite crear una carpeta con archivos multimedia privados."}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class PrivateMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media-private\"\n    default_acl = \"private\"\n    file_overwrite = False\n    querystring_auth = True\n    querystring_expire = 60 * 60 * 12\n    region_name = \"us-east-2\"\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" PrivateMediaS3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"S3Boto3Storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    location "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"media-private\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    default_acl "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"private\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    file_overwrite "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" False\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    querystring_auth "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" True\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    querystring_expire "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" 60"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" 60"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" 12\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    region_name "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":" \"us-east-2\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nota:"}]},{"type":"text","value":" También necesita un "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"handler"}]},{"type":"text","value":" y usarlo para cada campo en el que lo usará."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Deberá crear uno nuevo, como este:"}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"def handlerPrivateStorage():\n    if settings.DEBUG:\n        return None\n    return PrivateMediaS3Boto3Storage()\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" handlerPrivateStorage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" settings."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"DEBUG"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"    return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" PrivateMediaS3Boto3Storage()\n"}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Y dentro del modelo usarlo de esta manera para no afectar los archivos de desarrollo local y migración."}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class Ticket(TimeStampedModel):\n    ...\n    image = models.FileField(..., storage=handlerPrivateStorage())\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    image "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" models.FileField("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"storage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"handlerPrivateStorage())\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"modelos"},"children":[{"type":"text","value":"Modelos"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Para hacer algunas demostraciones, mostraremos un ejemplo. La "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"lógica del negocio"}]},{"type":"text","value":" nos dice que muchos usuarios pueden utilizar un ticket."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class Ticket(TimeStampedModel):\n    code = models.CharField(max_length=10, unique=True)\n    user = models.ForeignKey(Ticket, on_delete=models.CASCADE, related_name=\"tickets\")\n    usage_limit = models.PositiveSmallIntegerField(default=1)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n\nclass User(TimeStampedModel):\n    ...\n    name = models.CharField(max_length=32)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    code "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" models.CharField("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"max_length"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"unique"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"True"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    user "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" models.ForeignKey(Ticket, "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"on_delete"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"models."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"CASCADE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"related_name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"tickets\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    usage_limit "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" models.PositiveSmallIntegerField("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#88846F"},"children":[{"type":"text","value":"    # created: Is a field provided by TimeStampedModel\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#88846F"},"children":[{"type":"text","value":"    # modified: Is a field provided by TimeStampedModel\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" User"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    name "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" models.CharField("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"max_length"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"32"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#88846F"},"children":[{"type":"text","value":"    # created: Is a field provided by TimeStampedModel\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#88846F"},"children":[{"type":"text","value":"    # modified: Is a field provided by TimeStampedModel\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Primero debemos definir algunas características que tendrán los modelos, tales como: campos, valores únicos, consultas, propiedades y métodos."}]},{"type":"element","tag":"h3","props":{"id":"managers"},"children":[{"type":"text","value":"Managers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Los managers nos permiten crear consultas personalizadas para nuestros modelos. Por ejemplo, si queremos obtener todos los tickets que no han sido utilizados, podemos crear un manager personalizado para esto."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Para definir los campos necesitamos toda la información sobre el funcionamiento del negocio, para este ejemplo tendremos solo estos: "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"code"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"user"}]},{"type":"text","value":" y "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"usage_limit"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"El modelo Ticket tiene un campo que es único y debe ser creado y asignado a cada instancia una sola vez, para esto tenemos 2 opciones.\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Coloque esa lógica en el método "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"save()"}]},{"type":"text","value":", que se utiliza mejor cuando tenemos un valor que necesitamos recalcular o generar cada vez que guardamos cambios en el modelo."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Utilizar los "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"manager de Django"}]},{"type":"text","value":", que nos permite utilizar un método "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"create()"}]},{"type":"text","value":", que se ejecutará solo una vez."}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class TicketManager(models.Manager):\n\n    CODE_LENGTH = 10\n\n    def create(self, *args, **kwargs):\n        code = generate_random_code(self.CODE_LENGTH)\n        while self.filter(code=code).exists():\n            code = generate_random_code(self.CODE_LENGTH)\n        kwargs[\"code\"] = code\n        return super().create(*args, **kwargs)\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" TicketManager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"models"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"Manager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    CODE_LENGTH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":" 10\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" create"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"**"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"kwargs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        code "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" generate_random_code("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"CODE_LENGTH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        while"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".filter("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"code).exists():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"            code "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" generate_random_code("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"CODE_LENGTH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        kwargs["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" code\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":" super"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"().create("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"args, "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"**"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"kwargs)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nota:"}]},{"type":"text","value":" Para acceder a la función "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"generate_random_code(length),"}]},{"type":"text","value":" debemos colocarla dentro de "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"utilities.py"}]},{"type":"text","value":" ya que es una función de utilidad."}]},{"type":"element","tag":"pre","props":{"className":"language-console shiki shiki-themes monokai","code":"folder_api\n├── users\n├── utils\n│   ├── __init__.py\n│   ├── utilities.py\n│   ├── storages.py\n│   └── validators.py\n|   ...\n...\n","language":"console","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"folder_api\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"├── users\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"├── utils\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── __init__.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── utilities.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── storages.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   └── validators.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"|   ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Los "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"manager de Django"}]},{"type":"text","value":" también se pueden utilizar para definir consultas que se utilizarán constantemente. "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://docs.djangoproject.com/en/4.2/topics/db/managers/#custom-managers","rel":["nofollow"]},"children":[{"type":"text","value":"Más información"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class TicketManager(models.Manager):\n    ...\n    def tickets_starting_with_a(self):\n        return self.get_queryset().filter(code__istartswith=\"a\")\n    \n    def tickets_starting_with_b(self):\n        return self.get_queryset().filter(code__istartswith=\"b\")\n    ...\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" TicketManager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"models"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"Manager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" tickets_starting_with_a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".get_queryset().filter("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"code__istartswith"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"a\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" tickets_starting_with_b"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".get_queryset().filter("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"code__istartswith"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"b\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"funciones"},"children":[{"type":"text","value":"Funciones"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Las funciones son una forma de encapsular la lógica de negocio que no pertenece a un modelo específico."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si necesita una búsqueda más compleja de objetos relacionados desde una única instancia del modelo, hágalo como un método dentro de la clase del modelo."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from django.contrib.postgres.search import TrigramSimilarity\n\nclass Ticket(TimeStampedModel):\n    ...\n    def get_related_tickets(self):\n        return Ticket.objects.annotate(similarity=TrigramSimilarity(\"code\", self.code))\n            .order_by(\"-similarity\")\n            .filter(similarity__gt=0.2)\n            .exclude(id=self.id)\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" django.contrib.postgres.search "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" TrigramSimilarity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" get_related_tickets"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" Ticket.objects.annotate("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"similarity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"TrigramSimilarity("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".code))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"            .order_by("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"-similarity\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"            .filter("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"similarity__gt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"0.2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"            .exclude("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".id)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si necesita desarrollar la lógica para alguna operación para una única instancia del modelo, hágalo como un método dentro de la clase del modelo."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class User(TimeStampedModel):\n    ...\n    def get_tickets(self):\n        return self.tickets.all()\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" User"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" get_tickets"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".tickets.all()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si necesita desarrollar la lógica para alguna operación para una única instancia de modelo y también necesita campos adicionales, hágalo como un método dentro de la clase de modelo."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class Ticket(TimeStampedModel):\n    ...\n    def get_user_used(self, user):\n        return self.user_id == user.id\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" get_user_used"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".user_id "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" user.id\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Si necesita desarrollar lógica para cualquier instancia del modelo, pero está relacionada con el modelo, hágalo como un método dentro de la clase del modelo."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from django.contrib.postgres.search import SearchQuery, SearchRank, SearchVector\n\nclass Ticket(TimeStampedModel):\n    ...\n    @staticmethod\n    def get_filtered_tickets(code):\n        # Search and ranking to order by relevance\n        vector = SearchVector(\"code\")\n        return Ticket.objects.annotate(rank=SearchRank(vector, SearchQuery(code))).order_by(\"-rank\")\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" django.contrib.postgres.search "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" SearchQuery, SearchRank, SearchVector\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"staticmethod\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" get_filtered_tickets"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#88846F"},"children":[{"type":"text","value":"        # Search and ranking to order by relevance\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        vector "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" SearchVector("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" Ticket.objects.annotate("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"rank"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"SearchRank(vector, SearchQuery(code))).order_by("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"-rank\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"property"},"children":[{"type":"text","value":"Property"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Este decorador debe usarse para devolver variaciones de campos existentes."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"class Ticket(TimeStampedModel):\n    ...\n    @property\n    def code_upper(self):\n        return self.code.upper()\n\n    @property\n    def days_since_creation(self):\n        today = timezone.localdate()\n        return (today - self.created.date()).days\n\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" Ticket"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"TimeStampedModel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"property\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" code_upper"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".code.upper()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"    @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"property\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" days_since_creation"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        today "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" timezone.localdate()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" (today "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":".created.date()).days\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"django-rest-framework"},"children":[{"type":"text","value":"Django Rest Framework"}]},{"type":"element","tag":"h3","props":{"id":"estructura-de-carpetas"},"children":[{"type":"text","value":"Estructura de carpetas"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dentro de cada aplicación de django debe existir una carpeta api y dentro de ella sus respectivos archivos como: "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"views.py"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"serializers.py"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"urls.py"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"pagination.py"}]},{"type":"text","value":", etc."}]},{"type":"element","tag":"pre","props":{"className":"language-console shiki shiki-themes monokai","code":"users\n├── __init__.py\n├── api\n│   ├── views.py\n│   ├── serializers.py\n│   ├── urls.py\n|   ├── pagination.py\n│   ...\n...\n","language":"console","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"users\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"├── __init__.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"├── api\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── views.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── serializers.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ├── urls.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"|   ├── pagination.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"│   ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Dentro de "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"urls.py"}]},{"type":"text","value":", DRF "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"router.urls"}]},{"type":"text","value":" debe ser el mismo que "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"urlpatterns"}]},{"type":"text","value":".\nDentro del archivo "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"api_router.py"}]},{"type":"text","value":" incluya la referencia de cada "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"urls.py"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from django.urls import include\n\nurlpatterns += [\n    ...\n    path(\"\", include(\"folder_api.app.api.urls\"))\n]\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" django.urls "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" include\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"urlpatterns "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"+="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    path("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", include("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E6DB74"},"children":[{"type":"text","value":"\"folder_api.app.api.urls\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"]\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"próximos-pasos"},"children":[{"type":"text","value":"Próximos pasos"}]},{"type":"element","tag":"h3","props":{"id":"celery"},"children":[{"type":"text","value":"Celery"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Django Cookiecutter ya viene con una implementación de Celery, en la que dentro de cada aplicación de Django definimos un archivo llamado "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"task.py"}]},{"type":"text","value":" y dentro de él colocamos funciones que se ejecutarán en segundo plano con el decorador de apio "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"@celery_app.task"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from config.celery_app import app as celery_app\n\n@celery_app.task\ndef sendEmail(user_id):\n    ...\n    msg = EmailMultiAlternatives(...)\n    msg.send()\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" config.celery_app "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" app "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" celery_app\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":"@celery_app.task\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" sendEmail"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"user_id"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    msg "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" EmailMultiAlternatives("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"    msg.send()\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"La forma más sencilla de hacer uso de estas funciones es llamando a la función y con el método "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"delay()"}]},{"type":"text","value":" le pasamos los parámetros correspondientes."}]},{"type":"element","tag":"pre","props":{"className":"language-py shiki shiki-themes monokai","code":"from folder_api.users.task import sendEmail\n\nclass SignUpSerializer(serializers.Serializer):\n    ...\n    def create(self, validated_data):\n        ...\n        sendEmail.delay(user.id)\n        ...\n","language":"py","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" folder_api.users.task "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F92672"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":" sendEmail\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":" SignUpSerializer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"serializers"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline"},"children":[{"type":"text","value":"Serializer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"    ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#66D9EF;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"    def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#A6E22E"},"children":[{"type":"text","value":" create"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FD971F;--shiki-default-font-style:italic"},"children":[{"type":"text","value":"validated_data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"        ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F8F8F2"},"children":[{"type":"text","value":"        sendEmail.delay(user.id)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#AE81FF"},"children":[{"type":"text","value":"        ...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nota:"}]},{"type":"text","value":" Para poder programar tareas periódicas, puedes usar el administrador de django y usar la biblioteca "},{"type":"element","tag":"a","props":{":target":"_blank","href":"https://github.com/celery/django-celery-beat","rel":["nofollow"]},"children":[{"type":"text","value":"django-celery-beat"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"qué-es-lo-que-buscamos-establecer","depth":2,"text":"¿Qué es lo que buscamos establecer?"},{"id":"django-cookiecutter","depth":2,"text":"Django Cookiecutter"},{"id":"considerar","depth":2,"text":"Considerar","children":[{"id":"configuración-previa","depth":3,"text":"Configuración previa"},{"id":"información-previa","depth":3,"text":"Información previa"}]},{"id":"configuración","depth":2,"text":"Configuración","children":[{"id":"django-camelcase","depth":3,"text":"Django CamelCase"},{"id":"dj-rest-auth","depth":3,"text":"Dj Rest Auth"},{"id":"django-model-utils","depth":3,"text":"Django Model Utils"},{"id":"django-url-filter","depth":3,"text":"Django URL Filter"},{"id":"storages","depth":3,"text":"Storages"}]},{"id":"modelos","depth":2,"text":"Modelos","children":[{"id":"managers","depth":3,"text":"Managers"}]},{"id":"funciones","depth":2,"text":"Funciones","children":[{"id":"property","depth":3,"text":"Property"}]},{"id":"django-rest-framework","depth":2,"text":"Django Rest Framework","children":[{"id":"estructura-de-carpetas","depth":3,"text":"Estructura de carpetas"}]},{"id":"próximos-pasos","depth":2,"text":"Próximos pasos","children":[{"id":"celery","depth":3,"text":"Celery"}]}]}},"_type":"markdown","_id":"content:blog:django-guide.md","_source":"content","_file":"blog/django-guide.md","_extension":"md"}