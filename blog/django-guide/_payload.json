[{"data":1,"prerenderedAt":4010},["ShallowReactive",2],{"content-/blog/django-guide":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"time":11,"tags":12,"author":16,"body":17,"_type":4004,"_id":4005,"_source":4006,"_file":4007,"_stem":4008,"_extension":4009},"/blog/django-guide","blog",false,"es","Guía de principios en Django con Rest Framework","Conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework.","2023-12-08T00:00:00.000Z","8 min",[13,14,15],"Desarrollo","API","Django","RrQq",{"type":18,"children":19,"toc":3977},"root",[20,28,35,60,66,83,111,117,124,153,176,199,229,241,247,279,310,340,363,369,374,380,392,595,601,622,673,679,690,862,868,880,888,1134,1140,1152,1165,1173,1239,1247,1326,1334,1481,1499,1507,1581,1589,1666,1671,1683,1975,1980,1986,1991,2061,2343,2368,2449,2469,2643,2649,2654,2659,2860,2865,2942,2947,3042,3047,3215,3221,3226,3400,3406,3412,3446,3524,3566,3661,3667,3673,3693,3811,3824,3954,3971],{"type":21,"tag":22,"props":23,"children":24},"element","p",{},[25],{"type":26,"value":27},"text","El objetivo de esta guía no es mostrar una verdad absoluta, sino mostrar un conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework.",{"type":21,"tag":29,"props":30,"children":32},"h2",{"id":31},"qué-es-lo-que-buscamos-establecer",[33],{"type":26,"value":34},"¿Qué es lo que buscamos establecer?",{"type":21,"tag":36,"props":37,"children":38},"ul",{},[39,45,50,55],{"type":21,"tag":40,"props":41,"children":42},"li",{},[43],{"type":26,"value":44},"Establecer buenas prácticas para el manejo de información dentro de un proyecto django.",{"type":21,"tag":40,"props":46,"children":47},{},[48],{"type":26,"value":49},"Establecer un lugar claro para colocar la 'lógica empresarial'.",{"type":21,"tag":40,"props":51,"children":52},{},[53],{"type":26,"value":54},"Mantenga el código limpio y fácil de leer. Y que cualquier desarrollador del equipo podrá modificar, actualizar, etc.",{"type":21,"tag":40,"props":56,"children":57},{},[58],{"type":26,"value":59},"Establecer consensos para el desarrollo de proyectos de manera transparente.",{"type":21,"tag":29,"props":61,"children":63},{"id":62},"django-cookiecutter",[64],{"type":26,"value":65},"Django Cookiecutter",{"type":21,"tag":22,"props":67,"children":68},{},[69,71,81],{"type":26,"value":70},"Para proyectos Django, utilizamos la estructura de ",{"type":21,"tag":72,"props":73,"children":78},"a",{":target":74,"href":75,"rel":76},"_blank","https://github.com/cookiecutter/cookiecutter-django",[77],"nofollow",[79],{"type":26,"value":80},"Pydanny",{"type":26,"value":82},".",{"type":21,"tag":36,"props":84,"children":85},{},[86,91,96,101,106],{"type":21,"tag":40,"props":87,"children":88},{},[89],{"type":26,"value":90},"En cuanto al proveedor de la nube, utilizamos AWS.",{"type":21,"tag":40,"props":92,"children":93},{},[94],{"type":26,"value":95},"Usamos Docker.",{"type":21,"tag":40,"props":97,"children":98},{},[99],{"type":26,"value":100},"Respecto al servidor de correo, otro SMTP.",{"type":21,"tag":40,"props":102,"children":103},{},[104],{"type":26,"value":105},"De momento no utilizamos ningún compresor, los proyectos no son open source, ni whitenoise ni sentry.",{"type":21,"tag":40,"props":107,"children":108},{},[109],{"type":26,"value":110},"Normalmente eliminamos la biblioteca django-debug-toolbar de la configuración del proyecto local.",{"type":21,"tag":29,"props":112,"children":114},{"id":113},"considerar",[115],{"type":26,"value":116},"Considerar",{"type":21,"tag":118,"props":119,"children":121},"h3",{"id":120},"configuración-previa",[122],{"type":26,"value":123},"Configuración previa",{"type":21,"tag":22,"props":125,"children":126},{},[127,129,134,136,143,145,152],{"type":26,"value":128},"En la documentación de ",{"type":21,"tag":72,"props":130,"children":132},{":target":74,"href":75,"rel":131},[77],[133],{"type":26,"value":65},{"type":26,"value":135},". viene configurado con un linter como ",{"type":21,"tag":72,"props":137,"children":140},{":target":74,"href":138,"rel":139},"https://pypi.org/project/flake8/",[77],[141],{"type":26,"value":142},"Flake8",{"type":26,"value":144}," y con un formateador como ",{"type":21,"tag":72,"props":146,"children":149},{":target":74,"href":147,"rel":148},"https://pypi.org/project/black/",[77],[150],{"type":26,"value":151},"Black",{"type":26,"value":82},{"type":21,"tag":22,"props":154,"children":155},{},[156,158,165,167,174],{"type":26,"value":157},"Para aprovechar el uso del linter Flake8(PyCharm, VsCode), necesitamos configurar nuestro editor de código para usar este linter para Python. Lo mismo ocurre con Black (",{"type":21,"tag":72,"props":159,"children":162},{":target":74,"href":160,"rel":161},"https://black.readthedocs.io/en/stable/integrations/editors.html#pycharm-intellij-idea",[77],[163],{"type":26,"value":164},"PyCharm",{"type":26,"value":166}," y ",{"type":21,"tag":72,"props":168,"children":171},{":target":74,"href":169,"rel":170},"https://dev.to/adamlombard/how-to-use-the-black-python-code-formatter-in-vscode-3lo0",[77],[172],{"type":26,"value":173},"VsCode",{"type":26,"value":175},").",{"type":21,"tag":36,"props":177,"children":178},{},[179,184,189,194],{"type":21,"tag":40,"props":180,"children":181},{},[182],{"type":26,"value":183},"Lo ideal es que al guardar un cambio se revise la sintaxis y se formatee nuestro código.",{"type":21,"tag":40,"props":185,"children":186},{},[187],{"type":26,"value":188},"Con negro utilizamos 129 caracteres como longitud de línea.",{"type":21,"tag":40,"props":190,"children":191},{},[192],{"type":26,"value":193},"Otra forma de utilizar la sintaxis de verificación es mediante la confirmación previa.",{"type":21,"tag":40,"props":195,"children":196},{},[197],{"type":26,"value":198},"Para activar la configuración previa a la confirmación en el proyecto, ejecute este comando:",{"type":21,"tag":200,"props":201,"children":206},"pre",{"className":202,"code":203,"language":204,"meta":205,"style":205},"language-sh shiki shiki-themes monokai","pre-commit install\n","sh","",[207],{"type":21,"tag":208,"props":209,"children":210},"code",{"__ignoreMap":205},[211],{"type":21,"tag":212,"props":213,"children":216},"span",{"class":214,"line":215},"line",1,[217,223],{"type":21,"tag":212,"props":218,"children":220},{"style":219},"--shiki-default:#A6E22E",[221],{"type":26,"value":222},"pre-commit",{"type":21,"tag":212,"props":224,"children":226},{"style":225},"--shiki-default:#E6DB74",[227],{"type":26,"value":228}," install\n",{"type":21,"tag":22,"props":230,"children":231},{},[232,234,240],{"type":26,"value":233},"En general se ejecutan módulos como flake8, isort, black, etc. Si desea cambiar algo de esto, consulte el archivo ",{"type":21,"tag":208,"props":235,"children":237},{"className":236},[],[238],{"type":26,"value":239},".pre-commit-config.yaml",{"type":26,"value":82},{"type":21,"tag":118,"props":242,"children":244},{"id":243},"información-previa",[245],{"type":26,"value":246},"Información previa",{"type":21,"tag":22,"props":248,"children":249},{},[250,256,258,263,265,270,272,278],{"type":21,"tag":251,"props":252,"children":253},"strong",{},[254],{"type":26,"value":255},"El Directorio de Aplicaciones de Django",{"type":26,"value":257}," guarda los modelos que están relacionados, debe escribirse en ",{"type":21,"tag":251,"props":259,"children":260},{},[261],{"type":26,"value":262},"plural",{"type":26,"value":264}," y en ",{"type":21,"tag":251,"props":266,"children":267},{},[268],{"type":26,"value":269},"minúsculas",{"type":26,"value":271},". Por ejemplo ",{"type":21,"tag":208,"props":273,"children":275},{"className":274},[],[276],{"type":26,"value":277},"users",{"type":26,"value":82},{"type":21,"tag":22,"props":280,"children":281},{},[282,284,289,291,296,297,302,303,309],{"type":26,"value":283},"Los nombres de los ",{"type":21,"tag":251,"props":285,"children":286},{},[287],{"type":26,"value":288},"modelos",{"type":26,"value":290}," deben estar en ",{"type":21,"tag":251,"props":292,"children":293},{},[294],{"type":26,"value":295},"singular",{"type":26,"value":264},{"type":21,"tag":251,"props":298,"children":299},{},[300],{"type":26,"value":301},"PascalCase",{"type":26,"value":271},{"type":21,"tag":208,"props":304,"children":306},{"className":305},[],[307],{"type":26,"value":308},"Ticket",{"type":26,"value":82},{"type":21,"tag":22,"props":311,"children":312},{},[313,318,320,325,327,332,333,339],{"type":21,"tag":251,"props":314,"children":315},{},[316],{"type":26,"value":317},"Los campos",{"type":26,"value":319}," deben ser ",{"type":21,"tag":251,"props":321,"children":322},{},[323],{"type":26,"value":324},"singulares",{"type":26,"value":326}," y estar en ",{"type":21,"tag":251,"props":328,"children":329},{},[330],{"type":26,"value":331},"Snake_case",{"type":26,"value":271},{"type":21,"tag":208,"props":334,"children":336},{"className":335},[],[337],{"type":26,"value":338},"price_type",{"type":26,"value":82},{"type":21,"tag":22,"props":341,"children":342},{},[343,348,350,355,356,362],{"type":21,"tag":251,"props":344,"children":345},{},[346],{"type":26,"value":347},"Las funciones",{"type":26,"value":349}," deben comenzar con un verbo y estar en ",{"type":21,"tag":251,"props":351,"children":352},{},[353],{"type":26,"value":354},"snake_case",{"type":26,"value":271},{"type":21,"tag":208,"props":357,"children":359},{"className":358},[],[360],{"type":26,"value":361},"get_related_tickets",{"type":26,"value":82},{"type":21,"tag":29,"props":364,"children":366},{"id":365},"configuración",[367],{"type":26,"value":368},"Configuración",{"type":21,"tag":22,"props":370,"children":371},{},[372],{"type":26,"value":373},"En cuanto a la configuración predeterminada de Django Cookiecutter, agregamos algunas bibliotecas relacionadas como estas:",{"type":21,"tag":118,"props":375,"children":377},{"id":376},"django-camelcase",[378],{"type":26,"value":379},"Django CamelCase",{"type":21,"tag":22,"props":381,"children":382},{},[383,390],{"type":21,"tag":72,"props":384,"children":387},{":target":74,"href":385,"rel":386},"https://github.com/vbabiy/djangorestframework-camel-case",[77],[388],{"type":26,"value":389},"Django REST Framework JSON CamelCase",{"type":26,"value":391}," para obtener una salida y entrada del analizador Json con formato CamelCase.",{"type":21,"tag":200,"props":393,"children":397},{"className":394,"code":395,"language":396,"meta":205,"style":205},"language-py shiki shiki-themes monokai","REST_FRAMEWORK = {\n    ...\n    \"DEFAULT_RENDERER_CLASSES\": (\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\",),\n    \"DEFAULT_PARSER_CLASSES\": (\n        \"djangorestframework_camel_case.parser.CamelCaseFormParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\",\n    ),\n    \"JSON_UNDERSCOREIZE\": {\n        \"no_underscore_before_number\": True,\n    },\n    \"COERCE_DECIMAL_TO_STRING\": False,\n}\n","py",[398],{"type":21,"tag":208,"props":399,"children":400},{"__ignoreMap":205},[401,422,431,455,469,483,496,509,518,532,555,564,586],{"type":21,"tag":212,"props":402,"children":403},{"class":214,"line":215},[404,410,416],{"type":21,"tag":212,"props":405,"children":407},{"style":406},"--shiki-default:#AE81FF",[408],{"type":26,"value":409},"REST_FRAMEWORK",{"type":21,"tag":212,"props":411,"children":413},{"style":412},"--shiki-default:#F92672",[414],{"type":26,"value":415}," =",{"type":21,"tag":212,"props":417,"children":419},{"style":418},"--shiki-default:#F8F8F2",[420],{"type":26,"value":421}," {\n",{"type":21,"tag":212,"props":423,"children":425},{"class":214,"line":424},2,[426],{"type":21,"tag":212,"props":427,"children":428},{"style":406},[429],{"type":26,"value":430},"    ...\n",{"type":21,"tag":212,"props":432,"children":434},{"class":214,"line":433},3,[435,440,445,450],{"type":21,"tag":212,"props":436,"children":437},{"style":225},[438],{"type":26,"value":439},"    \"DEFAULT_RENDERER_CLASSES\"",{"type":21,"tag":212,"props":441,"children":442},{"style":418},[443],{"type":26,"value":444},": (",{"type":21,"tag":212,"props":446,"children":447},{"style":225},[448],{"type":26,"value":449},"\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\"",{"type":21,"tag":212,"props":451,"children":452},{"style":418},[453],{"type":26,"value":454},",),\n",{"type":21,"tag":212,"props":456,"children":458},{"class":214,"line":457},4,[459,464],{"type":21,"tag":212,"props":460,"children":461},{"style":225},[462],{"type":26,"value":463},"    \"DEFAULT_PARSER_CLASSES\"",{"type":21,"tag":212,"props":465,"children":466},{"style":418},[467],{"type":26,"value":468},": (\n",{"type":21,"tag":212,"props":470,"children":472},{"class":214,"line":471},5,[473,478],{"type":21,"tag":212,"props":474,"children":475},{"style":225},[476],{"type":26,"value":477},"        \"djangorestframework_camel_case.parser.CamelCaseFormParser\"",{"type":21,"tag":212,"props":479,"children":480},{"style":418},[481],{"type":26,"value":482},",\n",{"type":21,"tag":212,"props":484,"children":486},{"class":214,"line":485},6,[487,492],{"type":21,"tag":212,"props":488,"children":489},{"style":225},[490],{"type":26,"value":491},"        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\"",{"type":21,"tag":212,"props":493,"children":494},{"style":418},[495],{"type":26,"value":482},{"type":21,"tag":212,"props":497,"children":499},{"class":214,"line":498},7,[500,505],{"type":21,"tag":212,"props":501,"children":502},{"style":225},[503],{"type":26,"value":504},"        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\"",{"type":21,"tag":212,"props":506,"children":507},{"style":418},[508],{"type":26,"value":482},{"type":21,"tag":212,"props":510,"children":512},{"class":214,"line":511},8,[513],{"type":21,"tag":212,"props":514,"children":515},{"style":418},[516],{"type":26,"value":517},"    ),\n",{"type":21,"tag":212,"props":519,"children":521},{"class":214,"line":520},9,[522,527],{"type":21,"tag":212,"props":523,"children":524},{"style":225},[525],{"type":26,"value":526},"    \"JSON_UNDERSCOREIZE\"",{"type":21,"tag":212,"props":528,"children":529},{"style":418},[530],{"type":26,"value":531},": {\n",{"type":21,"tag":212,"props":533,"children":535},{"class":214,"line":534},10,[536,541,546,551],{"type":21,"tag":212,"props":537,"children":538},{"style":225},[539],{"type":26,"value":540},"        \"no_underscore_before_number\"",{"type":21,"tag":212,"props":542,"children":543},{"style":418},[544],{"type":26,"value":545},": ",{"type":21,"tag":212,"props":547,"children":548},{"style":406},[549],{"type":26,"value":550},"True",{"type":21,"tag":212,"props":552,"children":553},{"style":418},[554],{"type":26,"value":482},{"type":21,"tag":212,"props":556,"children":558},{"class":214,"line":557},11,[559],{"type":21,"tag":212,"props":560,"children":561},{"style":418},[562],{"type":26,"value":563},"    },\n",{"type":21,"tag":212,"props":565,"children":567},{"class":214,"line":566},12,[568,573,577,582],{"type":21,"tag":212,"props":569,"children":570},{"style":225},[571],{"type":26,"value":572},"    \"COERCE_DECIMAL_TO_STRING\"",{"type":21,"tag":212,"props":574,"children":575},{"style":418},[576],{"type":26,"value":545},{"type":21,"tag":212,"props":578,"children":579},{"style":406},[580],{"type":26,"value":581},"False",{"type":21,"tag":212,"props":583,"children":584},{"style":418},[585],{"type":26,"value":482},{"type":21,"tag":212,"props":587,"children":589},{"class":214,"line":588},13,[590],{"type":21,"tag":212,"props":591,"children":592},{"style":418},[593],{"type":26,"value":594},"}\n",{"type":21,"tag":118,"props":596,"children":598},{"id":597},"dj-rest-auth",[599],{"type":26,"value":600},"Dj Rest Auth",{"type":21,"tag":22,"props":602,"children":603},{},[604,611,613,620],{"type":21,"tag":72,"props":605,"children":608},{":target":74,"href":606,"rel":607},"https://github.com/iMerica/dj-rest-auth",[77],[609],{"type":26,"value":610},"Dj-Rest-Auth",{"type":26,"value":612}," nos proporciona puntos finales API directos para manejar de forma segura la autenticación en Django.\nSi necesitamos cambiar un ",{"type":21,"tag":72,"props":614,"children":617},{":target":74,"href":615,"rel":616},"https://dj-rest-auth.readthedocs.io/en/latest/configuration.html",[77],[618],{"type":26,"value":619},"serializador",{"type":26,"value":621}," predeterminado, podemos usar:",{"type":21,"tag":200,"props":623,"children":625},{"className":394,"code":624,"language":396,"meta":205,"style":205},"  REST_AUTH_SERIALIZERS = {\n    \"LOGIN_SERIALIZER\": \"folder_api.users.api.serializers.MyLoginSerializer\",\n}\n",[626],{"type":21,"tag":208,"props":627,"children":628},{"__ignoreMap":205},[629,645,666],{"type":21,"tag":212,"props":630,"children":631},{"class":214,"line":215},[632,637,641],{"type":21,"tag":212,"props":633,"children":634},{"style":406},[635],{"type":26,"value":636},"  REST_AUTH_SERIALIZERS",{"type":21,"tag":212,"props":638,"children":639},{"style":412},[640],{"type":26,"value":415},{"type":21,"tag":212,"props":642,"children":643},{"style":418},[644],{"type":26,"value":421},{"type":21,"tag":212,"props":646,"children":647},{"class":214,"line":424},[648,653,657,662],{"type":21,"tag":212,"props":649,"children":650},{"style":225},[651],{"type":26,"value":652},"    \"LOGIN_SERIALIZER\"",{"type":21,"tag":212,"props":654,"children":655},{"style":418},[656],{"type":26,"value":545},{"type":21,"tag":212,"props":658,"children":659},{"style":225},[660],{"type":26,"value":661},"\"folder_api.users.api.serializers.MyLoginSerializer\"",{"type":21,"tag":212,"props":663,"children":664},{"style":418},[665],{"type":26,"value":482},{"type":21,"tag":212,"props":667,"children":668},{"class":214,"line":433},[669],{"type":21,"tag":212,"props":670,"children":671},{"style":418},[672],{"type":26,"value":594},{"type":21,"tag":118,"props":674,"children":676},{"id":675},"django-model-utils",[677],{"type":26,"value":678},"Django Model Utils",{"type":21,"tag":22,"props":680,"children":681},{},[682,688],{"type":21,"tag":72,"props":683,"children":686},{":target":74,"href":684,"rel":685},"https://github.com/jazzband/django-model-utils",[77],[687],{"type":26,"value":678},{"type":26,"value":689}," nos proporciona utilidades para modelos y campos. Entre estos tenemos un modelo abstracto para manejar las fechas de creación y modificación.",{"type":21,"tag":200,"props":691,"children":693},{"className":394,"code":692,"language":396,"meta":205,"style":205},"from model_utils.models import TimeStampedModel\nfrom model_utils.fields import UUIDField\n\nclass Ticket(TimeStampedModel):\n  uuid = UUIDField(primary_key=True, version=4, editable=False)\n  ...\n",[694],{"type":21,"tag":208,"props":695,"children":696},{"__ignoreMap":205},[697,720,741,750,781,854],{"type":21,"tag":212,"props":698,"children":699},{"class":214,"line":215},[700,705,710,715],{"type":21,"tag":212,"props":701,"children":702},{"style":412},[703],{"type":26,"value":704},"from",{"type":21,"tag":212,"props":706,"children":707},{"style":418},[708],{"type":26,"value":709}," model_utils.models ",{"type":21,"tag":212,"props":711,"children":712},{"style":412},[713],{"type":26,"value":714},"import",{"type":21,"tag":212,"props":716,"children":717},{"style":418},[718],{"type":26,"value":719}," TimeStampedModel\n",{"type":21,"tag":212,"props":721,"children":722},{"class":214,"line":424},[723,727,732,736],{"type":21,"tag":212,"props":724,"children":725},{"style":412},[726],{"type":26,"value":704},{"type":21,"tag":212,"props":728,"children":729},{"style":418},[730],{"type":26,"value":731}," model_utils.fields ",{"type":21,"tag":212,"props":733,"children":734},{"style":412},[735],{"type":26,"value":714},{"type":21,"tag":212,"props":737,"children":738},{"style":418},[739],{"type":26,"value":740}," UUIDField\n",{"type":21,"tag":212,"props":742,"children":743},{"class":214,"line":433},[744],{"type":21,"tag":212,"props":745,"children":747},{"emptyLinePlaceholder":746},true,[748],{"type":26,"value":749},"\n",{"type":21,"tag":212,"props":751,"children":752},{"class":214,"line":457},[753,759,765,770,776],{"type":21,"tag":212,"props":754,"children":756},{"style":755},"--shiki-default:#66D9EF;--shiki-default-font-style:italic",[757],{"type":26,"value":758},"class",{"type":21,"tag":212,"props":760,"children":762},{"style":761},"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline",[763],{"type":26,"value":764}," Ticket",{"type":21,"tag":212,"props":766,"children":767},{"style":418},[768],{"type":26,"value":769},"(",{"type":21,"tag":212,"props":771,"children":773},{"style":772},"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline",[774],{"type":26,"value":775},"TimeStampedModel",{"type":21,"tag":212,"props":777,"children":778},{"style":418},[779],{"type":26,"value":780},"):\n",{"type":21,"tag":212,"props":782,"children":783},{"class":214,"line":471},[784,789,794,799,805,809,813,818,823,827,832,836,841,845,849],{"type":21,"tag":212,"props":785,"children":786},{"style":418},[787],{"type":26,"value":788},"  uuid ",{"type":21,"tag":212,"props":790,"children":791},{"style":412},[792],{"type":26,"value":793},"=",{"type":21,"tag":212,"props":795,"children":796},{"style":418},[797],{"type":26,"value":798}," UUIDField(",{"type":21,"tag":212,"props":800,"children":802},{"style":801},"--shiki-default:#FD971F;--shiki-default-font-style:italic",[803],{"type":26,"value":804},"primary_key",{"type":21,"tag":212,"props":806,"children":807},{"style":412},[808],{"type":26,"value":793},{"type":21,"tag":212,"props":810,"children":811},{"style":406},[812],{"type":26,"value":550},{"type":21,"tag":212,"props":814,"children":815},{"style":418},[816],{"type":26,"value":817},", ",{"type":21,"tag":212,"props":819,"children":820},{"style":801},[821],{"type":26,"value":822},"version",{"type":21,"tag":212,"props":824,"children":825},{"style":412},[826],{"type":26,"value":793},{"type":21,"tag":212,"props":828,"children":829},{"style":406},[830],{"type":26,"value":831},"4",{"type":21,"tag":212,"props":833,"children":834},{"style":418},[835],{"type":26,"value":817},{"type":21,"tag":212,"props":837,"children":838},{"style":801},[839],{"type":26,"value":840},"editable",{"type":21,"tag":212,"props":842,"children":843},{"style":412},[844],{"type":26,"value":793},{"type":21,"tag":212,"props":846,"children":847},{"style":406},[848],{"type":26,"value":581},{"type":21,"tag":212,"props":850,"children":851},{"style":418},[852],{"type":26,"value":853},")\n",{"type":21,"tag":212,"props":855,"children":856},{"class":214,"line":485},[857],{"type":21,"tag":212,"props":858,"children":859},{"style":406},[860],{"type":26,"value":861},"  ...\n",{"type":21,"tag":118,"props":863,"children":865},{"id":864},"django-url-filter",[866],{"type":26,"value":867},"Django URL Filter",{"type":21,"tag":22,"props":869,"children":870},{},[871,878],{"type":21,"tag":72,"props":872,"children":875},{":target":74,"href":873,"rel":874},"https://pypi.org/project/django-url-filter/",[77],[876],{"type":26,"value":877},"Django Url Filter",{"type":26,"value":879}," nos proporciona una interfaz URL simple para filtrar datos, entre campos y relaciones.",{"type":21,"tag":36,"props":881,"children":882},{},[883],{"type":21,"tag":40,"props":884,"children":885},{},[886],{"type":26,"value":887},"Si necesitas agregarlo dentro de una acción, puedes hacerlo de esta manera:",{"type":21,"tag":200,"props":889,"children":891},{"className":394,"code":890,"language":396,"meta":205,"style":205},"from url_filter.integrations.drf import DjangoFilterBackend\n\nclass TicketViewSet(GenericViewSet):\n    ...\n    filter_backends = [DjangoFilterBackend]\n    filter_fields = [\"uuid\"]\n    ...\n    @action(detail=False, methods=[\"GET\"])\n    def defeated(self, request):\n        productos = self.filter_queryset(self.get_queryset())\n        ...\n",[892],{"type":21,"tag":208,"props":893,"children":894},{"__ignoreMap":205},[895,916,923,948,955,972,999,1006,1059,1094,1126],{"type":21,"tag":212,"props":896,"children":897},{"class":214,"line":215},[898,902,907,911],{"type":21,"tag":212,"props":899,"children":900},{"style":412},[901],{"type":26,"value":704},{"type":21,"tag":212,"props":903,"children":904},{"style":418},[905],{"type":26,"value":906}," url_filter.integrations.drf ",{"type":21,"tag":212,"props":908,"children":909},{"style":412},[910],{"type":26,"value":714},{"type":21,"tag":212,"props":912,"children":913},{"style":418},[914],{"type":26,"value":915}," DjangoFilterBackend\n",{"type":21,"tag":212,"props":917,"children":918},{"class":214,"line":424},[919],{"type":21,"tag":212,"props":920,"children":921},{"emptyLinePlaceholder":746},[922],{"type":26,"value":749},{"type":21,"tag":212,"props":924,"children":925},{"class":214,"line":433},[926,930,935,939,944],{"type":21,"tag":212,"props":927,"children":928},{"style":755},[929],{"type":26,"value":758},{"type":21,"tag":212,"props":931,"children":932},{"style":761},[933],{"type":26,"value":934}," TicketViewSet",{"type":21,"tag":212,"props":936,"children":937},{"style":418},[938],{"type":26,"value":769},{"type":21,"tag":212,"props":940,"children":941},{"style":772},[942],{"type":26,"value":943},"GenericViewSet",{"type":21,"tag":212,"props":945,"children":946},{"style":418},[947],{"type":26,"value":780},{"type":21,"tag":212,"props":949,"children":950},{"class":214,"line":457},[951],{"type":21,"tag":212,"props":952,"children":953},{"style":406},[954],{"type":26,"value":430},{"type":21,"tag":212,"props":956,"children":957},{"class":214,"line":471},[958,963,967],{"type":21,"tag":212,"props":959,"children":960},{"style":418},[961],{"type":26,"value":962},"    filter_backends ",{"type":21,"tag":212,"props":964,"children":965},{"style":412},[966],{"type":26,"value":793},{"type":21,"tag":212,"props":968,"children":969},{"style":418},[970],{"type":26,"value":971}," [DjangoFilterBackend]\n",{"type":21,"tag":212,"props":973,"children":974},{"class":214,"line":485},[975,980,984,989,994],{"type":21,"tag":212,"props":976,"children":977},{"style":418},[978],{"type":26,"value":979},"    filter_fields ",{"type":21,"tag":212,"props":981,"children":982},{"style":412},[983],{"type":26,"value":793},{"type":21,"tag":212,"props":985,"children":986},{"style":418},[987],{"type":26,"value":988}," [",{"type":21,"tag":212,"props":990,"children":991},{"style":225},[992],{"type":26,"value":993},"\"uuid\"",{"type":21,"tag":212,"props":995,"children":996},{"style":418},[997],{"type":26,"value":998},"]\n",{"type":21,"tag":212,"props":1000,"children":1001},{"class":214,"line":498},[1002],{"type":21,"tag":212,"props":1003,"children":1004},{"style":406},[1005],{"type":26,"value":430},{"type":21,"tag":212,"props":1007,"children":1008},{"class":214,"line":511},[1009,1014,1018,1023,1027,1031,1035,1040,1044,1049,1054],{"type":21,"tag":212,"props":1010,"children":1011},{"style":219},[1012],{"type":26,"value":1013},"    @action",{"type":21,"tag":212,"props":1015,"children":1016},{"style":418},[1017],{"type":26,"value":769},{"type":21,"tag":212,"props":1019,"children":1020},{"style":801},[1021],{"type":26,"value":1022},"detail",{"type":21,"tag":212,"props":1024,"children":1025},{"style":412},[1026],{"type":26,"value":793},{"type":21,"tag":212,"props":1028,"children":1029},{"style":406},[1030],{"type":26,"value":581},{"type":21,"tag":212,"props":1032,"children":1033},{"style":418},[1034],{"type":26,"value":817},{"type":21,"tag":212,"props":1036,"children":1037},{"style":801},[1038],{"type":26,"value":1039},"methods",{"type":21,"tag":212,"props":1041,"children":1042},{"style":412},[1043],{"type":26,"value":793},{"type":21,"tag":212,"props":1045,"children":1046},{"style":418},[1047],{"type":26,"value":1048},"[",{"type":21,"tag":212,"props":1050,"children":1051},{"style":225},[1052],{"type":26,"value":1053},"\"GET\"",{"type":21,"tag":212,"props":1055,"children":1056},{"style":418},[1057],{"type":26,"value":1058},"])\n",{"type":21,"tag":212,"props":1060,"children":1061},{"class":214,"line":520},[1062,1067,1072,1076,1081,1085,1090],{"type":21,"tag":212,"props":1063,"children":1064},{"style":755},[1065],{"type":26,"value":1066},"    def",{"type":21,"tag":212,"props":1068,"children":1069},{"style":219},[1070],{"type":26,"value":1071}," defeated",{"type":21,"tag":212,"props":1073,"children":1074},{"style":418},[1075],{"type":26,"value":769},{"type":21,"tag":212,"props":1077,"children":1078},{"style":801},[1079],{"type":26,"value":1080},"self",{"type":21,"tag":212,"props":1082,"children":1083},{"style":418},[1084],{"type":26,"value":817},{"type":21,"tag":212,"props":1086,"children":1087},{"style":801},[1088],{"type":26,"value":1089},"request",{"type":21,"tag":212,"props":1091,"children":1092},{"style":418},[1093],{"type":26,"value":780},{"type":21,"tag":212,"props":1095,"children":1096},{"class":214,"line":534},[1097,1102,1106,1112,1117,1121],{"type":21,"tag":212,"props":1098,"children":1099},{"style":418},[1100],{"type":26,"value":1101},"        productos ",{"type":21,"tag":212,"props":1103,"children":1104},{"style":412},[1105],{"type":26,"value":793},{"type":21,"tag":212,"props":1107,"children":1109},{"style":1108},"--shiki-default:#FD971F",[1110],{"type":26,"value":1111}," self",{"type":21,"tag":212,"props":1113,"children":1114},{"style":418},[1115],{"type":26,"value":1116},".filter_queryset(",{"type":21,"tag":212,"props":1118,"children":1119},{"style":1108},[1120],{"type":26,"value":1080},{"type":21,"tag":212,"props":1122,"children":1123},{"style":418},[1124],{"type":26,"value":1125},".get_queryset())\n",{"type":21,"tag":212,"props":1127,"children":1128},{"class":214,"line":557},[1129],{"type":21,"tag":212,"props":1130,"children":1131},{"style":406},[1132],{"type":26,"value":1133},"        ...\n",{"type":21,"tag":118,"props":1135,"children":1137},{"id":1136},"storages",[1138],{"type":26,"value":1139},"Storages",{"type":21,"tag":22,"props":1141,"children":1142},{},[1143,1150],{"type":21,"tag":72,"props":1144,"children":1147},{":target":74,"href":1145,"rel":1146},"https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html",[77],[1148],{"type":26,"value":1149},"Django Storages",{"type":26,"value":1151}," nos proporciona un conjunto de backends de almacenamiento para Django. Estos backends proporcionan compatibilidad con el almacenamiento de archivos en Amazon S3, Azure Storage, Google Cloud Storage, etc.",{"type":21,"tag":22,"props":1153,"children":1154},{},[1155,1157,1163],{"type":26,"value":1156},"La configuración la podemos mantener dentro de un archivo ",{"type":21,"tag":208,"props":1158,"children":1160},{"className":1159},[],[1161],{"type":26,"value":1162},"storages.py",{"type":26,"value":1164}," dentro de la carpeta utils.",{"type":21,"tag":36,"props":1166,"children":1167},{},[1168],{"type":21,"tag":40,"props":1169,"children":1170},{},[1171],{"type":26,"value":1172},"Generalmente permitimos que los archivos estáticos sean legibles públicamente:",{"type":21,"tag":200,"props":1174,"children":1176},{"className":394,"code":1175,"language":396,"meta":205,"style":205},"class StaticRootS3Boto3Storage(S3Boto3Storage):\n    location = \"static\"\n    default_acl = \"public-read\"\n",[1177],{"type":21,"tag":208,"props":1178,"children":1179},{"__ignoreMap":205},[1180,1205,1222],{"type":21,"tag":212,"props":1181,"children":1182},{"class":214,"line":215},[1183,1187,1192,1196,1201],{"type":21,"tag":212,"props":1184,"children":1185},{"style":755},[1186],{"type":26,"value":758},{"type":21,"tag":212,"props":1188,"children":1189},{"style":761},[1190],{"type":26,"value":1191}," StaticRootS3Boto3Storage",{"type":21,"tag":212,"props":1193,"children":1194},{"style":418},[1195],{"type":26,"value":769},{"type":21,"tag":212,"props":1197,"children":1198},{"style":772},[1199],{"type":26,"value":1200},"S3Boto3Storage",{"type":21,"tag":212,"props":1202,"children":1203},{"style":418},[1204],{"type":26,"value":780},{"type":21,"tag":212,"props":1206,"children":1207},{"class":214,"line":424},[1208,1213,1217],{"type":21,"tag":212,"props":1209,"children":1210},{"style":418},[1211],{"type":26,"value":1212},"    location ",{"type":21,"tag":212,"props":1214,"children":1215},{"style":412},[1216],{"type":26,"value":793},{"type":21,"tag":212,"props":1218,"children":1219},{"style":225},[1220],{"type":26,"value":1221}," \"static\"\n",{"type":21,"tag":212,"props":1223,"children":1224},{"class":214,"line":433},[1225,1230,1234],{"type":21,"tag":212,"props":1226,"children":1227},{"style":418},[1228],{"type":26,"value":1229},"    default_acl ",{"type":21,"tag":212,"props":1231,"children":1232},{"style":412},[1233],{"type":26,"value":793},{"type":21,"tag":212,"props":1235,"children":1236},{"style":225},[1237],{"type":26,"value":1238}," \"public-read\"\n",{"type":21,"tag":36,"props":1240,"children":1241},{},[1242],{"type":21,"tag":40,"props":1243,"children":1244},{},[1245],{"type":26,"value":1246},"En el caso de mantener los archivos multimedia legibles públicamente:",{"type":21,"tag":200,"props":1248,"children":1250},{"className":394,"code":1249,"language":396,"meta":205,"style":205},"class PublicMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media\"\n    default_acl = \"public-read\"\n    file_overwrite = False\n",[1251],{"type":21,"tag":208,"props":1252,"children":1253},{"__ignoreMap":205},[1254,1278,1294,1309],{"type":21,"tag":212,"props":1255,"children":1256},{"class":214,"line":215},[1257,1261,1266,1270,1274],{"type":21,"tag":212,"props":1258,"children":1259},{"style":755},[1260],{"type":26,"value":758},{"type":21,"tag":212,"props":1262,"children":1263},{"style":761},[1264],{"type":26,"value":1265}," PublicMediaS3Boto3Storage",{"type":21,"tag":212,"props":1267,"children":1268},{"style":418},[1269],{"type":26,"value":769},{"type":21,"tag":212,"props":1271,"children":1272},{"style":772},[1273],{"type":26,"value":1200},{"type":21,"tag":212,"props":1275,"children":1276},{"style":418},[1277],{"type":26,"value":780},{"type":21,"tag":212,"props":1279,"children":1280},{"class":214,"line":424},[1281,1285,1289],{"type":21,"tag":212,"props":1282,"children":1283},{"style":418},[1284],{"type":26,"value":1212},{"type":21,"tag":212,"props":1286,"children":1287},{"style":412},[1288],{"type":26,"value":793},{"type":21,"tag":212,"props":1290,"children":1291},{"style":225},[1292],{"type":26,"value":1293}," \"media\"\n",{"type":21,"tag":212,"props":1295,"children":1296},{"class":214,"line":433},[1297,1301,1305],{"type":21,"tag":212,"props":1298,"children":1299},{"style":418},[1300],{"type":26,"value":1229},{"type":21,"tag":212,"props":1302,"children":1303},{"style":412},[1304],{"type":26,"value":793},{"type":21,"tag":212,"props":1306,"children":1307},{"style":225},[1308],{"type":26,"value":1238},{"type":21,"tag":212,"props":1310,"children":1311},{"class":214,"line":457},[1312,1317,1321],{"type":21,"tag":212,"props":1313,"children":1314},{"style":418},[1315],{"type":26,"value":1316},"    file_overwrite ",{"type":21,"tag":212,"props":1318,"children":1319},{"style":412},[1320],{"type":26,"value":793},{"type":21,"tag":212,"props":1322,"children":1323},{"style":406},[1324],{"type":26,"value":1325}," False\n",{"type":21,"tag":36,"props":1327,"children":1328},{},[1329],{"type":21,"tag":40,"props":1330,"children":1331},{},[1332],{"type":26,"value":1333},"Pero en caso de que necesite crear una carpeta con archivos multimedia privados.",{"type":21,"tag":200,"props":1335,"children":1337},{"className":394,"code":1336,"language":396,"meta":205,"style":205},"class PrivateMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media-private\"\n    default_acl = \"private\"\n    file_overwrite = False\n    querystring_auth = True\n    querystring_expire = 60 * 60 * 12\n    region_name = \"us-east-2\"\n",[1338],{"type":21,"tag":208,"props":1339,"children":1340},{"__ignoreMap":205},[1341,1365,1381,1397,1412,1429,1464],{"type":21,"tag":212,"props":1342,"children":1343},{"class":214,"line":215},[1344,1348,1353,1357,1361],{"type":21,"tag":212,"props":1345,"children":1346},{"style":755},[1347],{"type":26,"value":758},{"type":21,"tag":212,"props":1349,"children":1350},{"style":761},[1351],{"type":26,"value":1352}," PrivateMediaS3Boto3Storage",{"type":21,"tag":212,"props":1354,"children":1355},{"style":418},[1356],{"type":26,"value":769},{"type":21,"tag":212,"props":1358,"children":1359},{"style":772},[1360],{"type":26,"value":1200},{"type":21,"tag":212,"props":1362,"children":1363},{"style":418},[1364],{"type":26,"value":780},{"type":21,"tag":212,"props":1366,"children":1367},{"class":214,"line":424},[1368,1372,1376],{"type":21,"tag":212,"props":1369,"children":1370},{"style":418},[1371],{"type":26,"value":1212},{"type":21,"tag":212,"props":1373,"children":1374},{"style":412},[1375],{"type":26,"value":793},{"type":21,"tag":212,"props":1377,"children":1378},{"style":225},[1379],{"type":26,"value":1380}," \"media-private\"\n",{"type":21,"tag":212,"props":1382,"children":1383},{"class":214,"line":433},[1384,1388,1392],{"type":21,"tag":212,"props":1385,"children":1386},{"style":418},[1387],{"type":26,"value":1229},{"type":21,"tag":212,"props":1389,"children":1390},{"style":412},[1391],{"type":26,"value":793},{"type":21,"tag":212,"props":1393,"children":1394},{"style":225},[1395],{"type":26,"value":1396}," \"private\"\n",{"type":21,"tag":212,"props":1398,"children":1399},{"class":214,"line":457},[1400,1404,1408],{"type":21,"tag":212,"props":1401,"children":1402},{"style":418},[1403],{"type":26,"value":1316},{"type":21,"tag":212,"props":1405,"children":1406},{"style":412},[1407],{"type":26,"value":793},{"type":21,"tag":212,"props":1409,"children":1410},{"style":406},[1411],{"type":26,"value":1325},{"type":21,"tag":212,"props":1413,"children":1414},{"class":214,"line":471},[1415,1420,1424],{"type":21,"tag":212,"props":1416,"children":1417},{"style":418},[1418],{"type":26,"value":1419},"    querystring_auth ",{"type":21,"tag":212,"props":1421,"children":1422},{"style":412},[1423],{"type":26,"value":793},{"type":21,"tag":212,"props":1425,"children":1426},{"style":406},[1427],{"type":26,"value":1428}," True\n",{"type":21,"tag":212,"props":1430,"children":1431},{"class":214,"line":485},[1432,1437,1441,1446,1451,1455,1459],{"type":21,"tag":212,"props":1433,"children":1434},{"style":418},[1435],{"type":26,"value":1436},"    querystring_expire ",{"type":21,"tag":212,"props":1438,"children":1439},{"style":412},[1440],{"type":26,"value":793},{"type":21,"tag":212,"props":1442,"children":1443},{"style":406},[1444],{"type":26,"value":1445}," 60",{"type":21,"tag":212,"props":1447,"children":1448},{"style":412},[1449],{"type":26,"value":1450}," *",{"type":21,"tag":212,"props":1452,"children":1453},{"style":406},[1454],{"type":26,"value":1445},{"type":21,"tag":212,"props":1456,"children":1457},{"style":412},[1458],{"type":26,"value":1450},{"type":21,"tag":212,"props":1460,"children":1461},{"style":406},[1462],{"type":26,"value":1463}," 12\n",{"type":21,"tag":212,"props":1465,"children":1466},{"class":214,"line":498},[1467,1472,1476],{"type":21,"tag":212,"props":1468,"children":1469},{"style":418},[1470],{"type":26,"value":1471},"    region_name ",{"type":21,"tag":212,"props":1473,"children":1474},{"style":412},[1475],{"type":26,"value":793},{"type":21,"tag":212,"props":1477,"children":1478},{"style":225},[1479],{"type":26,"value":1480}," \"us-east-2\"\n",{"type":21,"tag":22,"props":1482,"children":1483},{},[1484,1489,1491,1497],{"type":21,"tag":251,"props":1485,"children":1486},{},[1487],{"type":26,"value":1488},"Nota:",{"type":26,"value":1490}," También necesita un ",{"type":21,"tag":208,"props":1492,"children":1494},{"className":1493},[],[1495],{"type":26,"value":1496},"handler",{"type":26,"value":1498}," y usarlo para cada campo en el que lo usará.",{"type":21,"tag":36,"props":1500,"children":1501},{},[1502],{"type":21,"tag":40,"props":1503,"children":1504},{},[1505],{"type":26,"value":1506},"Deberá crear uno nuevo, como este:",{"type":21,"tag":200,"props":1508,"children":1510},{"className":394,"code":1509,"language":396,"meta":205,"style":205},"def handlerPrivateStorage():\n    if settings.DEBUG:\n        return None\n    return PrivateMediaS3Boto3Storage()\n",[1511],{"type":21,"tag":208,"props":1512,"children":1513},{"__ignoreMap":205},[1514,1532,1555,1568],{"type":21,"tag":212,"props":1515,"children":1516},{"class":214,"line":215},[1517,1522,1527],{"type":21,"tag":212,"props":1518,"children":1519},{"style":755},[1520],{"type":26,"value":1521},"def",{"type":21,"tag":212,"props":1523,"children":1524},{"style":219},[1525],{"type":26,"value":1526}," handlerPrivateStorage",{"type":21,"tag":212,"props":1528,"children":1529},{"style":418},[1530],{"type":26,"value":1531},"():\n",{"type":21,"tag":212,"props":1533,"children":1534},{"class":214,"line":424},[1535,1540,1545,1550],{"type":21,"tag":212,"props":1536,"children":1537},{"style":412},[1538],{"type":26,"value":1539},"    if",{"type":21,"tag":212,"props":1541,"children":1542},{"style":418},[1543],{"type":26,"value":1544}," settings.",{"type":21,"tag":212,"props":1546,"children":1547},{"style":406},[1548],{"type":26,"value":1549},"DEBUG",{"type":21,"tag":212,"props":1551,"children":1552},{"style":418},[1553],{"type":26,"value":1554},":\n",{"type":21,"tag":212,"props":1556,"children":1557},{"class":214,"line":433},[1558,1563],{"type":21,"tag":212,"props":1559,"children":1560},{"style":412},[1561],{"type":26,"value":1562},"        return",{"type":21,"tag":212,"props":1564,"children":1565},{"style":406},[1566],{"type":26,"value":1567}," None\n",{"type":21,"tag":212,"props":1569,"children":1570},{"class":214,"line":457},[1571,1576],{"type":21,"tag":212,"props":1572,"children":1573},{"style":412},[1574],{"type":26,"value":1575},"    return",{"type":21,"tag":212,"props":1577,"children":1578},{"style":418},[1579],{"type":26,"value":1580}," PrivateMediaS3Boto3Storage()\n",{"type":21,"tag":36,"props":1582,"children":1583},{},[1584],{"type":21,"tag":40,"props":1585,"children":1586},{},[1587],{"type":26,"value":1588},"Y dentro del modelo usarlo de esta manera para no afectar los archivos de desarrollo local y migración.",{"type":21,"tag":200,"props":1590,"children":1592},{"className":394,"code":1591,"language":396,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    image = models.FileField(..., storage=handlerPrivateStorage())\n",[1593],{"type":21,"tag":208,"props":1594,"children":1595},{"__ignoreMap":205},[1596,1619,1626],{"type":21,"tag":212,"props":1597,"children":1598},{"class":214,"line":215},[1599,1603,1607,1611,1615],{"type":21,"tag":212,"props":1600,"children":1601},{"style":755},[1602],{"type":26,"value":758},{"type":21,"tag":212,"props":1604,"children":1605},{"style":761},[1606],{"type":26,"value":764},{"type":21,"tag":212,"props":1608,"children":1609},{"style":418},[1610],{"type":26,"value":769},{"type":21,"tag":212,"props":1612,"children":1613},{"style":772},[1614],{"type":26,"value":775},{"type":21,"tag":212,"props":1616,"children":1617},{"style":418},[1618],{"type":26,"value":780},{"type":21,"tag":212,"props":1620,"children":1621},{"class":214,"line":424},[1622],{"type":21,"tag":212,"props":1623,"children":1624},{"style":406},[1625],{"type":26,"value":430},{"type":21,"tag":212,"props":1627,"children":1628},{"class":214,"line":433},[1629,1634,1638,1643,1648,1652,1657,1661],{"type":21,"tag":212,"props":1630,"children":1631},{"style":418},[1632],{"type":26,"value":1633},"    image ",{"type":21,"tag":212,"props":1635,"children":1636},{"style":412},[1637],{"type":26,"value":793},{"type":21,"tag":212,"props":1639,"children":1640},{"style":418},[1641],{"type":26,"value":1642}," models.FileField(",{"type":21,"tag":212,"props":1644,"children":1645},{"style":406},[1646],{"type":26,"value":1647},"...",{"type":21,"tag":212,"props":1649,"children":1650},{"style":418},[1651],{"type":26,"value":817},{"type":21,"tag":212,"props":1653,"children":1654},{"style":801},[1655],{"type":26,"value":1656},"storage",{"type":21,"tag":212,"props":1658,"children":1659},{"style":412},[1660],{"type":26,"value":793},{"type":21,"tag":212,"props":1662,"children":1663},{"style":418},[1664],{"type":26,"value":1665},"handlerPrivateStorage())\n",{"type":21,"tag":29,"props":1667,"children":1668},{"id":288},[1669],{"type":26,"value":1670},"Modelos",{"type":21,"tag":22,"props":1672,"children":1673},{},[1674,1676,1681],{"type":26,"value":1675},"Para hacer algunas demostraciones, mostraremos un ejemplo. La ",{"type":21,"tag":251,"props":1677,"children":1678},{},[1679],{"type":26,"value":1680},"lógica del negocio",{"type":26,"value":1682}," nos dice que muchos usuarios pueden utilizar un ticket.",{"type":21,"tag":200,"props":1684,"children":1686},{"className":394,"code":1685,"language":396,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    code = models.CharField(max_length=10, unique=True)\n    user = models.ForeignKey(Ticket, on_delete=models.CASCADE, related_name=\"tickets\")\n    usage_limit = models.PositiveSmallIntegerField(default=1)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n\nclass User(TimeStampedModel):\n    ...\n    name = models.CharField(max_length=32)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n",[1687],{"type":21,"tag":208,"props":1688,"children":1689},{"__ignoreMap":205},[1690,1713,1765,1823,1858,1865,1874,1882,1889,1913,1920,1953,1960,1967],{"type":21,"tag":212,"props":1691,"children":1692},{"class":214,"line":215},[1693,1697,1701,1705,1709],{"type":21,"tag":212,"props":1694,"children":1695},{"style":755},[1696],{"type":26,"value":758},{"type":21,"tag":212,"props":1698,"children":1699},{"style":761},[1700],{"type":26,"value":764},{"type":21,"tag":212,"props":1702,"children":1703},{"style":418},[1704],{"type":26,"value":769},{"type":21,"tag":212,"props":1706,"children":1707},{"style":772},[1708],{"type":26,"value":775},{"type":21,"tag":212,"props":1710,"children":1711},{"style":418},[1712],{"type":26,"value":780},{"type":21,"tag":212,"props":1714,"children":1715},{"class":214,"line":424},[1716,1721,1725,1730,1735,1739,1744,1748,1753,1757,1761],{"type":21,"tag":212,"props":1717,"children":1718},{"style":418},[1719],{"type":26,"value":1720},"    code ",{"type":21,"tag":212,"props":1722,"children":1723},{"style":412},[1724],{"type":26,"value":793},{"type":21,"tag":212,"props":1726,"children":1727},{"style":418},[1728],{"type":26,"value":1729}," models.CharField(",{"type":21,"tag":212,"props":1731,"children":1732},{"style":801},[1733],{"type":26,"value":1734},"max_length",{"type":21,"tag":212,"props":1736,"children":1737},{"style":412},[1738],{"type":26,"value":793},{"type":21,"tag":212,"props":1740,"children":1741},{"style":406},[1742],{"type":26,"value":1743},"10",{"type":21,"tag":212,"props":1745,"children":1746},{"style":418},[1747],{"type":26,"value":817},{"type":21,"tag":212,"props":1749,"children":1750},{"style":801},[1751],{"type":26,"value":1752},"unique",{"type":21,"tag":212,"props":1754,"children":1755},{"style":412},[1756],{"type":26,"value":793},{"type":21,"tag":212,"props":1758,"children":1759},{"style":406},[1760],{"type":26,"value":550},{"type":21,"tag":212,"props":1762,"children":1763},{"style":418},[1764],{"type":26,"value":853},{"type":21,"tag":212,"props":1766,"children":1767},{"class":214,"line":433},[1768,1773,1777,1782,1787,1791,1796,1801,1805,1810,1814,1819],{"type":21,"tag":212,"props":1769,"children":1770},{"style":418},[1771],{"type":26,"value":1772},"    user ",{"type":21,"tag":212,"props":1774,"children":1775},{"style":412},[1776],{"type":26,"value":793},{"type":21,"tag":212,"props":1778,"children":1779},{"style":418},[1780],{"type":26,"value":1781}," models.ForeignKey(Ticket, ",{"type":21,"tag":212,"props":1783,"children":1784},{"style":801},[1785],{"type":26,"value":1786},"on_delete",{"type":21,"tag":212,"props":1788,"children":1789},{"style":412},[1790],{"type":26,"value":793},{"type":21,"tag":212,"props":1792,"children":1793},{"style":418},[1794],{"type":26,"value":1795},"models.",{"type":21,"tag":212,"props":1797,"children":1798},{"style":406},[1799],{"type":26,"value":1800},"CASCADE",{"type":21,"tag":212,"props":1802,"children":1803},{"style":418},[1804],{"type":26,"value":817},{"type":21,"tag":212,"props":1806,"children":1807},{"style":801},[1808],{"type":26,"value":1809},"related_name",{"type":21,"tag":212,"props":1811,"children":1812},{"style":412},[1813],{"type":26,"value":793},{"type":21,"tag":212,"props":1815,"children":1816},{"style":225},[1817],{"type":26,"value":1818},"\"tickets\"",{"type":21,"tag":212,"props":1820,"children":1821},{"style":418},[1822],{"type":26,"value":853},{"type":21,"tag":212,"props":1824,"children":1825},{"class":214,"line":457},[1826,1831,1835,1840,1845,1849,1854],{"type":21,"tag":212,"props":1827,"children":1828},{"style":418},[1829],{"type":26,"value":1830},"    usage_limit ",{"type":21,"tag":212,"props":1832,"children":1833},{"style":412},[1834],{"type":26,"value":793},{"type":21,"tag":212,"props":1836,"children":1837},{"style":418},[1838],{"type":26,"value":1839}," models.PositiveSmallIntegerField(",{"type":21,"tag":212,"props":1841,"children":1842},{"style":801},[1843],{"type":26,"value":1844},"default",{"type":21,"tag":212,"props":1846,"children":1847},{"style":412},[1848],{"type":26,"value":793},{"type":21,"tag":212,"props":1850,"children":1851},{"style":406},[1852],{"type":26,"value":1853},"1",{"type":21,"tag":212,"props":1855,"children":1856},{"style":418},[1857],{"type":26,"value":853},{"type":21,"tag":212,"props":1859,"children":1860},{"class":214,"line":471},[1861],{"type":21,"tag":212,"props":1862,"children":1863},{"emptyLinePlaceholder":746},[1864],{"type":26,"value":749},{"type":21,"tag":212,"props":1866,"children":1867},{"class":214,"line":485},[1868],{"type":21,"tag":212,"props":1869,"children":1871},{"style":1870},"--shiki-default:#88846F",[1872],{"type":26,"value":1873},"    # created: Is a field provided by TimeStampedModel\n",{"type":21,"tag":212,"props":1875,"children":1876},{"class":214,"line":498},[1877],{"type":21,"tag":212,"props":1878,"children":1879},{"style":1870},[1880],{"type":26,"value":1881},"    # modified: Is a field provided by TimeStampedModel\n",{"type":21,"tag":212,"props":1883,"children":1884},{"class":214,"line":511},[1885],{"type":21,"tag":212,"props":1886,"children":1887},{"emptyLinePlaceholder":746},[1888],{"type":26,"value":749},{"type":21,"tag":212,"props":1890,"children":1891},{"class":214,"line":520},[1892,1896,1901,1905,1909],{"type":21,"tag":212,"props":1893,"children":1894},{"style":755},[1895],{"type":26,"value":758},{"type":21,"tag":212,"props":1897,"children":1898},{"style":761},[1899],{"type":26,"value":1900}," User",{"type":21,"tag":212,"props":1902,"children":1903},{"style":418},[1904],{"type":26,"value":769},{"type":21,"tag":212,"props":1906,"children":1907},{"style":772},[1908],{"type":26,"value":775},{"type":21,"tag":212,"props":1910,"children":1911},{"style":418},[1912],{"type":26,"value":780},{"type":21,"tag":212,"props":1914,"children":1915},{"class":214,"line":534},[1916],{"type":21,"tag":212,"props":1917,"children":1918},{"style":406},[1919],{"type":26,"value":430},{"type":21,"tag":212,"props":1921,"children":1922},{"class":214,"line":557},[1923,1928,1932,1936,1940,1944,1949],{"type":21,"tag":212,"props":1924,"children":1925},{"style":418},[1926],{"type":26,"value":1927},"    name ",{"type":21,"tag":212,"props":1929,"children":1930},{"style":412},[1931],{"type":26,"value":793},{"type":21,"tag":212,"props":1933,"children":1934},{"style":418},[1935],{"type":26,"value":1729},{"type":21,"tag":212,"props":1937,"children":1938},{"style":801},[1939],{"type":26,"value":1734},{"type":21,"tag":212,"props":1941,"children":1942},{"style":412},[1943],{"type":26,"value":793},{"type":21,"tag":212,"props":1945,"children":1946},{"style":406},[1947],{"type":26,"value":1948},"32",{"type":21,"tag":212,"props":1950,"children":1951},{"style":418},[1952],{"type":26,"value":853},{"type":21,"tag":212,"props":1954,"children":1955},{"class":214,"line":566},[1956],{"type":21,"tag":212,"props":1957,"children":1958},{"emptyLinePlaceholder":746},[1959],{"type":26,"value":749},{"type":21,"tag":212,"props":1961,"children":1962},{"class":214,"line":588},[1963],{"type":21,"tag":212,"props":1964,"children":1965},{"style":1870},[1966],{"type":26,"value":1873},{"type":21,"tag":212,"props":1968,"children":1970},{"class":214,"line":1969},14,[1971],{"type":21,"tag":212,"props":1972,"children":1973},{"style":1870},[1974],{"type":26,"value":1881},{"type":21,"tag":22,"props":1976,"children":1977},{},[1978],{"type":26,"value":1979},"Primero debemos definir algunas características que tendrán los modelos, tales como: campos, valores únicos, consultas, propiedades y métodos.",{"type":21,"tag":118,"props":1981,"children":1983},{"id":1982},"managers",[1984],{"type":26,"value":1985},"Managers",{"type":21,"tag":22,"props":1987,"children":1988},{},[1989],{"type":26,"value":1990},"Los managers nos permiten crear consultas personalizadas para nuestros modelos. Por ejemplo, si queremos obtener todos los tickets que no han sido utilizados, podemos crear un manager personalizado para esto.",{"type":21,"tag":36,"props":1992,"children":1993},{},[1994,2019],{"type":21,"tag":40,"props":1995,"children":1996},{},[1997,1999,2004,2005,2011,2012,2018],{"type":26,"value":1998},"Para definir los campos necesitamos toda la información sobre el funcionamiento del negocio, para este ejemplo tendremos solo estos: ",{"type":21,"tag":208,"props":2000,"children":2002},{"className":2001},[],[2003],{"type":26,"value":208},{"type":26,"value":817},{"type":21,"tag":208,"props":2006,"children":2008},{"className":2007},[],[2009],{"type":26,"value":2010},"user",{"type":26,"value":166},{"type":21,"tag":208,"props":2013,"children":2015},{"className":2014},[],[2016],{"type":26,"value":2017},"usage_limit",{"type":26,"value":82},{"type":21,"tag":40,"props":2020,"children":2021},{},[2022,2024],{"type":26,"value":2023},"El modelo Ticket tiene un campo que es único y debe ser creado y asignado a cada instancia una sola vez, para esto tenemos 2 opciones.\n",{"type":21,"tag":36,"props":2025,"children":2026},{},[2027,2040],{"type":21,"tag":40,"props":2028,"children":2029},{},[2030,2032,2038],{"type":26,"value":2031},"Coloque esa lógica en el método ",{"type":21,"tag":208,"props":2033,"children":2035},{"className":2034},[],[2036],{"type":26,"value":2037},"save()",{"type":26,"value":2039},", que se utiliza mejor cuando tenemos un valor que necesitamos recalcular o generar cada vez que guardamos cambios en el modelo.",{"type":21,"tag":40,"props":2041,"children":2042},{},[2043,2045,2051,2053,2059],{"type":26,"value":2044},"Utilizar los ",{"type":21,"tag":208,"props":2046,"children":2048},{"className":2047},[],[2049],{"type":26,"value":2050},"manager de Django",{"type":26,"value":2052},", que nos permite utilizar un método ",{"type":21,"tag":208,"props":2054,"children":2056},{"className":2055},[],[2057],{"type":26,"value":2058},"create()",{"type":26,"value":2060},", que se ejecutará solo una vez.",{"type":21,"tag":200,"props":2062,"children":2064},{"className":394,"code":2063,"language":396,"meta":205,"style":205},"class TicketManager(models.Manager):\n\n    CODE_LENGTH = 10\n\n    def create(self, *args, **kwargs):\n        code = generate_random_code(self.CODE_LENGTH)\n        while self.filter(code=code).exists():\n            code = generate_random_code(self.CODE_LENGTH)\n        kwargs[\"code\"] = code\n        return super().create(*args, **kwargs)\n",[2065],{"type":21,"tag":208,"props":2066,"children":2067},{"__ignoreMap":205},[2068,2102,2109,2126,2133,2185,2219,2249,2281,2308],{"type":21,"tag":212,"props":2069,"children":2070},{"class":214,"line":215},[2071,2075,2080,2084,2089,2093,2098],{"type":21,"tag":212,"props":2072,"children":2073},{"style":755},[2074],{"type":26,"value":758},{"type":21,"tag":212,"props":2076,"children":2077},{"style":761},[2078],{"type":26,"value":2079}," TicketManager",{"type":21,"tag":212,"props":2081,"children":2082},{"style":418},[2083],{"type":26,"value":769},{"type":21,"tag":212,"props":2085,"children":2086},{"style":772},[2087],{"type":26,"value":2088},"models",{"type":21,"tag":212,"props":2090,"children":2091},{"style":418},[2092],{"type":26,"value":82},{"type":21,"tag":212,"props":2094,"children":2095},{"style":772},[2096],{"type":26,"value":2097},"Manager",{"type":21,"tag":212,"props":2099,"children":2100},{"style":418},[2101],{"type":26,"value":780},{"type":21,"tag":212,"props":2103,"children":2104},{"class":214,"line":424},[2105],{"type":21,"tag":212,"props":2106,"children":2107},{"emptyLinePlaceholder":746},[2108],{"type":26,"value":749},{"type":21,"tag":212,"props":2110,"children":2111},{"class":214,"line":433},[2112,2117,2121],{"type":21,"tag":212,"props":2113,"children":2114},{"style":406},[2115],{"type":26,"value":2116},"    CODE_LENGTH",{"type":21,"tag":212,"props":2118,"children":2119},{"style":412},[2120],{"type":26,"value":415},{"type":21,"tag":212,"props":2122,"children":2123},{"style":406},[2124],{"type":26,"value":2125}," 10\n",{"type":21,"tag":212,"props":2127,"children":2128},{"class":214,"line":457},[2129],{"type":21,"tag":212,"props":2130,"children":2131},{"emptyLinePlaceholder":746},[2132],{"type":26,"value":749},{"type":21,"tag":212,"props":2134,"children":2135},{"class":214,"line":471},[2136,2140,2145,2149,2153,2157,2162,2167,2171,2176,2181],{"type":21,"tag":212,"props":2137,"children":2138},{"style":755},[2139],{"type":26,"value":1066},{"type":21,"tag":212,"props":2141,"children":2142},{"style":219},[2143],{"type":26,"value":2144}," create",{"type":21,"tag":212,"props":2146,"children":2147},{"style":418},[2148],{"type":26,"value":769},{"type":21,"tag":212,"props":2150,"children":2151},{"style":801},[2152],{"type":26,"value":1080},{"type":21,"tag":212,"props":2154,"children":2155},{"style":418},[2156],{"type":26,"value":817},{"type":21,"tag":212,"props":2158,"children":2159},{"style":412},[2160],{"type":26,"value":2161},"*",{"type":21,"tag":212,"props":2163,"children":2164},{"style":801},[2165],{"type":26,"value":2166},"args",{"type":21,"tag":212,"props":2168,"children":2169},{"style":418},[2170],{"type":26,"value":817},{"type":21,"tag":212,"props":2172,"children":2173},{"style":412},[2174],{"type":26,"value":2175},"**",{"type":21,"tag":212,"props":2177,"children":2178},{"style":801},[2179],{"type":26,"value":2180},"kwargs",{"type":21,"tag":212,"props":2182,"children":2183},{"style":418},[2184],{"type":26,"value":780},{"type":21,"tag":212,"props":2186,"children":2187},{"class":214,"line":485},[2188,2193,2197,2202,2206,2210,2215],{"type":21,"tag":212,"props":2189,"children":2190},{"style":418},[2191],{"type":26,"value":2192},"        code ",{"type":21,"tag":212,"props":2194,"children":2195},{"style":412},[2196],{"type":26,"value":793},{"type":21,"tag":212,"props":2198,"children":2199},{"style":418},[2200],{"type":26,"value":2201}," generate_random_code(",{"type":21,"tag":212,"props":2203,"children":2204},{"style":1108},[2205],{"type":26,"value":1080},{"type":21,"tag":212,"props":2207,"children":2208},{"style":418},[2209],{"type":26,"value":82},{"type":21,"tag":212,"props":2211,"children":2212},{"style":406},[2213],{"type":26,"value":2214},"CODE_LENGTH",{"type":21,"tag":212,"props":2216,"children":2217},{"style":418},[2218],{"type":26,"value":853},{"type":21,"tag":212,"props":2220,"children":2221},{"class":214,"line":498},[2222,2227,2231,2236,2240,2244],{"type":21,"tag":212,"props":2223,"children":2224},{"style":412},[2225],{"type":26,"value":2226},"        while",{"type":21,"tag":212,"props":2228,"children":2229},{"style":1108},[2230],{"type":26,"value":1111},{"type":21,"tag":212,"props":2232,"children":2233},{"style":418},[2234],{"type":26,"value":2235},".filter(",{"type":21,"tag":212,"props":2237,"children":2238},{"style":801},[2239],{"type":26,"value":208},{"type":21,"tag":212,"props":2241,"children":2242},{"style":412},[2243],{"type":26,"value":793},{"type":21,"tag":212,"props":2245,"children":2246},{"style":418},[2247],{"type":26,"value":2248},"code).exists():\n",{"type":21,"tag":212,"props":2250,"children":2251},{"class":214,"line":511},[2252,2257,2261,2265,2269,2273,2277],{"type":21,"tag":212,"props":2253,"children":2254},{"style":418},[2255],{"type":26,"value":2256},"            code ",{"type":21,"tag":212,"props":2258,"children":2259},{"style":412},[2260],{"type":26,"value":793},{"type":21,"tag":212,"props":2262,"children":2263},{"style":418},[2264],{"type":26,"value":2201},{"type":21,"tag":212,"props":2266,"children":2267},{"style":1108},[2268],{"type":26,"value":1080},{"type":21,"tag":212,"props":2270,"children":2271},{"style":418},[2272],{"type":26,"value":82},{"type":21,"tag":212,"props":2274,"children":2275},{"style":406},[2276],{"type":26,"value":2214},{"type":21,"tag":212,"props":2278,"children":2279},{"style":418},[2280],{"type":26,"value":853},{"type":21,"tag":212,"props":2282,"children":2283},{"class":214,"line":520},[2284,2289,2294,2299,2303],{"type":21,"tag":212,"props":2285,"children":2286},{"style":418},[2287],{"type":26,"value":2288},"        kwargs[",{"type":21,"tag":212,"props":2290,"children":2291},{"style":225},[2292],{"type":26,"value":2293},"\"code\"",{"type":21,"tag":212,"props":2295,"children":2296},{"style":418},[2297],{"type":26,"value":2298},"] ",{"type":21,"tag":212,"props":2300,"children":2301},{"style":412},[2302],{"type":26,"value":793},{"type":21,"tag":212,"props":2304,"children":2305},{"style":418},[2306],{"type":26,"value":2307}," code\n",{"type":21,"tag":212,"props":2309,"children":2310},{"class":214,"line":534},[2311,2315,2320,2325,2329,2334,2338],{"type":21,"tag":212,"props":2312,"children":2313},{"style":412},[2314],{"type":26,"value":1562},{"type":21,"tag":212,"props":2316,"children":2317},{"style":755},[2318],{"type":26,"value":2319}," super",{"type":21,"tag":212,"props":2321,"children":2322},{"style":418},[2323],{"type":26,"value":2324},"().create(",{"type":21,"tag":212,"props":2326,"children":2327},{"style":412},[2328],{"type":26,"value":2161},{"type":21,"tag":212,"props":2330,"children":2331},{"style":418},[2332],{"type":26,"value":2333},"args, ",{"type":21,"tag":212,"props":2335,"children":2336},{"style":412},[2337],{"type":26,"value":2175},{"type":21,"tag":212,"props":2339,"children":2340},{"style":418},[2341],{"type":26,"value":2342},"kwargs)\n",{"type":21,"tag":22,"props":2344,"children":2345},{},[2346,2350,2352,2358,2360,2366],{"type":21,"tag":251,"props":2347,"children":2348},{},[2349],{"type":26,"value":1488},{"type":26,"value":2351}," Para acceder a la función ",{"type":21,"tag":208,"props":2353,"children":2355},{"className":2354},[],[2356],{"type":26,"value":2357},"generate_random_code(length),",{"type":26,"value":2359}," debemos colocarla dentro de ",{"type":21,"tag":208,"props":2361,"children":2363},{"className":2362},[],[2364],{"type":26,"value":2365},"utilities.py",{"type":26,"value":2367}," ya que es una función de utilidad.",{"type":21,"tag":200,"props":2369,"children":2373},{"className":2370,"code":2371,"language":2372,"meta":205,"style":205},"language-console shiki shiki-themes monokai","folder_api\n├── users\n├── utils\n│   ├── __init__.py\n│   ├── utilities.py\n│   ├── storages.py\n│   └── validators.py\n|   ...\n...\n","console",[2374],{"type":21,"tag":208,"props":2375,"children":2376},{"__ignoreMap":205},[2377,2385,2393,2401,2409,2417,2425,2433,2441],{"type":21,"tag":212,"props":2378,"children":2379},{"class":214,"line":215},[2380],{"type":21,"tag":212,"props":2381,"children":2382},{},[2383],{"type":26,"value":2384},"folder_api\n",{"type":21,"tag":212,"props":2386,"children":2387},{"class":214,"line":424},[2388],{"type":21,"tag":212,"props":2389,"children":2390},{},[2391],{"type":26,"value":2392},"├── users\n",{"type":21,"tag":212,"props":2394,"children":2395},{"class":214,"line":433},[2396],{"type":21,"tag":212,"props":2397,"children":2398},{},[2399],{"type":26,"value":2400},"├── utils\n",{"type":21,"tag":212,"props":2402,"children":2403},{"class":214,"line":457},[2404],{"type":21,"tag":212,"props":2405,"children":2406},{},[2407],{"type":26,"value":2408},"│   ├── __init__.py\n",{"type":21,"tag":212,"props":2410,"children":2411},{"class":214,"line":471},[2412],{"type":21,"tag":212,"props":2413,"children":2414},{},[2415],{"type":26,"value":2416},"│   ├── utilities.py\n",{"type":21,"tag":212,"props":2418,"children":2419},{"class":214,"line":485},[2420],{"type":21,"tag":212,"props":2421,"children":2422},{},[2423],{"type":26,"value":2424},"│   ├── storages.py\n",{"type":21,"tag":212,"props":2426,"children":2427},{"class":214,"line":498},[2428],{"type":21,"tag":212,"props":2429,"children":2430},{},[2431],{"type":26,"value":2432},"│   └── validators.py\n",{"type":21,"tag":212,"props":2434,"children":2435},{"class":214,"line":511},[2436],{"type":21,"tag":212,"props":2437,"children":2438},{},[2439],{"type":26,"value":2440},"|   ...\n",{"type":21,"tag":212,"props":2442,"children":2443},{"class":214,"line":520},[2444],{"type":21,"tag":212,"props":2445,"children":2446},{},[2447],{"type":26,"value":2448},"...\n",{"type":21,"tag":22,"props":2450,"children":2451},{},[2452,2454,2459,2461,2468],{"type":26,"value":2453},"Los ",{"type":21,"tag":208,"props":2455,"children":2457},{"className":2456},[],[2458],{"type":26,"value":2050},{"type":26,"value":2460}," también se pueden utilizar para definir consultas que se utilizarán constantemente. ",{"type":21,"tag":72,"props":2462,"children":2465},{":target":74,"href":2463,"rel":2464},"https://docs.djangoproject.com/en/4.2/topics/db/managers/#custom-managers",[77],[2466],{"type":26,"value":2467},"Más información",{"type":26,"value":82},{"type":21,"tag":200,"props":2470,"children":2472},{"className":394,"code":2471,"language":396,"meta":205,"style":205},"class TicketManager(models.Manager):\n    ...\n    def tickets_starting_with_a(self):\n        return self.get_queryset().filter(code__istartswith=\"a\")\n    \n    def tickets_starting_with_b(self):\n        return self.get_queryset().filter(code__istartswith=\"b\")\n    ...\n",[2473],{"type":21,"tag":208,"props":2474,"children":2475},{"__ignoreMap":205},[2476,2507,2514,2538,2572,2580,2604,2636],{"type":21,"tag":212,"props":2477,"children":2478},{"class":214,"line":215},[2479,2483,2487,2491,2495,2499,2503],{"type":21,"tag":212,"props":2480,"children":2481},{"style":755},[2482],{"type":26,"value":758},{"type":21,"tag":212,"props":2484,"children":2485},{"style":761},[2486],{"type":26,"value":2079},{"type":21,"tag":212,"props":2488,"children":2489},{"style":418},[2490],{"type":26,"value":769},{"type":21,"tag":212,"props":2492,"children":2493},{"style":772},[2494],{"type":26,"value":2088},{"type":21,"tag":212,"props":2496,"children":2497},{"style":418},[2498],{"type":26,"value":82},{"type":21,"tag":212,"props":2500,"children":2501},{"style":772},[2502],{"type":26,"value":2097},{"type":21,"tag":212,"props":2504,"children":2505},{"style":418},[2506],{"type":26,"value":780},{"type":21,"tag":212,"props":2508,"children":2509},{"class":214,"line":424},[2510],{"type":21,"tag":212,"props":2511,"children":2512},{"style":406},[2513],{"type":26,"value":430},{"type":21,"tag":212,"props":2515,"children":2516},{"class":214,"line":433},[2517,2521,2526,2530,2534],{"type":21,"tag":212,"props":2518,"children":2519},{"style":755},[2520],{"type":26,"value":1066},{"type":21,"tag":212,"props":2522,"children":2523},{"style":219},[2524],{"type":26,"value":2525}," tickets_starting_with_a",{"type":21,"tag":212,"props":2527,"children":2528},{"style":418},[2529],{"type":26,"value":769},{"type":21,"tag":212,"props":2531,"children":2532},{"style":801},[2533],{"type":26,"value":1080},{"type":21,"tag":212,"props":2535,"children":2536},{"style":418},[2537],{"type":26,"value":780},{"type":21,"tag":212,"props":2539,"children":2540},{"class":214,"line":457},[2541,2545,2549,2554,2559,2563,2568],{"type":21,"tag":212,"props":2542,"children":2543},{"style":412},[2544],{"type":26,"value":1562},{"type":21,"tag":212,"props":2546,"children":2547},{"style":1108},[2548],{"type":26,"value":1111},{"type":21,"tag":212,"props":2550,"children":2551},{"style":418},[2552],{"type":26,"value":2553},".get_queryset().filter(",{"type":21,"tag":212,"props":2555,"children":2556},{"style":801},[2557],{"type":26,"value":2558},"code__istartswith",{"type":21,"tag":212,"props":2560,"children":2561},{"style":412},[2562],{"type":26,"value":793},{"type":21,"tag":212,"props":2564,"children":2565},{"style":225},[2566],{"type":26,"value":2567},"\"a\"",{"type":21,"tag":212,"props":2569,"children":2570},{"style":418},[2571],{"type":26,"value":853},{"type":21,"tag":212,"props":2573,"children":2574},{"class":214,"line":471},[2575],{"type":21,"tag":212,"props":2576,"children":2577},{"style":418},[2578],{"type":26,"value":2579},"    \n",{"type":21,"tag":212,"props":2581,"children":2582},{"class":214,"line":485},[2583,2587,2592,2596,2600],{"type":21,"tag":212,"props":2584,"children":2585},{"style":755},[2586],{"type":26,"value":1066},{"type":21,"tag":212,"props":2588,"children":2589},{"style":219},[2590],{"type":26,"value":2591}," tickets_starting_with_b",{"type":21,"tag":212,"props":2593,"children":2594},{"style":418},[2595],{"type":26,"value":769},{"type":21,"tag":212,"props":2597,"children":2598},{"style":801},[2599],{"type":26,"value":1080},{"type":21,"tag":212,"props":2601,"children":2602},{"style":418},[2603],{"type":26,"value":780},{"type":21,"tag":212,"props":2605,"children":2606},{"class":214,"line":498},[2607,2611,2615,2619,2623,2627,2632],{"type":21,"tag":212,"props":2608,"children":2609},{"style":412},[2610],{"type":26,"value":1562},{"type":21,"tag":212,"props":2612,"children":2613},{"style":1108},[2614],{"type":26,"value":1111},{"type":21,"tag":212,"props":2616,"children":2617},{"style":418},[2618],{"type":26,"value":2553},{"type":21,"tag":212,"props":2620,"children":2621},{"style":801},[2622],{"type":26,"value":2558},{"type":21,"tag":212,"props":2624,"children":2625},{"style":412},[2626],{"type":26,"value":793},{"type":21,"tag":212,"props":2628,"children":2629},{"style":225},[2630],{"type":26,"value":2631},"\"b\"",{"type":21,"tag":212,"props":2633,"children":2634},{"style":418},[2635],{"type":26,"value":853},{"type":21,"tag":212,"props":2637,"children":2638},{"class":214,"line":511},[2639],{"type":21,"tag":212,"props":2640,"children":2641},{"style":406},[2642],{"type":26,"value":430},{"type":21,"tag":29,"props":2644,"children":2646},{"id":2645},"funciones",[2647],{"type":26,"value":2648},"Funciones",{"type":21,"tag":22,"props":2650,"children":2651},{},[2652],{"type":26,"value":2653},"Las funciones son una forma de encapsular la lógica de negocio que no pertenece a un modelo específico.",{"type":21,"tag":22,"props":2655,"children":2656},{},[2657],{"type":26,"value":2658},"Si necesita una búsqueda más compleja de objetos relacionados desde una única instancia del modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":2660,"children":2662},{"className":394,"code":2661,"language":396,"meta":205,"style":205},"from django.contrib.postgres.search import TrigramSimilarity\n\nclass Ticket(TimeStampedModel):\n    ...\n    def get_related_tickets(self):\n        return Ticket.objects.annotate(similarity=TrigramSimilarity(\"code\", self.code))\n            .order_by(\"-similarity\")\n            .filter(similarity__gt=0.2)\n            .exclude(id=self.id)\n",[2663],{"type":21,"tag":208,"props":2664,"children":2665},{"__ignoreMap":205},[2666,2687,2694,2717,2724,2748,2791,2808,2834],{"type":21,"tag":212,"props":2667,"children":2668},{"class":214,"line":215},[2669,2673,2678,2682],{"type":21,"tag":212,"props":2670,"children":2671},{"style":412},[2672],{"type":26,"value":704},{"type":21,"tag":212,"props":2674,"children":2675},{"style":418},[2676],{"type":26,"value":2677}," django.contrib.postgres.search ",{"type":21,"tag":212,"props":2679,"children":2680},{"style":412},[2681],{"type":26,"value":714},{"type":21,"tag":212,"props":2683,"children":2684},{"style":418},[2685],{"type":26,"value":2686}," TrigramSimilarity\n",{"type":21,"tag":212,"props":2688,"children":2689},{"class":214,"line":424},[2690],{"type":21,"tag":212,"props":2691,"children":2692},{"emptyLinePlaceholder":746},[2693],{"type":26,"value":749},{"type":21,"tag":212,"props":2695,"children":2696},{"class":214,"line":433},[2697,2701,2705,2709,2713],{"type":21,"tag":212,"props":2698,"children":2699},{"style":755},[2700],{"type":26,"value":758},{"type":21,"tag":212,"props":2702,"children":2703},{"style":761},[2704],{"type":26,"value":764},{"type":21,"tag":212,"props":2706,"children":2707},{"style":418},[2708],{"type":26,"value":769},{"type":21,"tag":212,"props":2710,"children":2711},{"style":772},[2712],{"type":26,"value":775},{"type":21,"tag":212,"props":2714,"children":2715},{"style":418},[2716],{"type":26,"value":780},{"type":21,"tag":212,"props":2718,"children":2719},{"class":214,"line":457},[2720],{"type":21,"tag":212,"props":2721,"children":2722},{"style":406},[2723],{"type":26,"value":430},{"type":21,"tag":212,"props":2725,"children":2726},{"class":214,"line":471},[2727,2731,2736,2740,2744],{"type":21,"tag":212,"props":2728,"children":2729},{"style":755},[2730],{"type":26,"value":1066},{"type":21,"tag":212,"props":2732,"children":2733},{"style":219},[2734],{"type":26,"value":2735}," get_related_tickets",{"type":21,"tag":212,"props":2737,"children":2738},{"style":418},[2739],{"type":26,"value":769},{"type":21,"tag":212,"props":2741,"children":2742},{"style":801},[2743],{"type":26,"value":1080},{"type":21,"tag":212,"props":2745,"children":2746},{"style":418},[2747],{"type":26,"value":780},{"type":21,"tag":212,"props":2749,"children":2750},{"class":214,"line":485},[2751,2755,2760,2765,2769,2774,2778,2782,2786],{"type":21,"tag":212,"props":2752,"children":2753},{"style":412},[2754],{"type":26,"value":1562},{"type":21,"tag":212,"props":2756,"children":2757},{"style":418},[2758],{"type":26,"value":2759}," Ticket.objects.annotate(",{"type":21,"tag":212,"props":2761,"children":2762},{"style":801},[2763],{"type":26,"value":2764},"similarity",{"type":21,"tag":212,"props":2766,"children":2767},{"style":412},[2768],{"type":26,"value":793},{"type":21,"tag":212,"props":2770,"children":2771},{"style":418},[2772],{"type":26,"value":2773},"TrigramSimilarity(",{"type":21,"tag":212,"props":2775,"children":2776},{"style":225},[2777],{"type":26,"value":2293},{"type":21,"tag":212,"props":2779,"children":2780},{"style":418},[2781],{"type":26,"value":817},{"type":21,"tag":212,"props":2783,"children":2784},{"style":1108},[2785],{"type":26,"value":1080},{"type":21,"tag":212,"props":2787,"children":2788},{"style":418},[2789],{"type":26,"value":2790},".code))\n",{"type":21,"tag":212,"props":2792,"children":2793},{"class":214,"line":498},[2794,2799,2804],{"type":21,"tag":212,"props":2795,"children":2796},{"style":418},[2797],{"type":26,"value":2798},"            .order_by(",{"type":21,"tag":212,"props":2800,"children":2801},{"style":225},[2802],{"type":26,"value":2803},"\"-similarity\"",{"type":21,"tag":212,"props":2805,"children":2806},{"style":418},[2807],{"type":26,"value":853},{"type":21,"tag":212,"props":2809,"children":2810},{"class":214,"line":511},[2811,2816,2821,2825,2830],{"type":21,"tag":212,"props":2812,"children":2813},{"style":418},[2814],{"type":26,"value":2815},"            .filter(",{"type":21,"tag":212,"props":2817,"children":2818},{"style":801},[2819],{"type":26,"value":2820},"similarity__gt",{"type":21,"tag":212,"props":2822,"children":2823},{"style":412},[2824],{"type":26,"value":793},{"type":21,"tag":212,"props":2826,"children":2827},{"style":406},[2828],{"type":26,"value":2829},"0.2",{"type":21,"tag":212,"props":2831,"children":2832},{"style":418},[2833],{"type":26,"value":853},{"type":21,"tag":212,"props":2835,"children":2836},{"class":214,"line":520},[2837,2842,2847,2851,2855],{"type":21,"tag":212,"props":2838,"children":2839},{"style":418},[2840],{"type":26,"value":2841},"            .exclude(",{"type":21,"tag":212,"props":2843,"children":2844},{"style":801},[2845],{"type":26,"value":2846},"id",{"type":21,"tag":212,"props":2848,"children":2849},{"style":412},[2850],{"type":26,"value":793},{"type":21,"tag":212,"props":2852,"children":2853},{"style":1108},[2854],{"type":26,"value":1080},{"type":21,"tag":212,"props":2856,"children":2857},{"style":418},[2858],{"type":26,"value":2859},".id)\n",{"type":21,"tag":22,"props":2861,"children":2862},{},[2863],{"type":26,"value":2864},"Si necesita desarrollar la lógica para alguna operación para una única instancia del modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":2866,"children":2868},{"className":394,"code":2867,"language":396,"meta":205,"style":205},"class User(TimeStampedModel):\n    ...\n    def get_tickets(self):\n        return self.tickets.all()\n",[2869],{"type":21,"tag":208,"props":2870,"children":2871},{"__ignoreMap":205},[2872,2895,2902,2926],{"type":21,"tag":212,"props":2873,"children":2874},{"class":214,"line":215},[2875,2879,2883,2887,2891],{"type":21,"tag":212,"props":2876,"children":2877},{"style":755},[2878],{"type":26,"value":758},{"type":21,"tag":212,"props":2880,"children":2881},{"style":761},[2882],{"type":26,"value":1900},{"type":21,"tag":212,"props":2884,"children":2885},{"style":418},[2886],{"type":26,"value":769},{"type":21,"tag":212,"props":2888,"children":2889},{"style":772},[2890],{"type":26,"value":775},{"type":21,"tag":212,"props":2892,"children":2893},{"style":418},[2894],{"type":26,"value":780},{"type":21,"tag":212,"props":2896,"children":2897},{"class":214,"line":424},[2898],{"type":21,"tag":212,"props":2899,"children":2900},{"style":406},[2901],{"type":26,"value":430},{"type":21,"tag":212,"props":2903,"children":2904},{"class":214,"line":433},[2905,2909,2914,2918,2922],{"type":21,"tag":212,"props":2906,"children":2907},{"style":755},[2908],{"type":26,"value":1066},{"type":21,"tag":212,"props":2910,"children":2911},{"style":219},[2912],{"type":26,"value":2913}," get_tickets",{"type":21,"tag":212,"props":2915,"children":2916},{"style":418},[2917],{"type":26,"value":769},{"type":21,"tag":212,"props":2919,"children":2920},{"style":801},[2921],{"type":26,"value":1080},{"type":21,"tag":212,"props":2923,"children":2924},{"style":418},[2925],{"type":26,"value":780},{"type":21,"tag":212,"props":2927,"children":2928},{"class":214,"line":457},[2929,2933,2937],{"type":21,"tag":212,"props":2930,"children":2931},{"style":412},[2932],{"type":26,"value":1562},{"type":21,"tag":212,"props":2934,"children":2935},{"style":1108},[2936],{"type":26,"value":1111},{"type":21,"tag":212,"props":2938,"children":2939},{"style":418},[2940],{"type":26,"value":2941},".tickets.all()\n",{"type":21,"tag":22,"props":2943,"children":2944},{},[2945],{"type":26,"value":2946},"Si necesita desarrollar la lógica para alguna operación para una única instancia de modelo y también necesita campos adicionales, hágalo como un método dentro de la clase de modelo.",{"type":21,"tag":200,"props":2948,"children":2950},{"className":394,"code":2949,"language":396,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    def get_user_used(self, user):\n        return self.user_id == user.id\n",[2951],{"type":21,"tag":208,"props":2952,"children":2953},{"__ignoreMap":205},[2954,2977,2984,3016],{"type":21,"tag":212,"props":2955,"children":2956},{"class":214,"line":215},[2957,2961,2965,2969,2973],{"type":21,"tag":212,"props":2958,"children":2959},{"style":755},[2960],{"type":26,"value":758},{"type":21,"tag":212,"props":2962,"children":2963},{"style":761},[2964],{"type":26,"value":764},{"type":21,"tag":212,"props":2966,"children":2967},{"style":418},[2968],{"type":26,"value":769},{"type":21,"tag":212,"props":2970,"children":2971},{"style":772},[2972],{"type":26,"value":775},{"type":21,"tag":212,"props":2974,"children":2975},{"style":418},[2976],{"type":26,"value":780},{"type":21,"tag":212,"props":2978,"children":2979},{"class":214,"line":424},[2980],{"type":21,"tag":212,"props":2981,"children":2982},{"style":406},[2983],{"type":26,"value":430},{"type":21,"tag":212,"props":2985,"children":2986},{"class":214,"line":433},[2987,2991,2996,3000,3004,3008,3012],{"type":21,"tag":212,"props":2988,"children":2989},{"style":755},[2990],{"type":26,"value":1066},{"type":21,"tag":212,"props":2992,"children":2993},{"style":219},[2994],{"type":26,"value":2995}," get_user_used",{"type":21,"tag":212,"props":2997,"children":2998},{"style":418},[2999],{"type":26,"value":769},{"type":21,"tag":212,"props":3001,"children":3002},{"style":801},[3003],{"type":26,"value":1080},{"type":21,"tag":212,"props":3005,"children":3006},{"style":418},[3007],{"type":26,"value":817},{"type":21,"tag":212,"props":3009,"children":3010},{"style":801},[3011],{"type":26,"value":2010},{"type":21,"tag":212,"props":3013,"children":3014},{"style":418},[3015],{"type":26,"value":780},{"type":21,"tag":212,"props":3017,"children":3018},{"class":214,"line":457},[3019,3023,3027,3032,3037],{"type":21,"tag":212,"props":3020,"children":3021},{"style":412},[3022],{"type":26,"value":1562},{"type":21,"tag":212,"props":3024,"children":3025},{"style":1108},[3026],{"type":26,"value":1111},{"type":21,"tag":212,"props":3028,"children":3029},{"style":418},[3030],{"type":26,"value":3031},".user_id ",{"type":21,"tag":212,"props":3033,"children":3034},{"style":412},[3035],{"type":26,"value":3036},"==",{"type":21,"tag":212,"props":3038,"children":3039},{"style":418},[3040],{"type":26,"value":3041}," user.id\n",{"type":21,"tag":22,"props":3043,"children":3044},{},[3045],{"type":26,"value":3046},"Si necesita desarrollar lógica para cualquier instancia del modelo, pero está relacionada con el modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":3048,"children":3050},{"className":394,"code":3049,"language":396,"meta":205,"style":205},"from django.contrib.postgres.search import SearchQuery, SearchRank, SearchVector\n\nclass Ticket(TimeStampedModel):\n    ...\n    @staticmethod\n    def get_filtered_tickets(code):\n        # Search and ranking to order by relevance\n        vector = SearchVector(\"code\")\n        return Ticket.objects.annotate(rank=SearchRank(vector, SearchQuery(code))).order_by(\"-rank\")\n",[3051],{"type":21,"tag":208,"props":3052,"children":3053},{"__ignoreMap":205},[3054,3074,3081,3104,3111,3124,3148,3156,3181],{"type":21,"tag":212,"props":3055,"children":3056},{"class":214,"line":215},[3057,3061,3065,3069],{"type":21,"tag":212,"props":3058,"children":3059},{"style":412},[3060],{"type":26,"value":704},{"type":21,"tag":212,"props":3062,"children":3063},{"style":418},[3064],{"type":26,"value":2677},{"type":21,"tag":212,"props":3066,"children":3067},{"style":412},[3068],{"type":26,"value":714},{"type":21,"tag":212,"props":3070,"children":3071},{"style":418},[3072],{"type":26,"value":3073}," SearchQuery, SearchRank, SearchVector\n",{"type":21,"tag":212,"props":3075,"children":3076},{"class":214,"line":424},[3077],{"type":21,"tag":212,"props":3078,"children":3079},{"emptyLinePlaceholder":746},[3080],{"type":26,"value":749},{"type":21,"tag":212,"props":3082,"children":3083},{"class":214,"line":433},[3084,3088,3092,3096,3100],{"type":21,"tag":212,"props":3085,"children":3086},{"style":755},[3087],{"type":26,"value":758},{"type":21,"tag":212,"props":3089,"children":3090},{"style":761},[3091],{"type":26,"value":764},{"type":21,"tag":212,"props":3093,"children":3094},{"style":418},[3095],{"type":26,"value":769},{"type":21,"tag":212,"props":3097,"children":3098},{"style":772},[3099],{"type":26,"value":775},{"type":21,"tag":212,"props":3101,"children":3102},{"style":418},[3103],{"type":26,"value":780},{"type":21,"tag":212,"props":3105,"children":3106},{"class":214,"line":457},[3107],{"type":21,"tag":212,"props":3108,"children":3109},{"style":406},[3110],{"type":26,"value":430},{"type":21,"tag":212,"props":3112,"children":3113},{"class":214,"line":471},[3114,3119],{"type":21,"tag":212,"props":3115,"children":3116},{"style":219},[3117],{"type":26,"value":3118},"    @",{"type":21,"tag":212,"props":3120,"children":3121},{"style":755},[3122],{"type":26,"value":3123},"staticmethod\n",{"type":21,"tag":212,"props":3125,"children":3126},{"class":214,"line":485},[3127,3131,3136,3140,3144],{"type":21,"tag":212,"props":3128,"children":3129},{"style":755},[3130],{"type":26,"value":1066},{"type":21,"tag":212,"props":3132,"children":3133},{"style":219},[3134],{"type":26,"value":3135}," get_filtered_tickets",{"type":21,"tag":212,"props":3137,"children":3138},{"style":418},[3139],{"type":26,"value":769},{"type":21,"tag":212,"props":3141,"children":3142},{"style":801},[3143],{"type":26,"value":208},{"type":21,"tag":212,"props":3145,"children":3146},{"style":418},[3147],{"type":26,"value":780},{"type":21,"tag":212,"props":3149,"children":3150},{"class":214,"line":498},[3151],{"type":21,"tag":212,"props":3152,"children":3153},{"style":1870},[3154],{"type":26,"value":3155},"        # Search and ranking to order by relevance\n",{"type":21,"tag":212,"props":3157,"children":3158},{"class":214,"line":511},[3159,3164,3168,3173,3177],{"type":21,"tag":212,"props":3160,"children":3161},{"style":418},[3162],{"type":26,"value":3163},"        vector ",{"type":21,"tag":212,"props":3165,"children":3166},{"style":412},[3167],{"type":26,"value":793},{"type":21,"tag":212,"props":3169,"children":3170},{"style":418},[3171],{"type":26,"value":3172}," SearchVector(",{"type":21,"tag":212,"props":3174,"children":3175},{"style":225},[3176],{"type":26,"value":2293},{"type":21,"tag":212,"props":3178,"children":3179},{"style":418},[3180],{"type":26,"value":853},{"type":21,"tag":212,"props":3182,"children":3183},{"class":214,"line":520},[3184,3188,3192,3197,3201,3206,3211],{"type":21,"tag":212,"props":3185,"children":3186},{"style":412},[3187],{"type":26,"value":1562},{"type":21,"tag":212,"props":3189,"children":3190},{"style":418},[3191],{"type":26,"value":2759},{"type":21,"tag":212,"props":3193,"children":3194},{"style":801},[3195],{"type":26,"value":3196},"rank",{"type":21,"tag":212,"props":3198,"children":3199},{"style":412},[3200],{"type":26,"value":793},{"type":21,"tag":212,"props":3202,"children":3203},{"style":418},[3204],{"type":26,"value":3205},"SearchRank(vector, SearchQuery(code))).order_by(",{"type":21,"tag":212,"props":3207,"children":3208},{"style":225},[3209],{"type":26,"value":3210},"\"-rank\"",{"type":21,"tag":212,"props":3212,"children":3213},{"style":418},[3214],{"type":26,"value":853},{"type":21,"tag":118,"props":3216,"children":3218},{"id":3217},"property",[3219],{"type":26,"value":3220},"Property",{"type":21,"tag":22,"props":3222,"children":3223},{},[3224],{"type":26,"value":3225},"Este decorador debe usarse para devolver variaciones de campos existentes.",{"type":21,"tag":200,"props":3227,"children":3229},{"className":394,"code":3228,"language":396,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    @property\n    def code_upper(self):\n        return self.code.upper()\n\n    @property\n    def days_since_creation(self):\n        today = timezone.localdate()\n        return (today - self.created.date()).days\n\n",[3230],{"type":21,"tag":208,"props":3231,"children":3232},{"__ignoreMap":205},[3233,3256,3263,3275,3299,3315,3322,3333,3357,3374],{"type":21,"tag":212,"props":3234,"children":3235},{"class":214,"line":215},[3236,3240,3244,3248,3252],{"type":21,"tag":212,"props":3237,"children":3238},{"style":755},[3239],{"type":26,"value":758},{"type":21,"tag":212,"props":3241,"children":3242},{"style":761},[3243],{"type":26,"value":764},{"type":21,"tag":212,"props":3245,"children":3246},{"style":418},[3247],{"type":26,"value":769},{"type":21,"tag":212,"props":3249,"children":3250},{"style":772},[3251],{"type":26,"value":775},{"type":21,"tag":212,"props":3253,"children":3254},{"style":418},[3255],{"type":26,"value":780},{"type":21,"tag":212,"props":3257,"children":3258},{"class":214,"line":424},[3259],{"type":21,"tag":212,"props":3260,"children":3261},{"style":406},[3262],{"type":26,"value":430},{"type":21,"tag":212,"props":3264,"children":3265},{"class":214,"line":433},[3266,3270],{"type":21,"tag":212,"props":3267,"children":3268},{"style":219},[3269],{"type":26,"value":3118},{"type":21,"tag":212,"props":3271,"children":3272},{"style":755},[3273],{"type":26,"value":3274},"property\n",{"type":21,"tag":212,"props":3276,"children":3277},{"class":214,"line":457},[3278,3282,3287,3291,3295],{"type":21,"tag":212,"props":3279,"children":3280},{"style":755},[3281],{"type":26,"value":1066},{"type":21,"tag":212,"props":3283,"children":3284},{"style":219},[3285],{"type":26,"value":3286}," code_upper",{"type":21,"tag":212,"props":3288,"children":3289},{"style":418},[3290],{"type":26,"value":769},{"type":21,"tag":212,"props":3292,"children":3293},{"style":801},[3294],{"type":26,"value":1080},{"type":21,"tag":212,"props":3296,"children":3297},{"style":418},[3298],{"type":26,"value":780},{"type":21,"tag":212,"props":3300,"children":3301},{"class":214,"line":471},[3302,3306,3310],{"type":21,"tag":212,"props":3303,"children":3304},{"style":412},[3305],{"type":26,"value":1562},{"type":21,"tag":212,"props":3307,"children":3308},{"style":1108},[3309],{"type":26,"value":1111},{"type":21,"tag":212,"props":3311,"children":3312},{"style":418},[3313],{"type":26,"value":3314},".code.upper()\n",{"type":21,"tag":212,"props":3316,"children":3317},{"class":214,"line":485},[3318],{"type":21,"tag":212,"props":3319,"children":3320},{"emptyLinePlaceholder":746},[3321],{"type":26,"value":749},{"type":21,"tag":212,"props":3323,"children":3324},{"class":214,"line":498},[3325,3329],{"type":21,"tag":212,"props":3326,"children":3327},{"style":219},[3328],{"type":26,"value":3118},{"type":21,"tag":212,"props":3330,"children":3331},{"style":755},[3332],{"type":26,"value":3274},{"type":21,"tag":212,"props":3334,"children":3335},{"class":214,"line":511},[3336,3340,3345,3349,3353],{"type":21,"tag":212,"props":3337,"children":3338},{"style":755},[3339],{"type":26,"value":1066},{"type":21,"tag":212,"props":3341,"children":3342},{"style":219},[3343],{"type":26,"value":3344}," days_since_creation",{"type":21,"tag":212,"props":3346,"children":3347},{"style":418},[3348],{"type":26,"value":769},{"type":21,"tag":212,"props":3350,"children":3351},{"style":801},[3352],{"type":26,"value":1080},{"type":21,"tag":212,"props":3354,"children":3355},{"style":418},[3356],{"type":26,"value":780},{"type":21,"tag":212,"props":3358,"children":3359},{"class":214,"line":520},[3360,3365,3369],{"type":21,"tag":212,"props":3361,"children":3362},{"style":418},[3363],{"type":26,"value":3364},"        today ",{"type":21,"tag":212,"props":3366,"children":3367},{"style":412},[3368],{"type":26,"value":793},{"type":21,"tag":212,"props":3370,"children":3371},{"style":418},[3372],{"type":26,"value":3373}," timezone.localdate()\n",{"type":21,"tag":212,"props":3375,"children":3376},{"class":214,"line":534},[3377,3381,3386,3391,3395],{"type":21,"tag":212,"props":3378,"children":3379},{"style":412},[3380],{"type":26,"value":1562},{"type":21,"tag":212,"props":3382,"children":3383},{"style":418},[3384],{"type":26,"value":3385}," (today ",{"type":21,"tag":212,"props":3387,"children":3388},{"style":412},[3389],{"type":26,"value":3390},"-",{"type":21,"tag":212,"props":3392,"children":3393},{"style":1108},[3394],{"type":26,"value":1111},{"type":21,"tag":212,"props":3396,"children":3397},{"style":418},[3398],{"type":26,"value":3399},".created.date()).days\n",{"type":21,"tag":29,"props":3401,"children":3403},{"id":3402},"django-rest-framework",[3404],{"type":26,"value":3405},"Django Rest Framework",{"type":21,"tag":118,"props":3407,"children":3409},{"id":3408},"estructura-de-carpetas",[3410],{"type":26,"value":3411},"Estructura de carpetas",{"type":21,"tag":22,"props":3413,"children":3414},{},[3415,3417,3423,3424,3430,3431,3437,3438,3444],{"type":26,"value":3416},"Dentro de cada aplicación de django debe existir una carpeta api y dentro de ella sus respectivos archivos como: ",{"type":21,"tag":208,"props":3418,"children":3420},{"className":3419},[],[3421],{"type":26,"value":3422},"views.py",{"type":26,"value":817},{"type":21,"tag":208,"props":3425,"children":3427},{"className":3426},[],[3428],{"type":26,"value":3429},"serializers.py",{"type":26,"value":817},{"type":21,"tag":208,"props":3432,"children":3434},{"className":3433},[],[3435],{"type":26,"value":3436},"urls.py",{"type":26,"value":817},{"type":21,"tag":208,"props":3439,"children":3441},{"className":3440},[],[3442],{"type":26,"value":3443},"pagination.py",{"type":26,"value":3445},", etc.",{"type":21,"tag":200,"props":3447,"children":3449},{"className":2370,"code":3448,"language":2372,"meta":205,"style":205},"users\n├── __init__.py\n├── api\n│   ├── views.py\n│   ├── serializers.py\n│   ├── urls.py\n|   ├── pagination.py\n│   ...\n...\n",[3450],{"type":21,"tag":208,"props":3451,"children":3452},{"__ignoreMap":205},[3453,3461,3469,3477,3485,3493,3501,3509,3517],{"type":21,"tag":212,"props":3454,"children":3455},{"class":214,"line":215},[3456],{"type":21,"tag":212,"props":3457,"children":3458},{},[3459],{"type":26,"value":3460},"users\n",{"type":21,"tag":212,"props":3462,"children":3463},{"class":214,"line":424},[3464],{"type":21,"tag":212,"props":3465,"children":3466},{},[3467],{"type":26,"value":3468},"├── __init__.py\n",{"type":21,"tag":212,"props":3470,"children":3471},{"class":214,"line":433},[3472],{"type":21,"tag":212,"props":3473,"children":3474},{},[3475],{"type":26,"value":3476},"├── api\n",{"type":21,"tag":212,"props":3478,"children":3479},{"class":214,"line":457},[3480],{"type":21,"tag":212,"props":3481,"children":3482},{},[3483],{"type":26,"value":3484},"│   ├── views.py\n",{"type":21,"tag":212,"props":3486,"children":3487},{"class":214,"line":471},[3488],{"type":21,"tag":212,"props":3489,"children":3490},{},[3491],{"type":26,"value":3492},"│   ├── serializers.py\n",{"type":21,"tag":212,"props":3494,"children":3495},{"class":214,"line":485},[3496],{"type":21,"tag":212,"props":3497,"children":3498},{},[3499],{"type":26,"value":3500},"│   ├── urls.py\n",{"type":21,"tag":212,"props":3502,"children":3503},{"class":214,"line":498},[3504],{"type":21,"tag":212,"props":3505,"children":3506},{},[3507],{"type":26,"value":3508},"|   ├── pagination.py\n",{"type":21,"tag":212,"props":3510,"children":3511},{"class":214,"line":511},[3512],{"type":21,"tag":212,"props":3513,"children":3514},{},[3515],{"type":26,"value":3516},"│   ...\n",{"type":21,"tag":212,"props":3518,"children":3519},{"class":214,"line":520},[3520],{"type":21,"tag":212,"props":3521,"children":3522},{},[3523],{"type":26,"value":2448},{"type":21,"tag":22,"props":3525,"children":3526},{},[3527,3529,3534,3536,3542,3544,3550,3552,3558,3560,3565],{"type":26,"value":3528},"Dentro de ",{"type":21,"tag":208,"props":3530,"children":3532},{"className":3531},[],[3533],{"type":26,"value":3436},{"type":26,"value":3535},", DRF ",{"type":21,"tag":208,"props":3537,"children":3539},{"className":3538},[],[3540],{"type":26,"value":3541},"router.urls",{"type":26,"value":3543}," debe ser el mismo que ",{"type":21,"tag":208,"props":3545,"children":3547},{"className":3546},[],[3548],{"type":26,"value":3549},"urlpatterns",{"type":26,"value":3551},".\nDentro del archivo ",{"type":21,"tag":208,"props":3553,"children":3555},{"className":3554},[],[3556],{"type":26,"value":3557},"api_router.py",{"type":26,"value":3559}," incluya la referencia de cada ",{"type":21,"tag":208,"props":3561,"children":3563},{"className":3562},[],[3564],{"type":26,"value":3436},{"type":26,"value":82},{"type":21,"tag":200,"props":3567,"children":3569},{"className":394,"code":3568,"language":396,"meta":205,"style":205},"from django.urls import include\n\nurlpatterns += [\n    ...\n    path(\"\", include(\"folder_api.app.api.urls\"))\n]\n",[3570],{"type":21,"tag":208,"props":3571,"children":3572},{"__ignoreMap":205},[3573,3594,3601,3619,3626,3654],{"type":21,"tag":212,"props":3574,"children":3575},{"class":214,"line":215},[3576,3580,3585,3589],{"type":21,"tag":212,"props":3577,"children":3578},{"style":412},[3579],{"type":26,"value":704},{"type":21,"tag":212,"props":3581,"children":3582},{"style":418},[3583],{"type":26,"value":3584}," django.urls ",{"type":21,"tag":212,"props":3586,"children":3587},{"style":412},[3588],{"type":26,"value":714},{"type":21,"tag":212,"props":3590,"children":3591},{"style":418},[3592],{"type":26,"value":3593}," include\n",{"type":21,"tag":212,"props":3595,"children":3596},{"class":214,"line":424},[3597],{"type":21,"tag":212,"props":3598,"children":3599},{"emptyLinePlaceholder":746},[3600],{"type":26,"value":749},{"type":21,"tag":212,"props":3602,"children":3603},{"class":214,"line":433},[3604,3609,3614],{"type":21,"tag":212,"props":3605,"children":3606},{"style":418},[3607],{"type":26,"value":3608},"urlpatterns ",{"type":21,"tag":212,"props":3610,"children":3611},{"style":412},[3612],{"type":26,"value":3613},"+=",{"type":21,"tag":212,"props":3615,"children":3616},{"style":418},[3617],{"type":26,"value":3618}," [\n",{"type":21,"tag":212,"props":3620,"children":3621},{"class":214,"line":457},[3622],{"type":21,"tag":212,"props":3623,"children":3624},{"style":406},[3625],{"type":26,"value":430},{"type":21,"tag":212,"props":3627,"children":3628},{"class":214,"line":471},[3629,3634,3639,3644,3649],{"type":21,"tag":212,"props":3630,"children":3631},{"style":418},[3632],{"type":26,"value":3633},"    path(",{"type":21,"tag":212,"props":3635,"children":3636},{"style":225},[3637],{"type":26,"value":3638},"\"\"",{"type":21,"tag":212,"props":3640,"children":3641},{"style":418},[3642],{"type":26,"value":3643},", include(",{"type":21,"tag":212,"props":3645,"children":3646},{"style":225},[3647],{"type":26,"value":3648},"\"folder_api.app.api.urls\"",{"type":21,"tag":212,"props":3650,"children":3651},{"style":418},[3652],{"type":26,"value":3653},"))\n",{"type":21,"tag":212,"props":3655,"children":3656},{"class":214,"line":485},[3657],{"type":21,"tag":212,"props":3658,"children":3659},{"style":418},[3660],{"type":26,"value":998},{"type":21,"tag":29,"props":3662,"children":3664},{"id":3663},"próximos-pasos",[3665],{"type":26,"value":3666},"Próximos pasos",{"type":21,"tag":118,"props":3668,"children":3670},{"id":3669},"celery",[3671],{"type":26,"value":3672},"Celery",{"type":21,"tag":22,"props":3674,"children":3675},{},[3676,3678,3684,3686,3692],{"type":26,"value":3677},"Django Cookiecutter ya viene con una implementación de Celery, en la que dentro de cada aplicación de Django definimos un archivo llamado ",{"type":21,"tag":208,"props":3679,"children":3681},{"className":3680},[],[3682],{"type":26,"value":3683},"task.py",{"type":26,"value":3685}," y dentro de él colocamos funciones que se ejecutarán en segundo plano con el decorador de apio ",{"type":21,"tag":208,"props":3687,"children":3689},{"className":3688},[],[3690],{"type":26,"value":3691},"@celery_app.task",{"type":26,"value":82},{"type":21,"tag":200,"props":3694,"children":3696},{"className":394,"code":3695,"language":396,"meta":205,"style":205},"from config.celery_app import app as celery_app\n\n@celery_app.task\ndef sendEmail(user_id):\n    ...\n    msg = EmailMultiAlternatives(...)\n    msg.send()\n",[3697],{"type":21,"tag":208,"props":3698,"children":3699},{"__ignoreMap":205},[3700,3731,3738,3746,3771,3778,3803],{"type":21,"tag":212,"props":3701,"children":3702},{"class":214,"line":215},[3703,3707,3712,3716,3721,3726],{"type":21,"tag":212,"props":3704,"children":3705},{"style":412},[3706],{"type":26,"value":704},{"type":21,"tag":212,"props":3708,"children":3709},{"style":418},[3710],{"type":26,"value":3711}," config.celery_app ",{"type":21,"tag":212,"props":3713,"children":3714},{"style":412},[3715],{"type":26,"value":714},{"type":21,"tag":212,"props":3717,"children":3718},{"style":418},[3719],{"type":26,"value":3720}," app ",{"type":21,"tag":212,"props":3722,"children":3723},{"style":412},[3724],{"type":26,"value":3725},"as",{"type":21,"tag":212,"props":3727,"children":3728},{"style":418},[3729],{"type":26,"value":3730}," celery_app\n",{"type":21,"tag":212,"props":3732,"children":3733},{"class":214,"line":424},[3734],{"type":21,"tag":212,"props":3735,"children":3736},{"emptyLinePlaceholder":746},[3737],{"type":26,"value":749},{"type":21,"tag":212,"props":3739,"children":3740},{"class":214,"line":433},[3741],{"type":21,"tag":212,"props":3742,"children":3743},{"style":219},[3744],{"type":26,"value":3745},"@celery_app.task\n",{"type":21,"tag":212,"props":3747,"children":3748},{"class":214,"line":457},[3749,3753,3758,3762,3767],{"type":21,"tag":212,"props":3750,"children":3751},{"style":755},[3752],{"type":26,"value":1521},{"type":21,"tag":212,"props":3754,"children":3755},{"style":219},[3756],{"type":26,"value":3757}," sendEmail",{"type":21,"tag":212,"props":3759,"children":3760},{"style":418},[3761],{"type":26,"value":769},{"type":21,"tag":212,"props":3763,"children":3764},{"style":801},[3765],{"type":26,"value":3766},"user_id",{"type":21,"tag":212,"props":3768,"children":3769},{"style":418},[3770],{"type":26,"value":780},{"type":21,"tag":212,"props":3772,"children":3773},{"class":214,"line":471},[3774],{"type":21,"tag":212,"props":3775,"children":3776},{"style":406},[3777],{"type":26,"value":430},{"type":21,"tag":212,"props":3779,"children":3780},{"class":214,"line":485},[3781,3786,3790,3795,3799],{"type":21,"tag":212,"props":3782,"children":3783},{"style":418},[3784],{"type":26,"value":3785},"    msg ",{"type":21,"tag":212,"props":3787,"children":3788},{"style":412},[3789],{"type":26,"value":793},{"type":21,"tag":212,"props":3791,"children":3792},{"style":418},[3793],{"type":26,"value":3794}," EmailMultiAlternatives(",{"type":21,"tag":212,"props":3796,"children":3797},{"style":406},[3798],{"type":26,"value":1647},{"type":21,"tag":212,"props":3800,"children":3801},{"style":418},[3802],{"type":26,"value":853},{"type":21,"tag":212,"props":3804,"children":3805},{"class":214,"line":498},[3806],{"type":21,"tag":212,"props":3807,"children":3808},{"style":418},[3809],{"type":26,"value":3810},"    msg.send()\n",{"type":21,"tag":22,"props":3812,"children":3813},{},[3814,3816,3822],{"type":26,"value":3815},"La forma más sencilla de hacer uso de estas funciones es llamando a la función y con el método ",{"type":21,"tag":208,"props":3817,"children":3819},{"className":3818},[],[3820],{"type":26,"value":3821},"delay()",{"type":26,"value":3823}," le pasamos los parámetros correspondientes.",{"type":21,"tag":200,"props":3825,"children":3827},{"className":394,"code":3826,"language":396,"meta":205,"style":205},"from folder_api.users.task import sendEmail\n\nclass SignUpSerializer(serializers.Serializer):\n    ...\n    def create(self, validated_data):\n        ...\n        sendEmail.delay(user.id)\n        ...\n",[3828],{"type":21,"tag":208,"props":3829,"children":3830},{"__ignoreMap":205},[3831,3852,3859,3893,3900,3932,3939,3947],{"type":21,"tag":212,"props":3832,"children":3833},{"class":214,"line":215},[3834,3838,3843,3847],{"type":21,"tag":212,"props":3835,"children":3836},{"style":412},[3837],{"type":26,"value":704},{"type":21,"tag":212,"props":3839,"children":3840},{"style":418},[3841],{"type":26,"value":3842}," folder_api.users.task ",{"type":21,"tag":212,"props":3844,"children":3845},{"style":412},[3846],{"type":26,"value":714},{"type":21,"tag":212,"props":3848,"children":3849},{"style":418},[3850],{"type":26,"value":3851}," sendEmail\n",{"type":21,"tag":212,"props":3853,"children":3854},{"class":214,"line":424},[3855],{"type":21,"tag":212,"props":3856,"children":3857},{"emptyLinePlaceholder":746},[3858],{"type":26,"value":749},{"type":21,"tag":212,"props":3860,"children":3861},{"class":214,"line":433},[3862,3866,3871,3875,3880,3884,3889],{"type":21,"tag":212,"props":3863,"children":3864},{"style":755},[3865],{"type":26,"value":758},{"type":21,"tag":212,"props":3867,"children":3868},{"style":761},[3869],{"type":26,"value":3870}," SignUpSerializer",{"type":21,"tag":212,"props":3872,"children":3873},{"style":418},[3874],{"type":26,"value":769},{"type":21,"tag":212,"props":3876,"children":3877},{"style":772},[3878],{"type":26,"value":3879},"serializers",{"type":21,"tag":212,"props":3881,"children":3882},{"style":418},[3883],{"type":26,"value":82},{"type":21,"tag":212,"props":3885,"children":3886},{"style":772},[3887],{"type":26,"value":3888},"Serializer",{"type":21,"tag":212,"props":3890,"children":3891},{"style":418},[3892],{"type":26,"value":780},{"type":21,"tag":212,"props":3894,"children":3895},{"class":214,"line":457},[3896],{"type":21,"tag":212,"props":3897,"children":3898},{"style":406},[3899],{"type":26,"value":430},{"type":21,"tag":212,"props":3901,"children":3902},{"class":214,"line":471},[3903,3907,3911,3915,3919,3923,3928],{"type":21,"tag":212,"props":3904,"children":3905},{"style":755},[3906],{"type":26,"value":1066},{"type":21,"tag":212,"props":3908,"children":3909},{"style":219},[3910],{"type":26,"value":2144},{"type":21,"tag":212,"props":3912,"children":3913},{"style":418},[3914],{"type":26,"value":769},{"type":21,"tag":212,"props":3916,"children":3917},{"style":801},[3918],{"type":26,"value":1080},{"type":21,"tag":212,"props":3920,"children":3921},{"style":418},[3922],{"type":26,"value":817},{"type":21,"tag":212,"props":3924,"children":3925},{"style":801},[3926],{"type":26,"value":3927},"validated_data",{"type":21,"tag":212,"props":3929,"children":3930},{"style":418},[3931],{"type":26,"value":780},{"type":21,"tag":212,"props":3933,"children":3934},{"class":214,"line":485},[3935],{"type":21,"tag":212,"props":3936,"children":3937},{"style":406},[3938],{"type":26,"value":1133},{"type":21,"tag":212,"props":3940,"children":3941},{"class":214,"line":498},[3942],{"type":21,"tag":212,"props":3943,"children":3944},{"style":418},[3945],{"type":26,"value":3946},"        sendEmail.delay(user.id)\n",{"type":21,"tag":212,"props":3948,"children":3949},{"class":214,"line":511},[3950],{"type":21,"tag":212,"props":3951,"children":3952},{"style":406},[3953],{"type":26,"value":1133},{"type":21,"tag":22,"props":3955,"children":3956},{},[3957,3961,3963,3970],{"type":21,"tag":251,"props":3958,"children":3959},{},[3960],{"type":26,"value":1488},{"type":26,"value":3962}," Para poder programar tareas periódicas, puedes usar el administrador de django y usar la biblioteca ",{"type":21,"tag":72,"props":3964,"children":3967},{":target":74,"href":3965,"rel":3966},"https://github.com/celery/django-celery-beat",[77],[3968],{"type":26,"value":3969},"django-celery-beat",{"type":26,"value":82},{"type":21,"tag":3972,"props":3973,"children":3974},"style",{},[3975],{"type":26,"value":3976},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":205,"searchDepth":424,"depth":424,"links":3978},[3979,3980,3981,3985,3992,3995,3998,4001],{"id":31,"depth":424,"text":34},{"id":62,"depth":424,"text":65},{"id":113,"depth":424,"text":116,"children":3982},[3983,3984],{"id":120,"depth":433,"text":123},{"id":243,"depth":433,"text":246},{"id":365,"depth":424,"text":368,"children":3986},[3987,3988,3989,3990,3991],{"id":376,"depth":433,"text":379},{"id":597,"depth":433,"text":600},{"id":675,"depth":433,"text":678},{"id":864,"depth":433,"text":867},{"id":1136,"depth":433,"text":1139},{"id":288,"depth":424,"text":1670,"children":3993},[3994],{"id":1982,"depth":433,"text":1985},{"id":2645,"depth":424,"text":2648,"children":3996},[3997],{"id":3217,"depth":433,"text":3220},{"id":3402,"depth":424,"text":3405,"children":3999},[4000],{"id":3408,"depth":433,"text":3411},{"id":3663,"depth":424,"text":3666,"children":4002},[4003],{"id":3669,"depth":433,"text":3672},"markdown","content:blog:django-guide.md","content","blog/django-guide.md","blog/django-guide","md",1722912990512]