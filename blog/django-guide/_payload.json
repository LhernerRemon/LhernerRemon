[{"data":1,"prerenderedAt":3981},["Reactive",2],{"content-/blog/django-guide":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"time":11,"tags":12,"author":16,"body":17,"_type":3976,"_id":3977,"_source":3978,"_file":3979,"_extension":3980},"/blog/django-guide","blog",false,"es","Guía de principios en Django con Rest Framework","Conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework.","2023-12-08T00:00:00.000Z","8 min",[13,14,15],"Desarrollo","API","Django","RrQq",{"type":18,"children":19,"toc":3949},"root",[20,28,35,60,66,83,111,117,124,153,176,199,229,240,246,277,307,336,358,364,369,375,387,590,596,617,668,674,685,857,863,875,883,1129,1135,1147,1159,1167,1233,1241,1320,1328,1475,1492,1500,1574,1582,1659,1664,1676,1968,1973,1979,1984,2048,2330,2353,2434,2453,2627,2633,2638,2643,2844,2849,2926,2931,3026,3031,3199,3205,3210,3384,3390,3396,3426,3504,3541,3636,3642,3648,3666,3784,3796,3926,3943],{"type":21,"tag":22,"props":23,"children":24},"element","p",{},[25],{"type":26,"value":27},"text","El objetivo de esta guía no es mostrar una verdad absoluta, sino mostrar un conjunto de principios y consensos para establecer un estándar en el desarrollo de software con Django y Django Rest Framework.",{"type":21,"tag":29,"props":30,"children":32},"h2",{"id":31},"qué-es-lo-que-buscamos-establecer",[33],{"type":26,"value":34},"¿Qué es lo que buscamos establecer?",{"type":21,"tag":36,"props":37,"children":38},"ul",{},[39,45,50,55],{"type":21,"tag":40,"props":41,"children":42},"li",{},[43],{"type":26,"value":44},"Establecer buenas prácticas para el manejo de información dentro de un proyecto django.",{"type":21,"tag":40,"props":46,"children":47},{},[48],{"type":26,"value":49},"Establecer un lugar claro para colocar la 'lógica empresarial'.",{"type":21,"tag":40,"props":51,"children":52},{},[53],{"type":26,"value":54},"Mantenga el código limpio y fácil de leer. Y que cualquier desarrollador del equipo podrá modificar, actualizar, etc.",{"type":21,"tag":40,"props":56,"children":57},{},[58],{"type":26,"value":59},"Establecer consensos para el desarrollo de proyectos de manera transparente.",{"type":21,"tag":29,"props":61,"children":63},{"id":62},"django-cookiecutter",[64],{"type":26,"value":65},"Django Cookiecutter",{"type":21,"tag":22,"props":67,"children":68},{},[69,71,81],{"type":26,"value":70},"Para proyectos Django, utilizamos la estructura de ",{"type":21,"tag":72,"props":73,"children":78},"a",{":target":74,"href":75,"rel":76},"_blank","https://github.com/cookiecutter/cookiecutter-django",[77],"nofollow",[79],{"type":26,"value":80},"Pydanny",{"type":26,"value":82},".",{"type":21,"tag":36,"props":84,"children":85},{},[86,91,96,101,106],{"type":21,"tag":40,"props":87,"children":88},{},[89],{"type":26,"value":90},"En cuanto al proveedor de la nube, utilizamos AWS.",{"type":21,"tag":40,"props":92,"children":93},{},[94],{"type":26,"value":95},"Usamos Docker.",{"type":21,"tag":40,"props":97,"children":98},{},[99],{"type":26,"value":100},"Respecto al servidor de correo, otro SMTP.",{"type":21,"tag":40,"props":102,"children":103},{},[104],{"type":26,"value":105},"De momento no utilizamos ningún compresor, los proyectos no son open source, ni whitenoise ni sentry.",{"type":21,"tag":40,"props":107,"children":108},{},[109],{"type":26,"value":110},"Normalmente eliminamos la biblioteca django-debug-toolbar de la configuración del proyecto local.",{"type":21,"tag":29,"props":112,"children":114},{"id":113},"considerar",[115],{"type":26,"value":116},"Considerar",{"type":21,"tag":118,"props":119,"children":121},"h3",{"id":120},"configuración-previa",[122],{"type":26,"value":123},"Configuración previa",{"type":21,"tag":22,"props":125,"children":126},{},[127,129,134,136,143,145,152],{"type":26,"value":128},"En la documentación de ",{"type":21,"tag":72,"props":130,"children":132},{":target":74,"href":75,"rel":131},[77],[133],{"type":26,"value":65},{"type":26,"value":135},". viene configurado con un linter como ",{"type":21,"tag":72,"props":137,"children":140},{":target":74,"href":138,"rel":139},"https://pypi.org/project/flake8/",[77],[141],{"type":26,"value":142},"Flake8",{"type":26,"value":144}," y con un formateador como ",{"type":21,"tag":72,"props":146,"children":149},{":target":74,"href":147,"rel":148},"https://pypi.org/project/black/",[77],[150],{"type":26,"value":151},"Black",{"type":26,"value":82},{"type":21,"tag":22,"props":154,"children":155},{},[156,158,165,167,174],{"type":26,"value":157},"Para aprovechar el uso del linter Flake8(PyCharm, VsCode), necesitamos configurar nuestro editor de código para usar este linter para Python. Lo mismo ocurre con Black (",{"type":21,"tag":72,"props":159,"children":162},{":target":74,"href":160,"rel":161},"https://black.readthedocs.io/en/stable/integrations/editors.html#pycharm-intellij-idea",[77],[163],{"type":26,"value":164},"PyCharm",{"type":26,"value":166}," y ",{"type":21,"tag":72,"props":168,"children":171},{":target":74,"href":169,"rel":170},"https://dev.to/adamlombard/how-to-use-the-black-python-code-formatter-in-vscode-3lo0",[77],[172],{"type":26,"value":173},"VsCode",{"type":26,"value":175},").",{"type":21,"tag":36,"props":177,"children":178},{},[179,184,189,194],{"type":21,"tag":40,"props":180,"children":181},{},[182],{"type":26,"value":183},"Lo ideal es que al guardar un cambio se revise la sintaxis y se formatee nuestro código.",{"type":21,"tag":40,"props":185,"children":186},{},[187],{"type":26,"value":188},"Con negro utilizamos 129 caracteres como longitud de línea.",{"type":21,"tag":40,"props":190,"children":191},{},[192],{"type":26,"value":193},"Otra forma de utilizar la sintaxis de verificación es mediante la confirmación previa.",{"type":21,"tag":40,"props":195,"children":196},{},[197],{"type":26,"value":198},"Para activar la configuración previa a la confirmación en el proyecto, ejecute este comando:",{"type":21,"tag":200,"props":201,"children":206},"pre",{"className":202,"code":203,"language":204,"meta":205,"style":205},"language-sh shiki shiki-themes monokai","pre-commit install\n","sh","",[207],{"type":21,"tag":208,"props":209,"children":210},"code",{"__ignoreMap":205},[211],{"type":21,"tag":212,"props":213,"children":216},"span",{"class":214,"line":215},"line",1,[217,223],{"type":21,"tag":212,"props":218,"children":220},{"style":219},"--shiki-default:#A6E22E",[221],{"type":26,"value":222},"pre-commit",{"type":21,"tag":212,"props":224,"children":226},{"style":225},"--shiki-default:#E6DB74",[227],{"type":26,"value":228}," install\n",{"type":21,"tag":22,"props":230,"children":231},{},[232,234,239],{"type":26,"value":233},"En general se ejecutan módulos como flake8, isort, black, etc. Si desea cambiar algo de esto, consulte el archivo ",{"type":21,"tag":208,"props":235,"children":236},{"className":205},[237],{"type":26,"value":238},".pre-commit-config.yaml",{"type":26,"value":82},{"type":21,"tag":118,"props":241,"children":243},{"id":242},"información-previa",[244],{"type":26,"value":245},"Información previa",{"type":21,"tag":22,"props":247,"children":248},{},[249,255,257,262,264,269,271,276],{"type":21,"tag":250,"props":251,"children":252},"strong",{},[253],{"type":26,"value":254},"El Directorio de Aplicaciones de Django",{"type":26,"value":256}," guarda los modelos que están relacionados, debe escribirse en ",{"type":21,"tag":250,"props":258,"children":259},{},[260],{"type":26,"value":261},"plural",{"type":26,"value":263}," y en ",{"type":21,"tag":250,"props":265,"children":266},{},[267],{"type":26,"value":268},"minúsculas",{"type":26,"value":270},". Por ejemplo ",{"type":21,"tag":208,"props":272,"children":273},{"className":205},[274],{"type":26,"value":275},"users",{"type":26,"value":82},{"type":21,"tag":22,"props":278,"children":279},{},[280,282,287,289,294,295,300,301,306],{"type":26,"value":281},"Los nombres de los ",{"type":21,"tag":250,"props":283,"children":284},{},[285],{"type":26,"value":286},"modelos",{"type":26,"value":288}," deben estar en ",{"type":21,"tag":250,"props":290,"children":291},{},[292],{"type":26,"value":293},"singular",{"type":26,"value":263},{"type":21,"tag":250,"props":296,"children":297},{},[298],{"type":26,"value":299},"PascalCase",{"type":26,"value":270},{"type":21,"tag":208,"props":302,"children":303},{"className":205},[304],{"type":26,"value":305},"Ticket",{"type":26,"value":82},{"type":21,"tag":22,"props":308,"children":309},{},[310,315,317,322,324,329,330,335],{"type":21,"tag":250,"props":311,"children":312},{},[313],{"type":26,"value":314},"Los campos",{"type":26,"value":316}," deben ser ",{"type":21,"tag":250,"props":318,"children":319},{},[320],{"type":26,"value":321},"singulares",{"type":26,"value":323}," y estar en ",{"type":21,"tag":250,"props":325,"children":326},{},[327],{"type":26,"value":328},"Snake_case",{"type":26,"value":270},{"type":21,"tag":208,"props":331,"children":332},{"className":205},[333],{"type":26,"value":334},"price_type",{"type":26,"value":82},{"type":21,"tag":22,"props":337,"children":338},{},[339,344,346,351,352,357],{"type":21,"tag":250,"props":340,"children":341},{},[342],{"type":26,"value":343},"Las funciones",{"type":26,"value":345}," deben comenzar con un verbo y estar en ",{"type":21,"tag":250,"props":347,"children":348},{},[349],{"type":26,"value":350},"snake_case",{"type":26,"value":270},{"type":21,"tag":208,"props":353,"children":354},{"className":205},[355],{"type":26,"value":356},"get_related_tickets",{"type":26,"value":82},{"type":21,"tag":29,"props":359,"children":361},{"id":360},"configuración",[362],{"type":26,"value":363},"Configuración",{"type":21,"tag":22,"props":365,"children":366},{},[367],{"type":26,"value":368},"En cuanto a la configuración predeterminada de Django Cookiecutter, agregamos algunas bibliotecas relacionadas como estas:",{"type":21,"tag":118,"props":370,"children":372},{"id":371},"django-camelcase",[373],{"type":26,"value":374},"Django CamelCase",{"type":21,"tag":22,"props":376,"children":377},{},[378,385],{"type":21,"tag":72,"props":379,"children":382},{":target":74,"href":380,"rel":381},"https://github.com/vbabiy/djangorestframework-camel-case",[77],[383],{"type":26,"value":384},"Django REST Framework JSON CamelCase",{"type":26,"value":386}," para obtener una salida y entrada del analizador Json con formato CamelCase.",{"type":21,"tag":200,"props":388,"children":392},{"className":389,"code":390,"language":391,"meta":205,"style":205},"language-py shiki shiki-themes monokai","REST_FRAMEWORK = {\n    ...\n    \"DEFAULT_RENDERER_CLASSES\": (\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\",),\n    \"DEFAULT_PARSER_CLASSES\": (\n        \"djangorestframework_camel_case.parser.CamelCaseFormParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\",\n        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\",\n    ),\n    \"JSON_UNDERSCOREIZE\": {\n        \"no_underscore_before_number\": True,\n    },\n    \"COERCE_DECIMAL_TO_STRING\": False,\n}\n","py",[393],{"type":21,"tag":208,"props":394,"children":395},{"__ignoreMap":205},[396,417,426,450,464,478,491,504,513,527,550,559,581],{"type":21,"tag":212,"props":397,"children":398},{"class":214,"line":215},[399,405,411],{"type":21,"tag":212,"props":400,"children":402},{"style":401},"--shiki-default:#AE81FF",[403],{"type":26,"value":404},"REST_FRAMEWORK",{"type":21,"tag":212,"props":406,"children":408},{"style":407},"--shiki-default:#F92672",[409],{"type":26,"value":410}," =",{"type":21,"tag":212,"props":412,"children":414},{"style":413},"--shiki-default:#F8F8F2",[415],{"type":26,"value":416}," {\n",{"type":21,"tag":212,"props":418,"children":420},{"class":214,"line":419},2,[421],{"type":21,"tag":212,"props":422,"children":423},{"style":401},[424],{"type":26,"value":425},"    ...\n",{"type":21,"tag":212,"props":427,"children":429},{"class":214,"line":428},3,[430,435,440,445],{"type":21,"tag":212,"props":431,"children":432},{"style":225},[433],{"type":26,"value":434},"    \"DEFAULT_RENDERER_CLASSES\"",{"type":21,"tag":212,"props":436,"children":437},{"style":413},[438],{"type":26,"value":439},": (",{"type":21,"tag":212,"props":441,"children":442},{"style":225},[443],{"type":26,"value":444},"\"djangorestframework_camel_case.render.CamelCaseJSONRenderer\"",{"type":21,"tag":212,"props":446,"children":447},{"style":413},[448],{"type":26,"value":449},",),\n",{"type":21,"tag":212,"props":451,"children":453},{"class":214,"line":452},4,[454,459],{"type":21,"tag":212,"props":455,"children":456},{"style":225},[457],{"type":26,"value":458},"    \"DEFAULT_PARSER_CLASSES\"",{"type":21,"tag":212,"props":460,"children":461},{"style":413},[462],{"type":26,"value":463},": (\n",{"type":21,"tag":212,"props":465,"children":467},{"class":214,"line":466},5,[468,473],{"type":21,"tag":212,"props":469,"children":470},{"style":225},[471],{"type":26,"value":472},"        \"djangorestframework_camel_case.parser.CamelCaseFormParser\"",{"type":21,"tag":212,"props":474,"children":475},{"style":413},[476],{"type":26,"value":477},",\n",{"type":21,"tag":212,"props":479,"children":481},{"class":214,"line":480},6,[482,487],{"type":21,"tag":212,"props":483,"children":484},{"style":225},[485],{"type":26,"value":486},"        \"djangorestframework_camel_case.parser.CamelCaseMultiPartParser\"",{"type":21,"tag":212,"props":488,"children":489},{"style":413},[490],{"type":26,"value":477},{"type":21,"tag":212,"props":492,"children":494},{"class":214,"line":493},7,[495,500],{"type":21,"tag":212,"props":496,"children":497},{"style":225},[498],{"type":26,"value":499},"        \"djangorestframework_camel_case.parser.CamelCaseJSONParser\"",{"type":21,"tag":212,"props":501,"children":502},{"style":413},[503],{"type":26,"value":477},{"type":21,"tag":212,"props":505,"children":507},{"class":214,"line":506},8,[508],{"type":21,"tag":212,"props":509,"children":510},{"style":413},[511],{"type":26,"value":512},"    ),\n",{"type":21,"tag":212,"props":514,"children":516},{"class":214,"line":515},9,[517,522],{"type":21,"tag":212,"props":518,"children":519},{"style":225},[520],{"type":26,"value":521},"    \"JSON_UNDERSCOREIZE\"",{"type":21,"tag":212,"props":523,"children":524},{"style":413},[525],{"type":26,"value":526},": {\n",{"type":21,"tag":212,"props":528,"children":530},{"class":214,"line":529},10,[531,536,541,546],{"type":21,"tag":212,"props":532,"children":533},{"style":225},[534],{"type":26,"value":535},"        \"no_underscore_before_number\"",{"type":21,"tag":212,"props":537,"children":538},{"style":413},[539],{"type":26,"value":540},": ",{"type":21,"tag":212,"props":542,"children":543},{"style":401},[544],{"type":26,"value":545},"True",{"type":21,"tag":212,"props":547,"children":548},{"style":413},[549],{"type":26,"value":477},{"type":21,"tag":212,"props":551,"children":553},{"class":214,"line":552},11,[554],{"type":21,"tag":212,"props":555,"children":556},{"style":413},[557],{"type":26,"value":558},"    },\n",{"type":21,"tag":212,"props":560,"children":562},{"class":214,"line":561},12,[563,568,572,577],{"type":21,"tag":212,"props":564,"children":565},{"style":225},[566],{"type":26,"value":567},"    \"COERCE_DECIMAL_TO_STRING\"",{"type":21,"tag":212,"props":569,"children":570},{"style":413},[571],{"type":26,"value":540},{"type":21,"tag":212,"props":573,"children":574},{"style":401},[575],{"type":26,"value":576},"False",{"type":21,"tag":212,"props":578,"children":579},{"style":413},[580],{"type":26,"value":477},{"type":21,"tag":212,"props":582,"children":584},{"class":214,"line":583},13,[585],{"type":21,"tag":212,"props":586,"children":587},{"style":413},[588],{"type":26,"value":589},"}\n",{"type":21,"tag":118,"props":591,"children":593},{"id":592},"dj-rest-auth",[594],{"type":26,"value":595},"Dj Rest Auth",{"type":21,"tag":22,"props":597,"children":598},{},[599,606,608,615],{"type":21,"tag":72,"props":600,"children":603},{":target":74,"href":601,"rel":602},"https://github.com/iMerica/dj-rest-auth",[77],[604],{"type":26,"value":605},"Dj-Rest-Auth",{"type":26,"value":607}," nos proporciona puntos finales API directos para manejar de forma segura la autenticación en Django.\nSi necesitamos cambiar un ",{"type":21,"tag":72,"props":609,"children":612},{":target":74,"href":610,"rel":611},"https://dj-rest-auth.readthedocs.io/en/latest/configuration.html",[77],[613],{"type":26,"value":614},"serializador",{"type":26,"value":616}," predeterminado, podemos usar:",{"type":21,"tag":200,"props":618,"children":620},{"className":389,"code":619,"language":391,"meta":205,"style":205},"  REST_AUTH_SERIALIZERS = {\n    \"LOGIN_SERIALIZER\": \"folder_api.users.api.serializers.MyLoginSerializer\",\n}\n",[621],{"type":21,"tag":208,"props":622,"children":623},{"__ignoreMap":205},[624,640,661],{"type":21,"tag":212,"props":625,"children":626},{"class":214,"line":215},[627,632,636],{"type":21,"tag":212,"props":628,"children":629},{"style":401},[630],{"type":26,"value":631},"  REST_AUTH_SERIALIZERS",{"type":21,"tag":212,"props":633,"children":634},{"style":407},[635],{"type":26,"value":410},{"type":21,"tag":212,"props":637,"children":638},{"style":413},[639],{"type":26,"value":416},{"type":21,"tag":212,"props":641,"children":642},{"class":214,"line":419},[643,648,652,657],{"type":21,"tag":212,"props":644,"children":645},{"style":225},[646],{"type":26,"value":647},"    \"LOGIN_SERIALIZER\"",{"type":21,"tag":212,"props":649,"children":650},{"style":413},[651],{"type":26,"value":540},{"type":21,"tag":212,"props":653,"children":654},{"style":225},[655],{"type":26,"value":656},"\"folder_api.users.api.serializers.MyLoginSerializer\"",{"type":21,"tag":212,"props":658,"children":659},{"style":413},[660],{"type":26,"value":477},{"type":21,"tag":212,"props":662,"children":663},{"class":214,"line":428},[664],{"type":21,"tag":212,"props":665,"children":666},{"style":413},[667],{"type":26,"value":589},{"type":21,"tag":118,"props":669,"children":671},{"id":670},"django-model-utils",[672],{"type":26,"value":673},"Django Model Utils",{"type":21,"tag":22,"props":675,"children":676},{},[677,683],{"type":21,"tag":72,"props":678,"children":681},{":target":74,"href":679,"rel":680},"https://github.com/jazzband/django-model-utils",[77],[682],{"type":26,"value":673},{"type":26,"value":684}," nos proporciona utilidades para modelos y campos. Entre estos tenemos un modelo abstracto para manejar las fechas de creación y modificación.",{"type":21,"tag":200,"props":686,"children":688},{"className":389,"code":687,"language":391,"meta":205,"style":205},"from model_utils.models import TimeStampedModel\nfrom model_utils.fields import UUIDField\n\nclass Ticket(TimeStampedModel):\n  uuid = UUIDField(primary_key=True, version=4, editable=False)\n  ...\n",[689],{"type":21,"tag":208,"props":690,"children":691},{"__ignoreMap":205},[692,715,736,745,776,849],{"type":21,"tag":212,"props":693,"children":694},{"class":214,"line":215},[695,700,705,710],{"type":21,"tag":212,"props":696,"children":697},{"style":407},[698],{"type":26,"value":699},"from",{"type":21,"tag":212,"props":701,"children":702},{"style":413},[703],{"type":26,"value":704}," model_utils.models ",{"type":21,"tag":212,"props":706,"children":707},{"style":407},[708],{"type":26,"value":709},"import",{"type":21,"tag":212,"props":711,"children":712},{"style":413},[713],{"type":26,"value":714}," TimeStampedModel\n",{"type":21,"tag":212,"props":716,"children":717},{"class":214,"line":419},[718,722,727,731],{"type":21,"tag":212,"props":719,"children":720},{"style":407},[721],{"type":26,"value":699},{"type":21,"tag":212,"props":723,"children":724},{"style":413},[725],{"type":26,"value":726}," model_utils.fields ",{"type":21,"tag":212,"props":728,"children":729},{"style":407},[730],{"type":26,"value":709},{"type":21,"tag":212,"props":732,"children":733},{"style":413},[734],{"type":26,"value":735}," UUIDField\n",{"type":21,"tag":212,"props":737,"children":738},{"class":214,"line":428},[739],{"type":21,"tag":212,"props":740,"children":742},{"emptyLinePlaceholder":741},true,[743],{"type":26,"value":744},"\n",{"type":21,"tag":212,"props":746,"children":747},{"class":214,"line":452},[748,754,760,765,771],{"type":21,"tag":212,"props":749,"children":751},{"style":750},"--shiki-default:#66D9EF;--shiki-default-font-style:italic",[752],{"type":26,"value":753},"class",{"type":21,"tag":212,"props":755,"children":757},{"style":756},"--shiki-default:#A6E22E;--shiki-default-text-decoration:underline",[758],{"type":26,"value":759}," Ticket",{"type":21,"tag":212,"props":761,"children":762},{"style":413},[763],{"type":26,"value":764},"(",{"type":21,"tag":212,"props":766,"children":768},{"style":767},"--shiki-default:#A6E22E;--shiki-default-font-style:italic;--shiki-default-text-decoration:underline",[769],{"type":26,"value":770},"TimeStampedModel",{"type":21,"tag":212,"props":772,"children":773},{"style":413},[774],{"type":26,"value":775},"):\n",{"type":21,"tag":212,"props":777,"children":778},{"class":214,"line":466},[779,784,789,794,800,804,808,813,818,822,827,831,836,840,844],{"type":21,"tag":212,"props":780,"children":781},{"style":413},[782],{"type":26,"value":783},"  uuid ",{"type":21,"tag":212,"props":785,"children":786},{"style":407},[787],{"type":26,"value":788},"=",{"type":21,"tag":212,"props":790,"children":791},{"style":413},[792],{"type":26,"value":793}," UUIDField(",{"type":21,"tag":212,"props":795,"children":797},{"style":796},"--shiki-default:#FD971F;--shiki-default-font-style:italic",[798],{"type":26,"value":799},"primary_key",{"type":21,"tag":212,"props":801,"children":802},{"style":407},[803],{"type":26,"value":788},{"type":21,"tag":212,"props":805,"children":806},{"style":401},[807],{"type":26,"value":545},{"type":21,"tag":212,"props":809,"children":810},{"style":413},[811],{"type":26,"value":812},", ",{"type":21,"tag":212,"props":814,"children":815},{"style":796},[816],{"type":26,"value":817},"version",{"type":21,"tag":212,"props":819,"children":820},{"style":407},[821],{"type":26,"value":788},{"type":21,"tag":212,"props":823,"children":824},{"style":401},[825],{"type":26,"value":826},"4",{"type":21,"tag":212,"props":828,"children":829},{"style":413},[830],{"type":26,"value":812},{"type":21,"tag":212,"props":832,"children":833},{"style":796},[834],{"type":26,"value":835},"editable",{"type":21,"tag":212,"props":837,"children":838},{"style":407},[839],{"type":26,"value":788},{"type":21,"tag":212,"props":841,"children":842},{"style":401},[843],{"type":26,"value":576},{"type":21,"tag":212,"props":845,"children":846},{"style":413},[847],{"type":26,"value":848},")\n",{"type":21,"tag":212,"props":850,"children":851},{"class":214,"line":480},[852],{"type":21,"tag":212,"props":853,"children":854},{"style":401},[855],{"type":26,"value":856},"  ...\n",{"type":21,"tag":118,"props":858,"children":860},{"id":859},"django-url-filter",[861],{"type":26,"value":862},"Django URL Filter",{"type":21,"tag":22,"props":864,"children":865},{},[866,873],{"type":21,"tag":72,"props":867,"children":870},{":target":74,"href":868,"rel":869},"https://pypi.org/project/django-url-filter/",[77],[871],{"type":26,"value":872},"Django Url Filter",{"type":26,"value":874}," nos proporciona una interfaz URL simple para filtrar datos, entre campos y relaciones.",{"type":21,"tag":36,"props":876,"children":877},{},[878],{"type":21,"tag":40,"props":879,"children":880},{},[881],{"type":26,"value":882},"Si necesitas agregarlo dentro de una acción, puedes hacerlo de esta manera:",{"type":21,"tag":200,"props":884,"children":886},{"className":389,"code":885,"language":391,"meta":205,"style":205},"from url_filter.integrations.drf import DjangoFilterBackend\n\nclass TicketViewSet(GenericViewSet):\n    ...\n    filter_backends = [DjangoFilterBackend]\n    filter_fields = [\"uuid\"]\n    ...\n    @action(detail=False, methods=[\"GET\"])\n    def defeated(self, request):\n        productos = self.filter_queryset(self.get_queryset())\n        ...\n",[887],{"type":21,"tag":208,"props":888,"children":889},{"__ignoreMap":205},[890,911,918,943,950,967,994,1001,1054,1089,1121],{"type":21,"tag":212,"props":891,"children":892},{"class":214,"line":215},[893,897,902,906],{"type":21,"tag":212,"props":894,"children":895},{"style":407},[896],{"type":26,"value":699},{"type":21,"tag":212,"props":898,"children":899},{"style":413},[900],{"type":26,"value":901}," url_filter.integrations.drf ",{"type":21,"tag":212,"props":903,"children":904},{"style":407},[905],{"type":26,"value":709},{"type":21,"tag":212,"props":907,"children":908},{"style":413},[909],{"type":26,"value":910}," DjangoFilterBackend\n",{"type":21,"tag":212,"props":912,"children":913},{"class":214,"line":419},[914],{"type":21,"tag":212,"props":915,"children":916},{"emptyLinePlaceholder":741},[917],{"type":26,"value":744},{"type":21,"tag":212,"props":919,"children":920},{"class":214,"line":428},[921,925,930,934,939],{"type":21,"tag":212,"props":922,"children":923},{"style":750},[924],{"type":26,"value":753},{"type":21,"tag":212,"props":926,"children":927},{"style":756},[928],{"type":26,"value":929}," TicketViewSet",{"type":21,"tag":212,"props":931,"children":932},{"style":413},[933],{"type":26,"value":764},{"type":21,"tag":212,"props":935,"children":936},{"style":767},[937],{"type":26,"value":938},"GenericViewSet",{"type":21,"tag":212,"props":940,"children":941},{"style":413},[942],{"type":26,"value":775},{"type":21,"tag":212,"props":944,"children":945},{"class":214,"line":452},[946],{"type":21,"tag":212,"props":947,"children":948},{"style":401},[949],{"type":26,"value":425},{"type":21,"tag":212,"props":951,"children":952},{"class":214,"line":466},[953,958,962],{"type":21,"tag":212,"props":954,"children":955},{"style":413},[956],{"type":26,"value":957},"    filter_backends ",{"type":21,"tag":212,"props":959,"children":960},{"style":407},[961],{"type":26,"value":788},{"type":21,"tag":212,"props":963,"children":964},{"style":413},[965],{"type":26,"value":966}," [DjangoFilterBackend]\n",{"type":21,"tag":212,"props":968,"children":969},{"class":214,"line":480},[970,975,979,984,989],{"type":21,"tag":212,"props":971,"children":972},{"style":413},[973],{"type":26,"value":974},"    filter_fields ",{"type":21,"tag":212,"props":976,"children":977},{"style":407},[978],{"type":26,"value":788},{"type":21,"tag":212,"props":980,"children":981},{"style":413},[982],{"type":26,"value":983}," [",{"type":21,"tag":212,"props":985,"children":986},{"style":225},[987],{"type":26,"value":988},"\"uuid\"",{"type":21,"tag":212,"props":990,"children":991},{"style":413},[992],{"type":26,"value":993},"]\n",{"type":21,"tag":212,"props":995,"children":996},{"class":214,"line":493},[997],{"type":21,"tag":212,"props":998,"children":999},{"style":401},[1000],{"type":26,"value":425},{"type":21,"tag":212,"props":1002,"children":1003},{"class":214,"line":506},[1004,1009,1013,1018,1022,1026,1030,1035,1039,1044,1049],{"type":21,"tag":212,"props":1005,"children":1006},{"style":219},[1007],{"type":26,"value":1008},"    @action",{"type":21,"tag":212,"props":1010,"children":1011},{"style":413},[1012],{"type":26,"value":764},{"type":21,"tag":212,"props":1014,"children":1015},{"style":796},[1016],{"type":26,"value":1017},"detail",{"type":21,"tag":212,"props":1019,"children":1020},{"style":407},[1021],{"type":26,"value":788},{"type":21,"tag":212,"props":1023,"children":1024},{"style":401},[1025],{"type":26,"value":576},{"type":21,"tag":212,"props":1027,"children":1028},{"style":413},[1029],{"type":26,"value":812},{"type":21,"tag":212,"props":1031,"children":1032},{"style":796},[1033],{"type":26,"value":1034},"methods",{"type":21,"tag":212,"props":1036,"children":1037},{"style":407},[1038],{"type":26,"value":788},{"type":21,"tag":212,"props":1040,"children":1041},{"style":413},[1042],{"type":26,"value":1043},"[",{"type":21,"tag":212,"props":1045,"children":1046},{"style":225},[1047],{"type":26,"value":1048},"\"GET\"",{"type":21,"tag":212,"props":1050,"children":1051},{"style":413},[1052],{"type":26,"value":1053},"])\n",{"type":21,"tag":212,"props":1055,"children":1056},{"class":214,"line":515},[1057,1062,1067,1071,1076,1080,1085],{"type":21,"tag":212,"props":1058,"children":1059},{"style":750},[1060],{"type":26,"value":1061},"    def",{"type":21,"tag":212,"props":1063,"children":1064},{"style":219},[1065],{"type":26,"value":1066}," defeated",{"type":21,"tag":212,"props":1068,"children":1069},{"style":413},[1070],{"type":26,"value":764},{"type":21,"tag":212,"props":1072,"children":1073},{"style":796},[1074],{"type":26,"value":1075},"self",{"type":21,"tag":212,"props":1077,"children":1078},{"style":413},[1079],{"type":26,"value":812},{"type":21,"tag":212,"props":1081,"children":1082},{"style":796},[1083],{"type":26,"value":1084},"request",{"type":21,"tag":212,"props":1086,"children":1087},{"style":413},[1088],{"type":26,"value":775},{"type":21,"tag":212,"props":1090,"children":1091},{"class":214,"line":529},[1092,1097,1101,1107,1112,1116],{"type":21,"tag":212,"props":1093,"children":1094},{"style":413},[1095],{"type":26,"value":1096},"        productos ",{"type":21,"tag":212,"props":1098,"children":1099},{"style":407},[1100],{"type":26,"value":788},{"type":21,"tag":212,"props":1102,"children":1104},{"style":1103},"--shiki-default:#FD971F",[1105],{"type":26,"value":1106}," self",{"type":21,"tag":212,"props":1108,"children":1109},{"style":413},[1110],{"type":26,"value":1111},".filter_queryset(",{"type":21,"tag":212,"props":1113,"children":1114},{"style":1103},[1115],{"type":26,"value":1075},{"type":21,"tag":212,"props":1117,"children":1118},{"style":413},[1119],{"type":26,"value":1120},".get_queryset())\n",{"type":21,"tag":212,"props":1122,"children":1123},{"class":214,"line":552},[1124],{"type":21,"tag":212,"props":1125,"children":1126},{"style":401},[1127],{"type":26,"value":1128},"        ...\n",{"type":21,"tag":118,"props":1130,"children":1132},{"id":1131},"storages",[1133],{"type":26,"value":1134},"Storages",{"type":21,"tag":22,"props":1136,"children":1137},{},[1138,1145],{"type":21,"tag":72,"props":1139,"children":1142},{":target":74,"href":1140,"rel":1141},"https://django-storages.readthedocs.io/en/latest/backends/amazon-S3.html",[77],[1143],{"type":26,"value":1144},"Django Storages",{"type":26,"value":1146}," nos proporciona un conjunto de backends de almacenamiento para Django. Estos backends proporcionan compatibilidad con el almacenamiento de archivos en Amazon S3, Azure Storage, Google Cloud Storage, etc.",{"type":21,"tag":22,"props":1148,"children":1149},{},[1150,1152,1157],{"type":26,"value":1151},"La configuración la podemos mantener dentro de un archivo ",{"type":21,"tag":208,"props":1153,"children":1154},{"className":205},[1155],{"type":26,"value":1156},"storages.py",{"type":26,"value":1158}," dentro de la carpeta utils.",{"type":21,"tag":36,"props":1160,"children":1161},{},[1162],{"type":21,"tag":40,"props":1163,"children":1164},{},[1165],{"type":26,"value":1166},"Generalmente permitimos que los archivos estáticos sean legibles públicamente:",{"type":21,"tag":200,"props":1168,"children":1170},{"className":389,"code":1169,"language":391,"meta":205,"style":205},"class StaticRootS3Boto3Storage(S3Boto3Storage):\n    location = \"static\"\n    default_acl = \"public-read\"\n",[1171],{"type":21,"tag":208,"props":1172,"children":1173},{"__ignoreMap":205},[1174,1199,1216],{"type":21,"tag":212,"props":1175,"children":1176},{"class":214,"line":215},[1177,1181,1186,1190,1195],{"type":21,"tag":212,"props":1178,"children":1179},{"style":750},[1180],{"type":26,"value":753},{"type":21,"tag":212,"props":1182,"children":1183},{"style":756},[1184],{"type":26,"value":1185}," StaticRootS3Boto3Storage",{"type":21,"tag":212,"props":1187,"children":1188},{"style":413},[1189],{"type":26,"value":764},{"type":21,"tag":212,"props":1191,"children":1192},{"style":767},[1193],{"type":26,"value":1194},"S3Boto3Storage",{"type":21,"tag":212,"props":1196,"children":1197},{"style":413},[1198],{"type":26,"value":775},{"type":21,"tag":212,"props":1200,"children":1201},{"class":214,"line":419},[1202,1207,1211],{"type":21,"tag":212,"props":1203,"children":1204},{"style":413},[1205],{"type":26,"value":1206},"    location ",{"type":21,"tag":212,"props":1208,"children":1209},{"style":407},[1210],{"type":26,"value":788},{"type":21,"tag":212,"props":1212,"children":1213},{"style":225},[1214],{"type":26,"value":1215}," \"static\"\n",{"type":21,"tag":212,"props":1217,"children":1218},{"class":214,"line":428},[1219,1224,1228],{"type":21,"tag":212,"props":1220,"children":1221},{"style":413},[1222],{"type":26,"value":1223},"    default_acl ",{"type":21,"tag":212,"props":1225,"children":1226},{"style":407},[1227],{"type":26,"value":788},{"type":21,"tag":212,"props":1229,"children":1230},{"style":225},[1231],{"type":26,"value":1232}," \"public-read\"\n",{"type":21,"tag":36,"props":1234,"children":1235},{},[1236],{"type":21,"tag":40,"props":1237,"children":1238},{},[1239],{"type":26,"value":1240},"En el caso de mantener los archivos multimedia legibles públicamente:",{"type":21,"tag":200,"props":1242,"children":1244},{"className":389,"code":1243,"language":391,"meta":205,"style":205},"class PublicMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media\"\n    default_acl = \"public-read\"\n    file_overwrite = False\n",[1245],{"type":21,"tag":208,"props":1246,"children":1247},{"__ignoreMap":205},[1248,1272,1288,1303],{"type":21,"tag":212,"props":1249,"children":1250},{"class":214,"line":215},[1251,1255,1260,1264,1268],{"type":21,"tag":212,"props":1252,"children":1253},{"style":750},[1254],{"type":26,"value":753},{"type":21,"tag":212,"props":1256,"children":1257},{"style":756},[1258],{"type":26,"value":1259}," PublicMediaS3Boto3Storage",{"type":21,"tag":212,"props":1261,"children":1262},{"style":413},[1263],{"type":26,"value":764},{"type":21,"tag":212,"props":1265,"children":1266},{"style":767},[1267],{"type":26,"value":1194},{"type":21,"tag":212,"props":1269,"children":1270},{"style":413},[1271],{"type":26,"value":775},{"type":21,"tag":212,"props":1273,"children":1274},{"class":214,"line":419},[1275,1279,1283],{"type":21,"tag":212,"props":1276,"children":1277},{"style":413},[1278],{"type":26,"value":1206},{"type":21,"tag":212,"props":1280,"children":1281},{"style":407},[1282],{"type":26,"value":788},{"type":21,"tag":212,"props":1284,"children":1285},{"style":225},[1286],{"type":26,"value":1287}," \"media\"\n",{"type":21,"tag":212,"props":1289,"children":1290},{"class":214,"line":428},[1291,1295,1299],{"type":21,"tag":212,"props":1292,"children":1293},{"style":413},[1294],{"type":26,"value":1223},{"type":21,"tag":212,"props":1296,"children":1297},{"style":407},[1298],{"type":26,"value":788},{"type":21,"tag":212,"props":1300,"children":1301},{"style":225},[1302],{"type":26,"value":1232},{"type":21,"tag":212,"props":1304,"children":1305},{"class":214,"line":452},[1306,1311,1315],{"type":21,"tag":212,"props":1307,"children":1308},{"style":413},[1309],{"type":26,"value":1310},"    file_overwrite ",{"type":21,"tag":212,"props":1312,"children":1313},{"style":407},[1314],{"type":26,"value":788},{"type":21,"tag":212,"props":1316,"children":1317},{"style":401},[1318],{"type":26,"value":1319}," False\n",{"type":21,"tag":36,"props":1321,"children":1322},{},[1323],{"type":21,"tag":40,"props":1324,"children":1325},{},[1326],{"type":26,"value":1327},"Pero en caso de que necesite crear una carpeta con archivos multimedia privados.",{"type":21,"tag":200,"props":1329,"children":1331},{"className":389,"code":1330,"language":391,"meta":205,"style":205},"class PrivateMediaS3Boto3Storage(S3Boto3Storage):\n    location = \"media-private\"\n    default_acl = \"private\"\n    file_overwrite = False\n    querystring_auth = True\n    querystring_expire = 60 * 60 * 12\n    region_name = \"us-east-2\"\n",[1332],{"type":21,"tag":208,"props":1333,"children":1334},{"__ignoreMap":205},[1335,1359,1375,1391,1406,1423,1458],{"type":21,"tag":212,"props":1336,"children":1337},{"class":214,"line":215},[1338,1342,1347,1351,1355],{"type":21,"tag":212,"props":1339,"children":1340},{"style":750},[1341],{"type":26,"value":753},{"type":21,"tag":212,"props":1343,"children":1344},{"style":756},[1345],{"type":26,"value":1346}," PrivateMediaS3Boto3Storage",{"type":21,"tag":212,"props":1348,"children":1349},{"style":413},[1350],{"type":26,"value":764},{"type":21,"tag":212,"props":1352,"children":1353},{"style":767},[1354],{"type":26,"value":1194},{"type":21,"tag":212,"props":1356,"children":1357},{"style":413},[1358],{"type":26,"value":775},{"type":21,"tag":212,"props":1360,"children":1361},{"class":214,"line":419},[1362,1366,1370],{"type":21,"tag":212,"props":1363,"children":1364},{"style":413},[1365],{"type":26,"value":1206},{"type":21,"tag":212,"props":1367,"children":1368},{"style":407},[1369],{"type":26,"value":788},{"type":21,"tag":212,"props":1371,"children":1372},{"style":225},[1373],{"type":26,"value":1374}," \"media-private\"\n",{"type":21,"tag":212,"props":1376,"children":1377},{"class":214,"line":428},[1378,1382,1386],{"type":21,"tag":212,"props":1379,"children":1380},{"style":413},[1381],{"type":26,"value":1223},{"type":21,"tag":212,"props":1383,"children":1384},{"style":407},[1385],{"type":26,"value":788},{"type":21,"tag":212,"props":1387,"children":1388},{"style":225},[1389],{"type":26,"value":1390}," \"private\"\n",{"type":21,"tag":212,"props":1392,"children":1393},{"class":214,"line":452},[1394,1398,1402],{"type":21,"tag":212,"props":1395,"children":1396},{"style":413},[1397],{"type":26,"value":1310},{"type":21,"tag":212,"props":1399,"children":1400},{"style":407},[1401],{"type":26,"value":788},{"type":21,"tag":212,"props":1403,"children":1404},{"style":401},[1405],{"type":26,"value":1319},{"type":21,"tag":212,"props":1407,"children":1408},{"class":214,"line":466},[1409,1414,1418],{"type":21,"tag":212,"props":1410,"children":1411},{"style":413},[1412],{"type":26,"value":1413},"    querystring_auth ",{"type":21,"tag":212,"props":1415,"children":1416},{"style":407},[1417],{"type":26,"value":788},{"type":21,"tag":212,"props":1419,"children":1420},{"style":401},[1421],{"type":26,"value":1422}," True\n",{"type":21,"tag":212,"props":1424,"children":1425},{"class":214,"line":480},[1426,1431,1435,1440,1445,1449,1453],{"type":21,"tag":212,"props":1427,"children":1428},{"style":413},[1429],{"type":26,"value":1430},"    querystring_expire ",{"type":21,"tag":212,"props":1432,"children":1433},{"style":407},[1434],{"type":26,"value":788},{"type":21,"tag":212,"props":1436,"children":1437},{"style":401},[1438],{"type":26,"value":1439}," 60",{"type":21,"tag":212,"props":1441,"children":1442},{"style":407},[1443],{"type":26,"value":1444}," *",{"type":21,"tag":212,"props":1446,"children":1447},{"style":401},[1448],{"type":26,"value":1439},{"type":21,"tag":212,"props":1450,"children":1451},{"style":407},[1452],{"type":26,"value":1444},{"type":21,"tag":212,"props":1454,"children":1455},{"style":401},[1456],{"type":26,"value":1457}," 12\n",{"type":21,"tag":212,"props":1459,"children":1460},{"class":214,"line":493},[1461,1466,1470],{"type":21,"tag":212,"props":1462,"children":1463},{"style":413},[1464],{"type":26,"value":1465},"    region_name ",{"type":21,"tag":212,"props":1467,"children":1468},{"style":407},[1469],{"type":26,"value":788},{"type":21,"tag":212,"props":1471,"children":1472},{"style":225},[1473],{"type":26,"value":1474}," \"us-east-2\"\n",{"type":21,"tag":22,"props":1476,"children":1477},{},[1478,1483,1485,1490],{"type":21,"tag":250,"props":1479,"children":1480},{},[1481],{"type":26,"value":1482},"Nota:",{"type":26,"value":1484}," También necesita un ",{"type":21,"tag":208,"props":1486,"children":1487},{"className":205},[1488],{"type":26,"value":1489},"handler",{"type":26,"value":1491}," y usarlo para cada campo en el que lo usará.",{"type":21,"tag":36,"props":1493,"children":1494},{},[1495],{"type":21,"tag":40,"props":1496,"children":1497},{},[1498],{"type":26,"value":1499},"Deberá crear uno nuevo, como este:",{"type":21,"tag":200,"props":1501,"children":1503},{"className":389,"code":1502,"language":391,"meta":205,"style":205},"def handlerPrivateStorage():\n    if settings.DEBUG:\n        return None\n    return PrivateMediaS3Boto3Storage()\n",[1504],{"type":21,"tag":208,"props":1505,"children":1506},{"__ignoreMap":205},[1507,1525,1548,1561],{"type":21,"tag":212,"props":1508,"children":1509},{"class":214,"line":215},[1510,1515,1520],{"type":21,"tag":212,"props":1511,"children":1512},{"style":750},[1513],{"type":26,"value":1514},"def",{"type":21,"tag":212,"props":1516,"children":1517},{"style":219},[1518],{"type":26,"value":1519}," handlerPrivateStorage",{"type":21,"tag":212,"props":1521,"children":1522},{"style":413},[1523],{"type":26,"value":1524},"():\n",{"type":21,"tag":212,"props":1526,"children":1527},{"class":214,"line":419},[1528,1533,1538,1543],{"type":21,"tag":212,"props":1529,"children":1530},{"style":407},[1531],{"type":26,"value":1532},"    if",{"type":21,"tag":212,"props":1534,"children":1535},{"style":413},[1536],{"type":26,"value":1537}," settings.",{"type":21,"tag":212,"props":1539,"children":1540},{"style":401},[1541],{"type":26,"value":1542},"DEBUG",{"type":21,"tag":212,"props":1544,"children":1545},{"style":413},[1546],{"type":26,"value":1547},":\n",{"type":21,"tag":212,"props":1549,"children":1550},{"class":214,"line":428},[1551,1556],{"type":21,"tag":212,"props":1552,"children":1553},{"style":407},[1554],{"type":26,"value":1555},"        return",{"type":21,"tag":212,"props":1557,"children":1558},{"style":401},[1559],{"type":26,"value":1560}," None\n",{"type":21,"tag":212,"props":1562,"children":1563},{"class":214,"line":452},[1564,1569],{"type":21,"tag":212,"props":1565,"children":1566},{"style":407},[1567],{"type":26,"value":1568},"    return",{"type":21,"tag":212,"props":1570,"children":1571},{"style":413},[1572],{"type":26,"value":1573}," PrivateMediaS3Boto3Storage()\n",{"type":21,"tag":36,"props":1575,"children":1576},{},[1577],{"type":21,"tag":40,"props":1578,"children":1579},{},[1580],{"type":26,"value":1581},"Y dentro del modelo usarlo de esta manera para no afectar los archivos de desarrollo local y migración.",{"type":21,"tag":200,"props":1583,"children":1585},{"className":389,"code":1584,"language":391,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    image = models.FileField(..., storage=handlerPrivateStorage())\n",[1586],{"type":21,"tag":208,"props":1587,"children":1588},{"__ignoreMap":205},[1589,1612,1619],{"type":21,"tag":212,"props":1590,"children":1591},{"class":214,"line":215},[1592,1596,1600,1604,1608],{"type":21,"tag":212,"props":1593,"children":1594},{"style":750},[1595],{"type":26,"value":753},{"type":21,"tag":212,"props":1597,"children":1598},{"style":756},[1599],{"type":26,"value":759},{"type":21,"tag":212,"props":1601,"children":1602},{"style":413},[1603],{"type":26,"value":764},{"type":21,"tag":212,"props":1605,"children":1606},{"style":767},[1607],{"type":26,"value":770},{"type":21,"tag":212,"props":1609,"children":1610},{"style":413},[1611],{"type":26,"value":775},{"type":21,"tag":212,"props":1613,"children":1614},{"class":214,"line":419},[1615],{"type":21,"tag":212,"props":1616,"children":1617},{"style":401},[1618],{"type":26,"value":425},{"type":21,"tag":212,"props":1620,"children":1621},{"class":214,"line":428},[1622,1627,1631,1636,1641,1645,1650,1654],{"type":21,"tag":212,"props":1623,"children":1624},{"style":413},[1625],{"type":26,"value":1626},"    image ",{"type":21,"tag":212,"props":1628,"children":1629},{"style":407},[1630],{"type":26,"value":788},{"type":21,"tag":212,"props":1632,"children":1633},{"style":413},[1634],{"type":26,"value":1635}," models.FileField(",{"type":21,"tag":212,"props":1637,"children":1638},{"style":401},[1639],{"type":26,"value":1640},"...",{"type":21,"tag":212,"props":1642,"children":1643},{"style":413},[1644],{"type":26,"value":812},{"type":21,"tag":212,"props":1646,"children":1647},{"style":796},[1648],{"type":26,"value":1649},"storage",{"type":21,"tag":212,"props":1651,"children":1652},{"style":407},[1653],{"type":26,"value":788},{"type":21,"tag":212,"props":1655,"children":1656},{"style":413},[1657],{"type":26,"value":1658},"handlerPrivateStorage())\n",{"type":21,"tag":29,"props":1660,"children":1661},{"id":286},[1662],{"type":26,"value":1663},"Modelos",{"type":21,"tag":22,"props":1665,"children":1666},{},[1667,1669,1674],{"type":26,"value":1668},"Para hacer algunas demostraciones, mostraremos un ejemplo. La ",{"type":21,"tag":250,"props":1670,"children":1671},{},[1672],{"type":26,"value":1673},"lógica del negocio",{"type":26,"value":1675}," nos dice que muchos usuarios pueden utilizar un ticket.",{"type":21,"tag":200,"props":1677,"children":1679},{"className":389,"code":1678,"language":391,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    code = models.CharField(max_length=10, unique=True)\n    user = models.ForeignKey(Ticket, on_delete=models.CASCADE, related_name=\"tickets\")\n    usage_limit = models.PositiveSmallIntegerField(default=1)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n\nclass User(TimeStampedModel):\n    ...\n    name = models.CharField(max_length=32)\n\n    # created: Is a field provided by TimeStampedModel\n    # modified: Is a field provided by TimeStampedModel\n",[1680],{"type":21,"tag":208,"props":1681,"children":1682},{"__ignoreMap":205},[1683,1706,1758,1816,1851,1858,1867,1875,1882,1906,1913,1946,1953,1960],{"type":21,"tag":212,"props":1684,"children":1685},{"class":214,"line":215},[1686,1690,1694,1698,1702],{"type":21,"tag":212,"props":1687,"children":1688},{"style":750},[1689],{"type":26,"value":753},{"type":21,"tag":212,"props":1691,"children":1692},{"style":756},[1693],{"type":26,"value":759},{"type":21,"tag":212,"props":1695,"children":1696},{"style":413},[1697],{"type":26,"value":764},{"type":21,"tag":212,"props":1699,"children":1700},{"style":767},[1701],{"type":26,"value":770},{"type":21,"tag":212,"props":1703,"children":1704},{"style":413},[1705],{"type":26,"value":775},{"type":21,"tag":212,"props":1707,"children":1708},{"class":214,"line":419},[1709,1714,1718,1723,1728,1732,1737,1741,1746,1750,1754],{"type":21,"tag":212,"props":1710,"children":1711},{"style":413},[1712],{"type":26,"value":1713},"    code ",{"type":21,"tag":212,"props":1715,"children":1716},{"style":407},[1717],{"type":26,"value":788},{"type":21,"tag":212,"props":1719,"children":1720},{"style":413},[1721],{"type":26,"value":1722}," models.CharField(",{"type":21,"tag":212,"props":1724,"children":1725},{"style":796},[1726],{"type":26,"value":1727},"max_length",{"type":21,"tag":212,"props":1729,"children":1730},{"style":407},[1731],{"type":26,"value":788},{"type":21,"tag":212,"props":1733,"children":1734},{"style":401},[1735],{"type":26,"value":1736},"10",{"type":21,"tag":212,"props":1738,"children":1739},{"style":413},[1740],{"type":26,"value":812},{"type":21,"tag":212,"props":1742,"children":1743},{"style":796},[1744],{"type":26,"value":1745},"unique",{"type":21,"tag":212,"props":1747,"children":1748},{"style":407},[1749],{"type":26,"value":788},{"type":21,"tag":212,"props":1751,"children":1752},{"style":401},[1753],{"type":26,"value":545},{"type":21,"tag":212,"props":1755,"children":1756},{"style":413},[1757],{"type":26,"value":848},{"type":21,"tag":212,"props":1759,"children":1760},{"class":214,"line":428},[1761,1766,1770,1775,1780,1784,1789,1794,1798,1803,1807,1812],{"type":21,"tag":212,"props":1762,"children":1763},{"style":413},[1764],{"type":26,"value":1765},"    user ",{"type":21,"tag":212,"props":1767,"children":1768},{"style":407},[1769],{"type":26,"value":788},{"type":21,"tag":212,"props":1771,"children":1772},{"style":413},[1773],{"type":26,"value":1774}," models.ForeignKey(Ticket, ",{"type":21,"tag":212,"props":1776,"children":1777},{"style":796},[1778],{"type":26,"value":1779},"on_delete",{"type":21,"tag":212,"props":1781,"children":1782},{"style":407},[1783],{"type":26,"value":788},{"type":21,"tag":212,"props":1785,"children":1786},{"style":413},[1787],{"type":26,"value":1788},"models.",{"type":21,"tag":212,"props":1790,"children":1791},{"style":401},[1792],{"type":26,"value":1793},"CASCADE",{"type":21,"tag":212,"props":1795,"children":1796},{"style":413},[1797],{"type":26,"value":812},{"type":21,"tag":212,"props":1799,"children":1800},{"style":796},[1801],{"type":26,"value":1802},"related_name",{"type":21,"tag":212,"props":1804,"children":1805},{"style":407},[1806],{"type":26,"value":788},{"type":21,"tag":212,"props":1808,"children":1809},{"style":225},[1810],{"type":26,"value":1811},"\"tickets\"",{"type":21,"tag":212,"props":1813,"children":1814},{"style":413},[1815],{"type":26,"value":848},{"type":21,"tag":212,"props":1817,"children":1818},{"class":214,"line":452},[1819,1824,1828,1833,1838,1842,1847],{"type":21,"tag":212,"props":1820,"children":1821},{"style":413},[1822],{"type":26,"value":1823},"    usage_limit ",{"type":21,"tag":212,"props":1825,"children":1826},{"style":407},[1827],{"type":26,"value":788},{"type":21,"tag":212,"props":1829,"children":1830},{"style":413},[1831],{"type":26,"value":1832}," models.PositiveSmallIntegerField(",{"type":21,"tag":212,"props":1834,"children":1835},{"style":796},[1836],{"type":26,"value":1837},"default",{"type":21,"tag":212,"props":1839,"children":1840},{"style":407},[1841],{"type":26,"value":788},{"type":21,"tag":212,"props":1843,"children":1844},{"style":401},[1845],{"type":26,"value":1846},"1",{"type":21,"tag":212,"props":1848,"children":1849},{"style":413},[1850],{"type":26,"value":848},{"type":21,"tag":212,"props":1852,"children":1853},{"class":214,"line":466},[1854],{"type":21,"tag":212,"props":1855,"children":1856},{"emptyLinePlaceholder":741},[1857],{"type":26,"value":744},{"type":21,"tag":212,"props":1859,"children":1860},{"class":214,"line":480},[1861],{"type":21,"tag":212,"props":1862,"children":1864},{"style":1863},"--shiki-default:#88846F",[1865],{"type":26,"value":1866},"    # created: Is a field provided by TimeStampedModel\n",{"type":21,"tag":212,"props":1868,"children":1869},{"class":214,"line":493},[1870],{"type":21,"tag":212,"props":1871,"children":1872},{"style":1863},[1873],{"type":26,"value":1874},"    # modified: Is a field provided by TimeStampedModel\n",{"type":21,"tag":212,"props":1876,"children":1877},{"class":214,"line":506},[1878],{"type":21,"tag":212,"props":1879,"children":1880},{"emptyLinePlaceholder":741},[1881],{"type":26,"value":744},{"type":21,"tag":212,"props":1883,"children":1884},{"class":214,"line":515},[1885,1889,1894,1898,1902],{"type":21,"tag":212,"props":1886,"children":1887},{"style":750},[1888],{"type":26,"value":753},{"type":21,"tag":212,"props":1890,"children":1891},{"style":756},[1892],{"type":26,"value":1893}," User",{"type":21,"tag":212,"props":1895,"children":1896},{"style":413},[1897],{"type":26,"value":764},{"type":21,"tag":212,"props":1899,"children":1900},{"style":767},[1901],{"type":26,"value":770},{"type":21,"tag":212,"props":1903,"children":1904},{"style":413},[1905],{"type":26,"value":775},{"type":21,"tag":212,"props":1907,"children":1908},{"class":214,"line":529},[1909],{"type":21,"tag":212,"props":1910,"children":1911},{"style":401},[1912],{"type":26,"value":425},{"type":21,"tag":212,"props":1914,"children":1915},{"class":214,"line":552},[1916,1921,1925,1929,1933,1937,1942],{"type":21,"tag":212,"props":1917,"children":1918},{"style":413},[1919],{"type":26,"value":1920},"    name ",{"type":21,"tag":212,"props":1922,"children":1923},{"style":407},[1924],{"type":26,"value":788},{"type":21,"tag":212,"props":1926,"children":1927},{"style":413},[1928],{"type":26,"value":1722},{"type":21,"tag":212,"props":1930,"children":1931},{"style":796},[1932],{"type":26,"value":1727},{"type":21,"tag":212,"props":1934,"children":1935},{"style":407},[1936],{"type":26,"value":788},{"type":21,"tag":212,"props":1938,"children":1939},{"style":401},[1940],{"type":26,"value":1941},"32",{"type":21,"tag":212,"props":1943,"children":1944},{"style":413},[1945],{"type":26,"value":848},{"type":21,"tag":212,"props":1947,"children":1948},{"class":214,"line":561},[1949],{"type":21,"tag":212,"props":1950,"children":1951},{"emptyLinePlaceholder":741},[1952],{"type":26,"value":744},{"type":21,"tag":212,"props":1954,"children":1955},{"class":214,"line":583},[1956],{"type":21,"tag":212,"props":1957,"children":1958},{"style":1863},[1959],{"type":26,"value":1866},{"type":21,"tag":212,"props":1961,"children":1963},{"class":214,"line":1962},14,[1964],{"type":21,"tag":212,"props":1965,"children":1966},{"style":1863},[1967],{"type":26,"value":1874},{"type":21,"tag":22,"props":1969,"children":1970},{},[1971],{"type":26,"value":1972},"Primero debemos definir algunas características que tendrán los modelos, tales como: campos, valores únicos, consultas, propiedades y métodos.",{"type":21,"tag":118,"props":1974,"children":1976},{"id":1975},"managers",[1977],{"type":26,"value":1978},"Managers",{"type":21,"tag":22,"props":1980,"children":1981},{},[1982],{"type":26,"value":1983},"Los managers nos permiten crear consultas personalizadas para nuestros modelos. Por ejemplo, si queremos obtener todos los tickets que no han sido utilizados, podemos crear un manager personalizado para esto.",{"type":21,"tag":36,"props":1985,"children":1986},{},[1987,2009],{"type":21,"tag":40,"props":1988,"children":1989},{},[1990,1992,1996,1997,2002,2003,2008],{"type":26,"value":1991},"Para definir los campos necesitamos toda la información sobre el funcionamiento del negocio, para este ejemplo tendremos solo estos: ",{"type":21,"tag":208,"props":1993,"children":1994},{"className":205},[1995],{"type":26,"value":208},{"type":26,"value":812},{"type":21,"tag":208,"props":1998,"children":1999},{"className":205},[2000],{"type":26,"value":2001},"user",{"type":26,"value":166},{"type":21,"tag":208,"props":2004,"children":2005},{"className":205},[2006],{"type":26,"value":2007},"usage_limit",{"type":26,"value":82},{"type":21,"tag":40,"props":2010,"children":2011},{},[2012,2014],{"type":26,"value":2013},"El modelo Ticket tiene un campo que es único y debe ser creado y asignado a cada instancia una sola vez, para esto tenemos 2 opciones.\n",{"type":21,"tag":36,"props":2015,"children":2016},{},[2017,2029],{"type":21,"tag":40,"props":2018,"children":2019},{},[2020,2022,2027],{"type":26,"value":2021},"Coloque esa lógica en el método ",{"type":21,"tag":208,"props":2023,"children":2024},{"className":205},[2025],{"type":26,"value":2026},"save()",{"type":26,"value":2028},", que se utiliza mejor cuando tenemos un valor que necesitamos recalcular o generar cada vez que guardamos cambios en el modelo.",{"type":21,"tag":40,"props":2030,"children":2031},{},[2032,2034,2039,2041,2046],{"type":26,"value":2033},"Utilizar los ",{"type":21,"tag":208,"props":2035,"children":2036},{"className":205},[2037],{"type":26,"value":2038},"manager de Django",{"type":26,"value":2040},", que nos permite utilizar un método ",{"type":21,"tag":208,"props":2042,"children":2043},{"className":205},[2044],{"type":26,"value":2045},"create()",{"type":26,"value":2047},", que se ejecutará solo una vez.",{"type":21,"tag":200,"props":2049,"children":2051},{"className":389,"code":2050,"language":391,"meta":205,"style":205},"class TicketManager(models.Manager):\n\n    CODE_LENGTH = 10\n\n    def create(self, *args, **kwargs):\n        code = generate_random_code(self.CODE_LENGTH)\n        while self.filter(code=code).exists():\n            code = generate_random_code(self.CODE_LENGTH)\n        kwargs[\"code\"] = code\n        return super().create(*args, **kwargs)\n",[2052],{"type":21,"tag":208,"props":2053,"children":2054},{"__ignoreMap":205},[2055,2089,2096,2113,2120,2172,2206,2236,2268,2295],{"type":21,"tag":212,"props":2056,"children":2057},{"class":214,"line":215},[2058,2062,2067,2071,2076,2080,2085],{"type":21,"tag":212,"props":2059,"children":2060},{"style":750},[2061],{"type":26,"value":753},{"type":21,"tag":212,"props":2063,"children":2064},{"style":756},[2065],{"type":26,"value":2066}," TicketManager",{"type":21,"tag":212,"props":2068,"children":2069},{"style":413},[2070],{"type":26,"value":764},{"type":21,"tag":212,"props":2072,"children":2073},{"style":767},[2074],{"type":26,"value":2075},"models",{"type":21,"tag":212,"props":2077,"children":2078},{"style":413},[2079],{"type":26,"value":82},{"type":21,"tag":212,"props":2081,"children":2082},{"style":767},[2083],{"type":26,"value":2084},"Manager",{"type":21,"tag":212,"props":2086,"children":2087},{"style":413},[2088],{"type":26,"value":775},{"type":21,"tag":212,"props":2090,"children":2091},{"class":214,"line":419},[2092],{"type":21,"tag":212,"props":2093,"children":2094},{"emptyLinePlaceholder":741},[2095],{"type":26,"value":744},{"type":21,"tag":212,"props":2097,"children":2098},{"class":214,"line":428},[2099,2104,2108],{"type":21,"tag":212,"props":2100,"children":2101},{"style":401},[2102],{"type":26,"value":2103},"    CODE_LENGTH",{"type":21,"tag":212,"props":2105,"children":2106},{"style":407},[2107],{"type":26,"value":410},{"type":21,"tag":212,"props":2109,"children":2110},{"style":401},[2111],{"type":26,"value":2112}," 10\n",{"type":21,"tag":212,"props":2114,"children":2115},{"class":214,"line":452},[2116],{"type":21,"tag":212,"props":2117,"children":2118},{"emptyLinePlaceholder":741},[2119],{"type":26,"value":744},{"type":21,"tag":212,"props":2121,"children":2122},{"class":214,"line":466},[2123,2127,2132,2136,2140,2144,2149,2154,2158,2163,2168],{"type":21,"tag":212,"props":2124,"children":2125},{"style":750},[2126],{"type":26,"value":1061},{"type":21,"tag":212,"props":2128,"children":2129},{"style":219},[2130],{"type":26,"value":2131}," create",{"type":21,"tag":212,"props":2133,"children":2134},{"style":413},[2135],{"type":26,"value":764},{"type":21,"tag":212,"props":2137,"children":2138},{"style":796},[2139],{"type":26,"value":1075},{"type":21,"tag":212,"props":2141,"children":2142},{"style":413},[2143],{"type":26,"value":812},{"type":21,"tag":212,"props":2145,"children":2146},{"style":407},[2147],{"type":26,"value":2148},"*",{"type":21,"tag":212,"props":2150,"children":2151},{"style":796},[2152],{"type":26,"value":2153},"args",{"type":21,"tag":212,"props":2155,"children":2156},{"style":413},[2157],{"type":26,"value":812},{"type":21,"tag":212,"props":2159,"children":2160},{"style":407},[2161],{"type":26,"value":2162},"**",{"type":21,"tag":212,"props":2164,"children":2165},{"style":796},[2166],{"type":26,"value":2167},"kwargs",{"type":21,"tag":212,"props":2169,"children":2170},{"style":413},[2171],{"type":26,"value":775},{"type":21,"tag":212,"props":2173,"children":2174},{"class":214,"line":480},[2175,2180,2184,2189,2193,2197,2202],{"type":21,"tag":212,"props":2176,"children":2177},{"style":413},[2178],{"type":26,"value":2179},"        code ",{"type":21,"tag":212,"props":2181,"children":2182},{"style":407},[2183],{"type":26,"value":788},{"type":21,"tag":212,"props":2185,"children":2186},{"style":413},[2187],{"type":26,"value":2188}," generate_random_code(",{"type":21,"tag":212,"props":2190,"children":2191},{"style":1103},[2192],{"type":26,"value":1075},{"type":21,"tag":212,"props":2194,"children":2195},{"style":413},[2196],{"type":26,"value":82},{"type":21,"tag":212,"props":2198,"children":2199},{"style":401},[2200],{"type":26,"value":2201},"CODE_LENGTH",{"type":21,"tag":212,"props":2203,"children":2204},{"style":413},[2205],{"type":26,"value":848},{"type":21,"tag":212,"props":2207,"children":2208},{"class":214,"line":493},[2209,2214,2218,2223,2227,2231],{"type":21,"tag":212,"props":2210,"children":2211},{"style":407},[2212],{"type":26,"value":2213},"        while",{"type":21,"tag":212,"props":2215,"children":2216},{"style":1103},[2217],{"type":26,"value":1106},{"type":21,"tag":212,"props":2219,"children":2220},{"style":413},[2221],{"type":26,"value":2222},".filter(",{"type":21,"tag":212,"props":2224,"children":2225},{"style":796},[2226],{"type":26,"value":208},{"type":21,"tag":212,"props":2228,"children":2229},{"style":407},[2230],{"type":26,"value":788},{"type":21,"tag":212,"props":2232,"children":2233},{"style":413},[2234],{"type":26,"value":2235},"code).exists():\n",{"type":21,"tag":212,"props":2237,"children":2238},{"class":214,"line":506},[2239,2244,2248,2252,2256,2260,2264],{"type":21,"tag":212,"props":2240,"children":2241},{"style":413},[2242],{"type":26,"value":2243},"            code ",{"type":21,"tag":212,"props":2245,"children":2246},{"style":407},[2247],{"type":26,"value":788},{"type":21,"tag":212,"props":2249,"children":2250},{"style":413},[2251],{"type":26,"value":2188},{"type":21,"tag":212,"props":2253,"children":2254},{"style":1103},[2255],{"type":26,"value":1075},{"type":21,"tag":212,"props":2257,"children":2258},{"style":413},[2259],{"type":26,"value":82},{"type":21,"tag":212,"props":2261,"children":2262},{"style":401},[2263],{"type":26,"value":2201},{"type":21,"tag":212,"props":2265,"children":2266},{"style":413},[2267],{"type":26,"value":848},{"type":21,"tag":212,"props":2269,"children":2270},{"class":214,"line":515},[2271,2276,2281,2286,2290],{"type":21,"tag":212,"props":2272,"children":2273},{"style":413},[2274],{"type":26,"value":2275},"        kwargs[",{"type":21,"tag":212,"props":2277,"children":2278},{"style":225},[2279],{"type":26,"value":2280},"\"code\"",{"type":21,"tag":212,"props":2282,"children":2283},{"style":413},[2284],{"type":26,"value":2285},"] ",{"type":21,"tag":212,"props":2287,"children":2288},{"style":407},[2289],{"type":26,"value":788},{"type":21,"tag":212,"props":2291,"children":2292},{"style":413},[2293],{"type":26,"value":2294}," code\n",{"type":21,"tag":212,"props":2296,"children":2297},{"class":214,"line":529},[2298,2302,2307,2312,2316,2321,2325],{"type":21,"tag":212,"props":2299,"children":2300},{"style":407},[2301],{"type":26,"value":1555},{"type":21,"tag":212,"props":2303,"children":2304},{"style":750},[2305],{"type":26,"value":2306}," super",{"type":21,"tag":212,"props":2308,"children":2309},{"style":413},[2310],{"type":26,"value":2311},"().create(",{"type":21,"tag":212,"props":2313,"children":2314},{"style":407},[2315],{"type":26,"value":2148},{"type":21,"tag":212,"props":2317,"children":2318},{"style":413},[2319],{"type":26,"value":2320},"args, ",{"type":21,"tag":212,"props":2322,"children":2323},{"style":407},[2324],{"type":26,"value":2162},{"type":21,"tag":212,"props":2326,"children":2327},{"style":413},[2328],{"type":26,"value":2329},"kwargs)\n",{"type":21,"tag":22,"props":2331,"children":2332},{},[2333,2337,2339,2344,2346,2351],{"type":21,"tag":250,"props":2334,"children":2335},{},[2336],{"type":26,"value":1482},{"type":26,"value":2338}," Para acceder a la función ",{"type":21,"tag":208,"props":2340,"children":2341},{"className":205},[2342],{"type":26,"value":2343},"generate_random_code(length),",{"type":26,"value":2345}," debemos colocarla dentro de ",{"type":21,"tag":208,"props":2347,"children":2348},{"className":205},[2349],{"type":26,"value":2350},"utilities.py",{"type":26,"value":2352}," ya que es una función de utilidad.",{"type":21,"tag":200,"props":2354,"children":2358},{"className":2355,"code":2356,"language":2357,"meta":205,"style":205},"language-console shiki shiki-themes monokai","folder_api\n├── users\n├── utils\n│   ├── __init__.py\n│   ├── utilities.py\n│   ├── storages.py\n│   └── validators.py\n|   ...\n...\n","console",[2359],{"type":21,"tag":208,"props":2360,"children":2361},{"__ignoreMap":205},[2362,2370,2378,2386,2394,2402,2410,2418,2426],{"type":21,"tag":212,"props":2363,"children":2364},{"class":214,"line":215},[2365],{"type":21,"tag":212,"props":2366,"children":2367},{"style":413},[2368],{"type":26,"value":2369},"folder_api\n",{"type":21,"tag":212,"props":2371,"children":2372},{"class":214,"line":419},[2373],{"type":21,"tag":212,"props":2374,"children":2375},{"style":413},[2376],{"type":26,"value":2377},"├── users\n",{"type":21,"tag":212,"props":2379,"children":2380},{"class":214,"line":428},[2381],{"type":21,"tag":212,"props":2382,"children":2383},{"style":413},[2384],{"type":26,"value":2385},"├── utils\n",{"type":21,"tag":212,"props":2387,"children":2388},{"class":214,"line":452},[2389],{"type":21,"tag":212,"props":2390,"children":2391},{"style":413},[2392],{"type":26,"value":2393},"│   ├── __init__.py\n",{"type":21,"tag":212,"props":2395,"children":2396},{"class":214,"line":466},[2397],{"type":21,"tag":212,"props":2398,"children":2399},{"style":413},[2400],{"type":26,"value":2401},"│   ├── utilities.py\n",{"type":21,"tag":212,"props":2403,"children":2404},{"class":214,"line":480},[2405],{"type":21,"tag":212,"props":2406,"children":2407},{"style":413},[2408],{"type":26,"value":2409},"│   ├── storages.py\n",{"type":21,"tag":212,"props":2411,"children":2412},{"class":214,"line":493},[2413],{"type":21,"tag":212,"props":2414,"children":2415},{"style":413},[2416],{"type":26,"value":2417},"│   └── validators.py\n",{"type":21,"tag":212,"props":2419,"children":2420},{"class":214,"line":506},[2421],{"type":21,"tag":212,"props":2422,"children":2423},{"style":413},[2424],{"type":26,"value":2425},"|   ...\n",{"type":21,"tag":212,"props":2427,"children":2428},{"class":214,"line":515},[2429],{"type":21,"tag":212,"props":2430,"children":2431},{"style":413},[2432],{"type":26,"value":2433},"...\n",{"type":21,"tag":22,"props":2435,"children":2436},{},[2437,2439,2443,2445,2452],{"type":26,"value":2438},"Los ",{"type":21,"tag":208,"props":2440,"children":2441},{"className":205},[2442],{"type":26,"value":2038},{"type":26,"value":2444}," también se pueden utilizar para definir consultas que se utilizarán constantemente. ",{"type":21,"tag":72,"props":2446,"children":2449},{":target":74,"href":2447,"rel":2448},"https://docs.djangoproject.com/en/4.2/topics/db/managers/#custom-managers",[77],[2450],{"type":26,"value":2451},"Más información",{"type":26,"value":82},{"type":21,"tag":200,"props":2454,"children":2456},{"className":389,"code":2455,"language":391,"meta":205,"style":205},"class TicketManager(models.Manager):\n    ...\n    def tickets_starting_with_a(self):\n        return self.get_queryset().filter(code__istartswith=\"a\")\n    \n    def tickets_starting_with_b(self):\n        return self.get_queryset().filter(code__istartswith=\"b\")\n    ...\n",[2457],{"type":21,"tag":208,"props":2458,"children":2459},{"__ignoreMap":205},[2460,2491,2498,2522,2556,2564,2588,2620],{"type":21,"tag":212,"props":2461,"children":2462},{"class":214,"line":215},[2463,2467,2471,2475,2479,2483,2487],{"type":21,"tag":212,"props":2464,"children":2465},{"style":750},[2466],{"type":26,"value":753},{"type":21,"tag":212,"props":2468,"children":2469},{"style":756},[2470],{"type":26,"value":2066},{"type":21,"tag":212,"props":2472,"children":2473},{"style":413},[2474],{"type":26,"value":764},{"type":21,"tag":212,"props":2476,"children":2477},{"style":767},[2478],{"type":26,"value":2075},{"type":21,"tag":212,"props":2480,"children":2481},{"style":413},[2482],{"type":26,"value":82},{"type":21,"tag":212,"props":2484,"children":2485},{"style":767},[2486],{"type":26,"value":2084},{"type":21,"tag":212,"props":2488,"children":2489},{"style":413},[2490],{"type":26,"value":775},{"type":21,"tag":212,"props":2492,"children":2493},{"class":214,"line":419},[2494],{"type":21,"tag":212,"props":2495,"children":2496},{"style":401},[2497],{"type":26,"value":425},{"type":21,"tag":212,"props":2499,"children":2500},{"class":214,"line":428},[2501,2505,2510,2514,2518],{"type":21,"tag":212,"props":2502,"children":2503},{"style":750},[2504],{"type":26,"value":1061},{"type":21,"tag":212,"props":2506,"children":2507},{"style":219},[2508],{"type":26,"value":2509}," tickets_starting_with_a",{"type":21,"tag":212,"props":2511,"children":2512},{"style":413},[2513],{"type":26,"value":764},{"type":21,"tag":212,"props":2515,"children":2516},{"style":796},[2517],{"type":26,"value":1075},{"type":21,"tag":212,"props":2519,"children":2520},{"style":413},[2521],{"type":26,"value":775},{"type":21,"tag":212,"props":2523,"children":2524},{"class":214,"line":452},[2525,2529,2533,2538,2543,2547,2552],{"type":21,"tag":212,"props":2526,"children":2527},{"style":407},[2528],{"type":26,"value":1555},{"type":21,"tag":212,"props":2530,"children":2531},{"style":1103},[2532],{"type":26,"value":1106},{"type":21,"tag":212,"props":2534,"children":2535},{"style":413},[2536],{"type":26,"value":2537},".get_queryset().filter(",{"type":21,"tag":212,"props":2539,"children":2540},{"style":796},[2541],{"type":26,"value":2542},"code__istartswith",{"type":21,"tag":212,"props":2544,"children":2545},{"style":407},[2546],{"type":26,"value":788},{"type":21,"tag":212,"props":2548,"children":2549},{"style":225},[2550],{"type":26,"value":2551},"\"a\"",{"type":21,"tag":212,"props":2553,"children":2554},{"style":413},[2555],{"type":26,"value":848},{"type":21,"tag":212,"props":2557,"children":2558},{"class":214,"line":466},[2559],{"type":21,"tag":212,"props":2560,"children":2561},{"style":413},[2562],{"type":26,"value":2563},"    \n",{"type":21,"tag":212,"props":2565,"children":2566},{"class":214,"line":480},[2567,2571,2576,2580,2584],{"type":21,"tag":212,"props":2568,"children":2569},{"style":750},[2570],{"type":26,"value":1061},{"type":21,"tag":212,"props":2572,"children":2573},{"style":219},[2574],{"type":26,"value":2575}," tickets_starting_with_b",{"type":21,"tag":212,"props":2577,"children":2578},{"style":413},[2579],{"type":26,"value":764},{"type":21,"tag":212,"props":2581,"children":2582},{"style":796},[2583],{"type":26,"value":1075},{"type":21,"tag":212,"props":2585,"children":2586},{"style":413},[2587],{"type":26,"value":775},{"type":21,"tag":212,"props":2589,"children":2590},{"class":214,"line":493},[2591,2595,2599,2603,2607,2611,2616],{"type":21,"tag":212,"props":2592,"children":2593},{"style":407},[2594],{"type":26,"value":1555},{"type":21,"tag":212,"props":2596,"children":2597},{"style":1103},[2598],{"type":26,"value":1106},{"type":21,"tag":212,"props":2600,"children":2601},{"style":413},[2602],{"type":26,"value":2537},{"type":21,"tag":212,"props":2604,"children":2605},{"style":796},[2606],{"type":26,"value":2542},{"type":21,"tag":212,"props":2608,"children":2609},{"style":407},[2610],{"type":26,"value":788},{"type":21,"tag":212,"props":2612,"children":2613},{"style":225},[2614],{"type":26,"value":2615},"\"b\"",{"type":21,"tag":212,"props":2617,"children":2618},{"style":413},[2619],{"type":26,"value":848},{"type":21,"tag":212,"props":2621,"children":2622},{"class":214,"line":506},[2623],{"type":21,"tag":212,"props":2624,"children":2625},{"style":401},[2626],{"type":26,"value":425},{"type":21,"tag":29,"props":2628,"children":2630},{"id":2629},"funciones",[2631],{"type":26,"value":2632},"Funciones",{"type":21,"tag":22,"props":2634,"children":2635},{},[2636],{"type":26,"value":2637},"Las funciones son una forma de encapsular la lógica de negocio que no pertenece a un modelo específico.",{"type":21,"tag":22,"props":2639,"children":2640},{},[2641],{"type":26,"value":2642},"Si necesita una búsqueda más compleja de objetos relacionados desde una única instancia del modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":2644,"children":2646},{"className":389,"code":2645,"language":391,"meta":205,"style":205},"from django.contrib.postgres.search import TrigramSimilarity\n\nclass Ticket(TimeStampedModel):\n    ...\n    def get_related_tickets(self):\n        return Ticket.objects.annotate(similarity=TrigramSimilarity(\"code\", self.code))\n            .order_by(\"-similarity\")\n            .filter(similarity__gt=0.2)\n            .exclude(id=self.id)\n",[2647],{"type":21,"tag":208,"props":2648,"children":2649},{"__ignoreMap":205},[2650,2671,2678,2701,2708,2732,2775,2792,2818],{"type":21,"tag":212,"props":2651,"children":2652},{"class":214,"line":215},[2653,2657,2662,2666],{"type":21,"tag":212,"props":2654,"children":2655},{"style":407},[2656],{"type":26,"value":699},{"type":21,"tag":212,"props":2658,"children":2659},{"style":413},[2660],{"type":26,"value":2661}," django.contrib.postgres.search ",{"type":21,"tag":212,"props":2663,"children":2664},{"style":407},[2665],{"type":26,"value":709},{"type":21,"tag":212,"props":2667,"children":2668},{"style":413},[2669],{"type":26,"value":2670}," TrigramSimilarity\n",{"type":21,"tag":212,"props":2672,"children":2673},{"class":214,"line":419},[2674],{"type":21,"tag":212,"props":2675,"children":2676},{"emptyLinePlaceholder":741},[2677],{"type":26,"value":744},{"type":21,"tag":212,"props":2679,"children":2680},{"class":214,"line":428},[2681,2685,2689,2693,2697],{"type":21,"tag":212,"props":2682,"children":2683},{"style":750},[2684],{"type":26,"value":753},{"type":21,"tag":212,"props":2686,"children":2687},{"style":756},[2688],{"type":26,"value":759},{"type":21,"tag":212,"props":2690,"children":2691},{"style":413},[2692],{"type":26,"value":764},{"type":21,"tag":212,"props":2694,"children":2695},{"style":767},[2696],{"type":26,"value":770},{"type":21,"tag":212,"props":2698,"children":2699},{"style":413},[2700],{"type":26,"value":775},{"type":21,"tag":212,"props":2702,"children":2703},{"class":214,"line":452},[2704],{"type":21,"tag":212,"props":2705,"children":2706},{"style":401},[2707],{"type":26,"value":425},{"type":21,"tag":212,"props":2709,"children":2710},{"class":214,"line":466},[2711,2715,2720,2724,2728],{"type":21,"tag":212,"props":2712,"children":2713},{"style":750},[2714],{"type":26,"value":1061},{"type":21,"tag":212,"props":2716,"children":2717},{"style":219},[2718],{"type":26,"value":2719}," get_related_tickets",{"type":21,"tag":212,"props":2721,"children":2722},{"style":413},[2723],{"type":26,"value":764},{"type":21,"tag":212,"props":2725,"children":2726},{"style":796},[2727],{"type":26,"value":1075},{"type":21,"tag":212,"props":2729,"children":2730},{"style":413},[2731],{"type":26,"value":775},{"type":21,"tag":212,"props":2733,"children":2734},{"class":214,"line":480},[2735,2739,2744,2749,2753,2758,2762,2766,2770],{"type":21,"tag":212,"props":2736,"children":2737},{"style":407},[2738],{"type":26,"value":1555},{"type":21,"tag":212,"props":2740,"children":2741},{"style":413},[2742],{"type":26,"value":2743}," Ticket.objects.annotate(",{"type":21,"tag":212,"props":2745,"children":2746},{"style":796},[2747],{"type":26,"value":2748},"similarity",{"type":21,"tag":212,"props":2750,"children":2751},{"style":407},[2752],{"type":26,"value":788},{"type":21,"tag":212,"props":2754,"children":2755},{"style":413},[2756],{"type":26,"value":2757},"TrigramSimilarity(",{"type":21,"tag":212,"props":2759,"children":2760},{"style":225},[2761],{"type":26,"value":2280},{"type":21,"tag":212,"props":2763,"children":2764},{"style":413},[2765],{"type":26,"value":812},{"type":21,"tag":212,"props":2767,"children":2768},{"style":1103},[2769],{"type":26,"value":1075},{"type":21,"tag":212,"props":2771,"children":2772},{"style":413},[2773],{"type":26,"value":2774},".code))\n",{"type":21,"tag":212,"props":2776,"children":2777},{"class":214,"line":493},[2778,2783,2788],{"type":21,"tag":212,"props":2779,"children":2780},{"style":413},[2781],{"type":26,"value":2782},"            .order_by(",{"type":21,"tag":212,"props":2784,"children":2785},{"style":225},[2786],{"type":26,"value":2787},"\"-similarity\"",{"type":21,"tag":212,"props":2789,"children":2790},{"style":413},[2791],{"type":26,"value":848},{"type":21,"tag":212,"props":2793,"children":2794},{"class":214,"line":506},[2795,2800,2805,2809,2814],{"type":21,"tag":212,"props":2796,"children":2797},{"style":413},[2798],{"type":26,"value":2799},"            .filter(",{"type":21,"tag":212,"props":2801,"children":2802},{"style":796},[2803],{"type":26,"value":2804},"similarity__gt",{"type":21,"tag":212,"props":2806,"children":2807},{"style":407},[2808],{"type":26,"value":788},{"type":21,"tag":212,"props":2810,"children":2811},{"style":401},[2812],{"type":26,"value":2813},"0.2",{"type":21,"tag":212,"props":2815,"children":2816},{"style":413},[2817],{"type":26,"value":848},{"type":21,"tag":212,"props":2819,"children":2820},{"class":214,"line":515},[2821,2826,2831,2835,2839],{"type":21,"tag":212,"props":2822,"children":2823},{"style":413},[2824],{"type":26,"value":2825},"            .exclude(",{"type":21,"tag":212,"props":2827,"children":2828},{"style":796},[2829],{"type":26,"value":2830},"id",{"type":21,"tag":212,"props":2832,"children":2833},{"style":407},[2834],{"type":26,"value":788},{"type":21,"tag":212,"props":2836,"children":2837},{"style":1103},[2838],{"type":26,"value":1075},{"type":21,"tag":212,"props":2840,"children":2841},{"style":413},[2842],{"type":26,"value":2843},".id)\n",{"type":21,"tag":22,"props":2845,"children":2846},{},[2847],{"type":26,"value":2848},"Si necesita desarrollar la lógica para alguna operación para una única instancia del modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":2850,"children":2852},{"className":389,"code":2851,"language":391,"meta":205,"style":205},"class User(TimeStampedModel):\n    ...\n    def get_tickets(self):\n        return self.tickets.all()\n",[2853],{"type":21,"tag":208,"props":2854,"children":2855},{"__ignoreMap":205},[2856,2879,2886,2910],{"type":21,"tag":212,"props":2857,"children":2858},{"class":214,"line":215},[2859,2863,2867,2871,2875],{"type":21,"tag":212,"props":2860,"children":2861},{"style":750},[2862],{"type":26,"value":753},{"type":21,"tag":212,"props":2864,"children":2865},{"style":756},[2866],{"type":26,"value":1893},{"type":21,"tag":212,"props":2868,"children":2869},{"style":413},[2870],{"type":26,"value":764},{"type":21,"tag":212,"props":2872,"children":2873},{"style":767},[2874],{"type":26,"value":770},{"type":21,"tag":212,"props":2876,"children":2877},{"style":413},[2878],{"type":26,"value":775},{"type":21,"tag":212,"props":2880,"children":2881},{"class":214,"line":419},[2882],{"type":21,"tag":212,"props":2883,"children":2884},{"style":401},[2885],{"type":26,"value":425},{"type":21,"tag":212,"props":2887,"children":2888},{"class":214,"line":428},[2889,2893,2898,2902,2906],{"type":21,"tag":212,"props":2890,"children":2891},{"style":750},[2892],{"type":26,"value":1061},{"type":21,"tag":212,"props":2894,"children":2895},{"style":219},[2896],{"type":26,"value":2897}," get_tickets",{"type":21,"tag":212,"props":2899,"children":2900},{"style":413},[2901],{"type":26,"value":764},{"type":21,"tag":212,"props":2903,"children":2904},{"style":796},[2905],{"type":26,"value":1075},{"type":21,"tag":212,"props":2907,"children":2908},{"style":413},[2909],{"type":26,"value":775},{"type":21,"tag":212,"props":2911,"children":2912},{"class":214,"line":452},[2913,2917,2921],{"type":21,"tag":212,"props":2914,"children":2915},{"style":407},[2916],{"type":26,"value":1555},{"type":21,"tag":212,"props":2918,"children":2919},{"style":1103},[2920],{"type":26,"value":1106},{"type":21,"tag":212,"props":2922,"children":2923},{"style":413},[2924],{"type":26,"value":2925},".tickets.all()\n",{"type":21,"tag":22,"props":2927,"children":2928},{},[2929],{"type":26,"value":2930},"Si necesita desarrollar la lógica para alguna operación para una única instancia de modelo y también necesita campos adicionales, hágalo como un método dentro de la clase de modelo.",{"type":21,"tag":200,"props":2932,"children":2934},{"className":389,"code":2933,"language":391,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    def get_user_used(self, user):\n        return self.user_id == user.id\n",[2935],{"type":21,"tag":208,"props":2936,"children":2937},{"__ignoreMap":205},[2938,2961,2968,3000],{"type":21,"tag":212,"props":2939,"children":2940},{"class":214,"line":215},[2941,2945,2949,2953,2957],{"type":21,"tag":212,"props":2942,"children":2943},{"style":750},[2944],{"type":26,"value":753},{"type":21,"tag":212,"props":2946,"children":2947},{"style":756},[2948],{"type":26,"value":759},{"type":21,"tag":212,"props":2950,"children":2951},{"style":413},[2952],{"type":26,"value":764},{"type":21,"tag":212,"props":2954,"children":2955},{"style":767},[2956],{"type":26,"value":770},{"type":21,"tag":212,"props":2958,"children":2959},{"style":413},[2960],{"type":26,"value":775},{"type":21,"tag":212,"props":2962,"children":2963},{"class":214,"line":419},[2964],{"type":21,"tag":212,"props":2965,"children":2966},{"style":401},[2967],{"type":26,"value":425},{"type":21,"tag":212,"props":2969,"children":2970},{"class":214,"line":428},[2971,2975,2980,2984,2988,2992,2996],{"type":21,"tag":212,"props":2972,"children":2973},{"style":750},[2974],{"type":26,"value":1061},{"type":21,"tag":212,"props":2976,"children":2977},{"style":219},[2978],{"type":26,"value":2979}," get_user_used",{"type":21,"tag":212,"props":2981,"children":2982},{"style":413},[2983],{"type":26,"value":764},{"type":21,"tag":212,"props":2985,"children":2986},{"style":796},[2987],{"type":26,"value":1075},{"type":21,"tag":212,"props":2989,"children":2990},{"style":413},[2991],{"type":26,"value":812},{"type":21,"tag":212,"props":2993,"children":2994},{"style":796},[2995],{"type":26,"value":2001},{"type":21,"tag":212,"props":2997,"children":2998},{"style":413},[2999],{"type":26,"value":775},{"type":21,"tag":212,"props":3001,"children":3002},{"class":214,"line":452},[3003,3007,3011,3016,3021],{"type":21,"tag":212,"props":3004,"children":3005},{"style":407},[3006],{"type":26,"value":1555},{"type":21,"tag":212,"props":3008,"children":3009},{"style":1103},[3010],{"type":26,"value":1106},{"type":21,"tag":212,"props":3012,"children":3013},{"style":413},[3014],{"type":26,"value":3015},".user_id ",{"type":21,"tag":212,"props":3017,"children":3018},{"style":407},[3019],{"type":26,"value":3020},"==",{"type":21,"tag":212,"props":3022,"children":3023},{"style":413},[3024],{"type":26,"value":3025}," user.id\n",{"type":21,"tag":22,"props":3027,"children":3028},{},[3029],{"type":26,"value":3030},"Si necesita desarrollar lógica para cualquier instancia del modelo, pero está relacionada con el modelo, hágalo como un método dentro de la clase del modelo.",{"type":21,"tag":200,"props":3032,"children":3034},{"className":389,"code":3033,"language":391,"meta":205,"style":205},"from django.contrib.postgres.search import SearchQuery, SearchRank, SearchVector\n\nclass Ticket(TimeStampedModel):\n    ...\n    @staticmethod\n    def get_filtered_tickets(code):\n        # Search and ranking to order by relevance\n        vector = SearchVector(\"code\")\n        return Ticket.objects.annotate(rank=SearchRank(vector, SearchQuery(code))).order_by(\"-rank\")\n",[3035],{"type":21,"tag":208,"props":3036,"children":3037},{"__ignoreMap":205},[3038,3058,3065,3088,3095,3108,3132,3140,3165],{"type":21,"tag":212,"props":3039,"children":3040},{"class":214,"line":215},[3041,3045,3049,3053],{"type":21,"tag":212,"props":3042,"children":3043},{"style":407},[3044],{"type":26,"value":699},{"type":21,"tag":212,"props":3046,"children":3047},{"style":413},[3048],{"type":26,"value":2661},{"type":21,"tag":212,"props":3050,"children":3051},{"style":407},[3052],{"type":26,"value":709},{"type":21,"tag":212,"props":3054,"children":3055},{"style":413},[3056],{"type":26,"value":3057}," SearchQuery, SearchRank, SearchVector\n",{"type":21,"tag":212,"props":3059,"children":3060},{"class":214,"line":419},[3061],{"type":21,"tag":212,"props":3062,"children":3063},{"emptyLinePlaceholder":741},[3064],{"type":26,"value":744},{"type":21,"tag":212,"props":3066,"children":3067},{"class":214,"line":428},[3068,3072,3076,3080,3084],{"type":21,"tag":212,"props":3069,"children":3070},{"style":750},[3071],{"type":26,"value":753},{"type":21,"tag":212,"props":3073,"children":3074},{"style":756},[3075],{"type":26,"value":759},{"type":21,"tag":212,"props":3077,"children":3078},{"style":413},[3079],{"type":26,"value":764},{"type":21,"tag":212,"props":3081,"children":3082},{"style":767},[3083],{"type":26,"value":770},{"type":21,"tag":212,"props":3085,"children":3086},{"style":413},[3087],{"type":26,"value":775},{"type":21,"tag":212,"props":3089,"children":3090},{"class":214,"line":452},[3091],{"type":21,"tag":212,"props":3092,"children":3093},{"style":401},[3094],{"type":26,"value":425},{"type":21,"tag":212,"props":3096,"children":3097},{"class":214,"line":466},[3098,3103],{"type":21,"tag":212,"props":3099,"children":3100},{"style":219},[3101],{"type":26,"value":3102},"    @",{"type":21,"tag":212,"props":3104,"children":3105},{"style":750},[3106],{"type":26,"value":3107},"staticmethod\n",{"type":21,"tag":212,"props":3109,"children":3110},{"class":214,"line":480},[3111,3115,3120,3124,3128],{"type":21,"tag":212,"props":3112,"children":3113},{"style":750},[3114],{"type":26,"value":1061},{"type":21,"tag":212,"props":3116,"children":3117},{"style":219},[3118],{"type":26,"value":3119}," get_filtered_tickets",{"type":21,"tag":212,"props":3121,"children":3122},{"style":413},[3123],{"type":26,"value":764},{"type":21,"tag":212,"props":3125,"children":3126},{"style":796},[3127],{"type":26,"value":208},{"type":21,"tag":212,"props":3129,"children":3130},{"style":413},[3131],{"type":26,"value":775},{"type":21,"tag":212,"props":3133,"children":3134},{"class":214,"line":493},[3135],{"type":21,"tag":212,"props":3136,"children":3137},{"style":1863},[3138],{"type":26,"value":3139},"        # Search and ranking to order by relevance\n",{"type":21,"tag":212,"props":3141,"children":3142},{"class":214,"line":506},[3143,3148,3152,3157,3161],{"type":21,"tag":212,"props":3144,"children":3145},{"style":413},[3146],{"type":26,"value":3147},"        vector ",{"type":21,"tag":212,"props":3149,"children":3150},{"style":407},[3151],{"type":26,"value":788},{"type":21,"tag":212,"props":3153,"children":3154},{"style":413},[3155],{"type":26,"value":3156}," SearchVector(",{"type":21,"tag":212,"props":3158,"children":3159},{"style":225},[3160],{"type":26,"value":2280},{"type":21,"tag":212,"props":3162,"children":3163},{"style":413},[3164],{"type":26,"value":848},{"type":21,"tag":212,"props":3166,"children":3167},{"class":214,"line":515},[3168,3172,3176,3181,3185,3190,3195],{"type":21,"tag":212,"props":3169,"children":3170},{"style":407},[3171],{"type":26,"value":1555},{"type":21,"tag":212,"props":3173,"children":3174},{"style":413},[3175],{"type":26,"value":2743},{"type":21,"tag":212,"props":3177,"children":3178},{"style":796},[3179],{"type":26,"value":3180},"rank",{"type":21,"tag":212,"props":3182,"children":3183},{"style":407},[3184],{"type":26,"value":788},{"type":21,"tag":212,"props":3186,"children":3187},{"style":413},[3188],{"type":26,"value":3189},"SearchRank(vector, SearchQuery(code))).order_by(",{"type":21,"tag":212,"props":3191,"children":3192},{"style":225},[3193],{"type":26,"value":3194},"\"-rank\"",{"type":21,"tag":212,"props":3196,"children":3197},{"style":413},[3198],{"type":26,"value":848},{"type":21,"tag":118,"props":3200,"children":3202},{"id":3201},"property",[3203],{"type":26,"value":3204},"Property",{"type":21,"tag":22,"props":3206,"children":3207},{},[3208],{"type":26,"value":3209},"Este decorador debe usarse para devolver variaciones de campos existentes.",{"type":21,"tag":200,"props":3211,"children":3213},{"className":389,"code":3212,"language":391,"meta":205,"style":205},"class Ticket(TimeStampedModel):\n    ...\n    @property\n    def code_upper(self):\n        return self.code.upper()\n\n    @property\n    def days_since_creation(self):\n        today = timezone.localdate()\n        return (today - self.created.date()).days\n\n",[3214],{"type":21,"tag":208,"props":3215,"children":3216},{"__ignoreMap":205},[3217,3240,3247,3259,3283,3299,3306,3317,3341,3358],{"type":21,"tag":212,"props":3218,"children":3219},{"class":214,"line":215},[3220,3224,3228,3232,3236],{"type":21,"tag":212,"props":3221,"children":3222},{"style":750},[3223],{"type":26,"value":753},{"type":21,"tag":212,"props":3225,"children":3226},{"style":756},[3227],{"type":26,"value":759},{"type":21,"tag":212,"props":3229,"children":3230},{"style":413},[3231],{"type":26,"value":764},{"type":21,"tag":212,"props":3233,"children":3234},{"style":767},[3235],{"type":26,"value":770},{"type":21,"tag":212,"props":3237,"children":3238},{"style":413},[3239],{"type":26,"value":775},{"type":21,"tag":212,"props":3241,"children":3242},{"class":214,"line":419},[3243],{"type":21,"tag":212,"props":3244,"children":3245},{"style":401},[3246],{"type":26,"value":425},{"type":21,"tag":212,"props":3248,"children":3249},{"class":214,"line":428},[3250,3254],{"type":21,"tag":212,"props":3251,"children":3252},{"style":219},[3253],{"type":26,"value":3102},{"type":21,"tag":212,"props":3255,"children":3256},{"style":750},[3257],{"type":26,"value":3258},"property\n",{"type":21,"tag":212,"props":3260,"children":3261},{"class":214,"line":452},[3262,3266,3271,3275,3279],{"type":21,"tag":212,"props":3263,"children":3264},{"style":750},[3265],{"type":26,"value":1061},{"type":21,"tag":212,"props":3267,"children":3268},{"style":219},[3269],{"type":26,"value":3270}," code_upper",{"type":21,"tag":212,"props":3272,"children":3273},{"style":413},[3274],{"type":26,"value":764},{"type":21,"tag":212,"props":3276,"children":3277},{"style":796},[3278],{"type":26,"value":1075},{"type":21,"tag":212,"props":3280,"children":3281},{"style":413},[3282],{"type":26,"value":775},{"type":21,"tag":212,"props":3284,"children":3285},{"class":214,"line":466},[3286,3290,3294],{"type":21,"tag":212,"props":3287,"children":3288},{"style":407},[3289],{"type":26,"value":1555},{"type":21,"tag":212,"props":3291,"children":3292},{"style":1103},[3293],{"type":26,"value":1106},{"type":21,"tag":212,"props":3295,"children":3296},{"style":413},[3297],{"type":26,"value":3298},".code.upper()\n",{"type":21,"tag":212,"props":3300,"children":3301},{"class":214,"line":480},[3302],{"type":21,"tag":212,"props":3303,"children":3304},{"emptyLinePlaceholder":741},[3305],{"type":26,"value":744},{"type":21,"tag":212,"props":3307,"children":3308},{"class":214,"line":493},[3309,3313],{"type":21,"tag":212,"props":3310,"children":3311},{"style":219},[3312],{"type":26,"value":3102},{"type":21,"tag":212,"props":3314,"children":3315},{"style":750},[3316],{"type":26,"value":3258},{"type":21,"tag":212,"props":3318,"children":3319},{"class":214,"line":506},[3320,3324,3329,3333,3337],{"type":21,"tag":212,"props":3321,"children":3322},{"style":750},[3323],{"type":26,"value":1061},{"type":21,"tag":212,"props":3325,"children":3326},{"style":219},[3327],{"type":26,"value":3328}," days_since_creation",{"type":21,"tag":212,"props":3330,"children":3331},{"style":413},[3332],{"type":26,"value":764},{"type":21,"tag":212,"props":3334,"children":3335},{"style":796},[3336],{"type":26,"value":1075},{"type":21,"tag":212,"props":3338,"children":3339},{"style":413},[3340],{"type":26,"value":775},{"type":21,"tag":212,"props":3342,"children":3343},{"class":214,"line":515},[3344,3349,3353],{"type":21,"tag":212,"props":3345,"children":3346},{"style":413},[3347],{"type":26,"value":3348},"        today ",{"type":21,"tag":212,"props":3350,"children":3351},{"style":407},[3352],{"type":26,"value":788},{"type":21,"tag":212,"props":3354,"children":3355},{"style":413},[3356],{"type":26,"value":3357}," timezone.localdate()\n",{"type":21,"tag":212,"props":3359,"children":3360},{"class":214,"line":529},[3361,3365,3370,3375,3379],{"type":21,"tag":212,"props":3362,"children":3363},{"style":407},[3364],{"type":26,"value":1555},{"type":21,"tag":212,"props":3366,"children":3367},{"style":413},[3368],{"type":26,"value":3369}," (today ",{"type":21,"tag":212,"props":3371,"children":3372},{"style":407},[3373],{"type":26,"value":3374},"-",{"type":21,"tag":212,"props":3376,"children":3377},{"style":1103},[3378],{"type":26,"value":1106},{"type":21,"tag":212,"props":3380,"children":3381},{"style":413},[3382],{"type":26,"value":3383},".created.date()).days\n",{"type":21,"tag":29,"props":3385,"children":3387},{"id":3386},"django-rest-framework",[3388],{"type":26,"value":3389},"Django Rest Framework",{"type":21,"tag":118,"props":3391,"children":3393},{"id":3392},"estructura-de-carpetas",[3394],{"type":26,"value":3395},"Estructura de carpetas",{"type":21,"tag":22,"props":3397,"children":3398},{},[3399,3401,3406,3407,3412,3413,3418,3419,3424],{"type":26,"value":3400},"Dentro de cada aplicación de django debe existir una carpeta api y dentro de ella sus respectivos archivos como: ",{"type":21,"tag":208,"props":3402,"children":3403},{"className":205},[3404],{"type":26,"value":3405},"views.py",{"type":26,"value":812},{"type":21,"tag":208,"props":3408,"children":3409},{"className":205},[3410],{"type":26,"value":3411},"serializers.py",{"type":26,"value":812},{"type":21,"tag":208,"props":3414,"children":3415},{"className":205},[3416],{"type":26,"value":3417},"urls.py",{"type":26,"value":812},{"type":21,"tag":208,"props":3420,"children":3421},{"className":205},[3422],{"type":26,"value":3423},"pagination.py",{"type":26,"value":3425},", etc.",{"type":21,"tag":200,"props":3427,"children":3429},{"className":2355,"code":3428,"language":2357,"meta":205,"style":205},"users\n├── __init__.py\n├── api\n│   ├── views.py\n│   ├── serializers.py\n│   ├── urls.py\n|   ├── pagination.py\n│   ...\n...\n",[3430],{"type":21,"tag":208,"props":3431,"children":3432},{"__ignoreMap":205},[3433,3441,3449,3457,3465,3473,3481,3489,3497],{"type":21,"tag":212,"props":3434,"children":3435},{"class":214,"line":215},[3436],{"type":21,"tag":212,"props":3437,"children":3438},{"style":413},[3439],{"type":26,"value":3440},"users\n",{"type":21,"tag":212,"props":3442,"children":3443},{"class":214,"line":419},[3444],{"type":21,"tag":212,"props":3445,"children":3446},{"style":413},[3447],{"type":26,"value":3448},"├── __init__.py\n",{"type":21,"tag":212,"props":3450,"children":3451},{"class":214,"line":428},[3452],{"type":21,"tag":212,"props":3453,"children":3454},{"style":413},[3455],{"type":26,"value":3456},"├── api\n",{"type":21,"tag":212,"props":3458,"children":3459},{"class":214,"line":452},[3460],{"type":21,"tag":212,"props":3461,"children":3462},{"style":413},[3463],{"type":26,"value":3464},"│   ├── views.py\n",{"type":21,"tag":212,"props":3466,"children":3467},{"class":214,"line":466},[3468],{"type":21,"tag":212,"props":3469,"children":3470},{"style":413},[3471],{"type":26,"value":3472},"│   ├── serializers.py\n",{"type":21,"tag":212,"props":3474,"children":3475},{"class":214,"line":480},[3476],{"type":21,"tag":212,"props":3477,"children":3478},{"style":413},[3479],{"type":26,"value":3480},"│   ├── urls.py\n",{"type":21,"tag":212,"props":3482,"children":3483},{"class":214,"line":493},[3484],{"type":21,"tag":212,"props":3485,"children":3486},{"style":413},[3487],{"type":26,"value":3488},"|   ├── pagination.py\n",{"type":21,"tag":212,"props":3490,"children":3491},{"class":214,"line":506},[3492],{"type":21,"tag":212,"props":3493,"children":3494},{"style":413},[3495],{"type":26,"value":3496},"│   ...\n",{"type":21,"tag":212,"props":3498,"children":3499},{"class":214,"line":515},[3500],{"type":21,"tag":212,"props":3501,"children":3502},{"style":413},[3503],{"type":26,"value":2433},{"type":21,"tag":22,"props":3505,"children":3506},{},[3507,3509,3513,3515,3520,3522,3527,3529,3534,3536,3540],{"type":26,"value":3508},"Dentro de ",{"type":21,"tag":208,"props":3510,"children":3511},{"className":205},[3512],{"type":26,"value":3417},{"type":26,"value":3514},", DRF ",{"type":21,"tag":208,"props":3516,"children":3517},{"className":205},[3518],{"type":26,"value":3519},"router.urls",{"type":26,"value":3521}," debe ser el mismo que ",{"type":21,"tag":208,"props":3523,"children":3524},{"className":205},[3525],{"type":26,"value":3526},"urlpatterns",{"type":26,"value":3528},".\nDentro del archivo ",{"type":21,"tag":208,"props":3530,"children":3531},{"className":205},[3532],{"type":26,"value":3533},"api_router.py",{"type":26,"value":3535}," incluya la referencia de cada ",{"type":21,"tag":208,"props":3537,"children":3538},{"className":205},[3539],{"type":26,"value":3417},{"type":26,"value":82},{"type":21,"tag":200,"props":3542,"children":3544},{"className":389,"code":3543,"language":391,"meta":205,"style":205},"from django.urls import include\n\nurlpatterns += [\n    ...\n    path(\"\", include(\"folder_api.app.api.urls\"))\n]\n",[3545],{"type":21,"tag":208,"props":3546,"children":3547},{"__ignoreMap":205},[3548,3569,3576,3594,3601,3629],{"type":21,"tag":212,"props":3549,"children":3550},{"class":214,"line":215},[3551,3555,3560,3564],{"type":21,"tag":212,"props":3552,"children":3553},{"style":407},[3554],{"type":26,"value":699},{"type":21,"tag":212,"props":3556,"children":3557},{"style":413},[3558],{"type":26,"value":3559}," django.urls ",{"type":21,"tag":212,"props":3561,"children":3562},{"style":407},[3563],{"type":26,"value":709},{"type":21,"tag":212,"props":3565,"children":3566},{"style":413},[3567],{"type":26,"value":3568}," include\n",{"type":21,"tag":212,"props":3570,"children":3571},{"class":214,"line":419},[3572],{"type":21,"tag":212,"props":3573,"children":3574},{"emptyLinePlaceholder":741},[3575],{"type":26,"value":744},{"type":21,"tag":212,"props":3577,"children":3578},{"class":214,"line":428},[3579,3584,3589],{"type":21,"tag":212,"props":3580,"children":3581},{"style":413},[3582],{"type":26,"value":3583},"urlpatterns ",{"type":21,"tag":212,"props":3585,"children":3586},{"style":407},[3587],{"type":26,"value":3588},"+=",{"type":21,"tag":212,"props":3590,"children":3591},{"style":413},[3592],{"type":26,"value":3593}," [\n",{"type":21,"tag":212,"props":3595,"children":3596},{"class":214,"line":452},[3597],{"type":21,"tag":212,"props":3598,"children":3599},{"style":401},[3600],{"type":26,"value":425},{"type":21,"tag":212,"props":3602,"children":3603},{"class":214,"line":466},[3604,3609,3614,3619,3624],{"type":21,"tag":212,"props":3605,"children":3606},{"style":413},[3607],{"type":26,"value":3608},"    path(",{"type":21,"tag":212,"props":3610,"children":3611},{"style":225},[3612],{"type":26,"value":3613},"\"\"",{"type":21,"tag":212,"props":3615,"children":3616},{"style":413},[3617],{"type":26,"value":3618},", include(",{"type":21,"tag":212,"props":3620,"children":3621},{"style":225},[3622],{"type":26,"value":3623},"\"folder_api.app.api.urls\"",{"type":21,"tag":212,"props":3625,"children":3626},{"style":413},[3627],{"type":26,"value":3628},"))\n",{"type":21,"tag":212,"props":3630,"children":3631},{"class":214,"line":480},[3632],{"type":21,"tag":212,"props":3633,"children":3634},{"style":413},[3635],{"type":26,"value":993},{"type":21,"tag":29,"props":3637,"children":3639},{"id":3638},"próximos-pasos",[3640],{"type":26,"value":3641},"Próximos pasos",{"type":21,"tag":118,"props":3643,"children":3645},{"id":3644},"celery",[3646],{"type":26,"value":3647},"Celery",{"type":21,"tag":22,"props":3649,"children":3650},{},[3651,3653,3658,3660,3665],{"type":26,"value":3652},"Django Cookiecutter ya viene con una implementación de Celery, en la que dentro de cada aplicación de Django definimos un archivo llamado ",{"type":21,"tag":208,"props":3654,"children":3655},{"className":205},[3656],{"type":26,"value":3657},"task.py",{"type":26,"value":3659}," y dentro de él colocamos funciones que se ejecutarán en segundo plano con el decorador de apio ",{"type":21,"tag":208,"props":3661,"children":3662},{"className":205},[3663],{"type":26,"value":3664},"@celery_app.task",{"type":26,"value":82},{"type":21,"tag":200,"props":3667,"children":3669},{"className":389,"code":3668,"language":391,"meta":205,"style":205},"from config.celery_app import app as celery_app\n\n@celery_app.task\ndef sendEmail(user_id):\n    ...\n    msg = EmailMultiAlternatives(...)\n    msg.send()\n",[3670],{"type":21,"tag":208,"props":3671,"children":3672},{"__ignoreMap":205},[3673,3704,3711,3719,3744,3751,3776],{"type":21,"tag":212,"props":3674,"children":3675},{"class":214,"line":215},[3676,3680,3685,3689,3694,3699],{"type":21,"tag":212,"props":3677,"children":3678},{"style":407},[3679],{"type":26,"value":699},{"type":21,"tag":212,"props":3681,"children":3682},{"style":413},[3683],{"type":26,"value":3684}," config.celery_app ",{"type":21,"tag":212,"props":3686,"children":3687},{"style":407},[3688],{"type":26,"value":709},{"type":21,"tag":212,"props":3690,"children":3691},{"style":413},[3692],{"type":26,"value":3693}," app ",{"type":21,"tag":212,"props":3695,"children":3696},{"style":407},[3697],{"type":26,"value":3698},"as",{"type":21,"tag":212,"props":3700,"children":3701},{"style":413},[3702],{"type":26,"value":3703}," celery_app\n",{"type":21,"tag":212,"props":3705,"children":3706},{"class":214,"line":419},[3707],{"type":21,"tag":212,"props":3708,"children":3709},{"emptyLinePlaceholder":741},[3710],{"type":26,"value":744},{"type":21,"tag":212,"props":3712,"children":3713},{"class":214,"line":428},[3714],{"type":21,"tag":212,"props":3715,"children":3716},{"style":219},[3717],{"type":26,"value":3718},"@celery_app.task\n",{"type":21,"tag":212,"props":3720,"children":3721},{"class":214,"line":452},[3722,3726,3731,3735,3740],{"type":21,"tag":212,"props":3723,"children":3724},{"style":750},[3725],{"type":26,"value":1514},{"type":21,"tag":212,"props":3727,"children":3728},{"style":219},[3729],{"type":26,"value":3730}," sendEmail",{"type":21,"tag":212,"props":3732,"children":3733},{"style":413},[3734],{"type":26,"value":764},{"type":21,"tag":212,"props":3736,"children":3737},{"style":796},[3738],{"type":26,"value":3739},"user_id",{"type":21,"tag":212,"props":3741,"children":3742},{"style":413},[3743],{"type":26,"value":775},{"type":21,"tag":212,"props":3745,"children":3746},{"class":214,"line":466},[3747],{"type":21,"tag":212,"props":3748,"children":3749},{"style":401},[3750],{"type":26,"value":425},{"type":21,"tag":212,"props":3752,"children":3753},{"class":214,"line":480},[3754,3759,3763,3768,3772],{"type":21,"tag":212,"props":3755,"children":3756},{"style":413},[3757],{"type":26,"value":3758},"    msg ",{"type":21,"tag":212,"props":3760,"children":3761},{"style":407},[3762],{"type":26,"value":788},{"type":21,"tag":212,"props":3764,"children":3765},{"style":413},[3766],{"type":26,"value":3767}," EmailMultiAlternatives(",{"type":21,"tag":212,"props":3769,"children":3770},{"style":401},[3771],{"type":26,"value":1640},{"type":21,"tag":212,"props":3773,"children":3774},{"style":413},[3775],{"type":26,"value":848},{"type":21,"tag":212,"props":3777,"children":3778},{"class":214,"line":493},[3779],{"type":21,"tag":212,"props":3780,"children":3781},{"style":413},[3782],{"type":26,"value":3783},"    msg.send()\n",{"type":21,"tag":22,"props":3785,"children":3786},{},[3787,3789,3794],{"type":26,"value":3788},"La forma más sencilla de hacer uso de estas funciones es llamando a la función y con el método ",{"type":21,"tag":208,"props":3790,"children":3791},{"className":205},[3792],{"type":26,"value":3793},"delay()",{"type":26,"value":3795}," le pasamos los parámetros correspondientes.",{"type":21,"tag":200,"props":3797,"children":3799},{"className":389,"code":3798,"language":391,"meta":205,"style":205},"from folder_api.users.task import sendEmail\n\nclass SignUpSerializer(serializers.Serializer):\n    ...\n    def create(self, validated_data):\n        ...\n        sendEmail.delay(user.id)\n        ...\n",[3800],{"type":21,"tag":208,"props":3801,"children":3802},{"__ignoreMap":205},[3803,3824,3831,3865,3872,3904,3911,3919],{"type":21,"tag":212,"props":3804,"children":3805},{"class":214,"line":215},[3806,3810,3815,3819],{"type":21,"tag":212,"props":3807,"children":3808},{"style":407},[3809],{"type":26,"value":699},{"type":21,"tag":212,"props":3811,"children":3812},{"style":413},[3813],{"type":26,"value":3814}," folder_api.users.task ",{"type":21,"tag":212,"props":3816,"children":3817},{"style":407},[3818],{"type":26,"value":709},{"type":21,"tag":212,"props":3820,"children":3821},{"style":413},[3822],{"type":26,"value":3823}," sendEmail\n",{"type":21,"tag":212,"props":3825,"children":3826},{"class":214,"line":419},[3827],{"type":21,"tag":212,"props":3828,"children":3829},{"emptyLinePlaceholder":741},[3830],{"type":26,"value":744},{"type":21,"tag":212,"props":3832,"children":3833},{"class":214,"line":428},[3834,3838,3843,3847,3852,3856,3861],{"type":21,"tag":212,"props":3835,"children":3836},{"style":750},[3837],{"type":26,"value":753},{"type":21,"tag":212,"props":3839,"children":3840},{"style":756},[3841],{"type":26,"value":3842}," SignUpSerializer",{"type":21,"tag":212,"props":3844,"children":3845},{"style":413},[3846],{"type":26,"value":764},{"type":21,"tag":212,"props":3848,"children":3849},{"style":767},[3850],{"type":26,"value":3851},"serializers",{"type":21,"tag":212,"props":3853,"children":3854},{"style":413},[3855],{"type":26,"value":82},{"type":21,"tag":212,"props":3857,"children":3858},{"style":767},[3859],{"type":26,"value":3860},"Serializer",{"type":21,"tag":212,"props":3862,"children":3863},{"style":413},[3864],{"type":26,"value":775},{"type":21,"tag":212,"props":3866,"children":3867},{"class":214,"line":452},[3868],{"type":21,"tag":212,"props":3869,"children":3870},{"style":401},[3871],{"type":26,"value":425},{"type":21,"tag":212,"props":3873,"children":3874},{"class":214,"line":466},[3875,3879,3883,3887,3891,3895,3900],{"type":21,"tag":212,"props":3876,"children":3877},{"style":750},[3878],{"type":26,"value":1061},{"type":21,"tag":212,"props":3880,"children":3881},{"style":219},[3882],{"type":26,"value":2131},{"type":21,"tag":212,"props":3884,"children":3885},{"style":413},[3886],{"type":26,"value":764},{"type":21,"tag":212,"props":3888,"children":3889},{"style":796},[3890],{"type":26,"value":1075},{"type":21,"tag":212,"props":3892,"children":3893},{"style":413},[3894],{"type":26,"value":812},{"type":21,"tag":212,"props":3896,"children":3897},{"style":796},[3898],{"type":26,"value":3899},"validated_data",{"type":21,"tag":212,"props":3901,"children":3902},{"style":413},[3903],{"type":26,"value":775},{"type":21,"tag":212,"props":3905,"children":3906},{"class":214,"line":480},[3907],{"type":21,"tag":212,"props":3908,"children":3909},{"style":401},[3910],{"type":26,"value":1128},{"type":21,"tag":212,"props":3912,"children":3913},{"class":214,"line":493},[3914],{"type":21,"tag":212,"props":3915,"children":3916},{"style":413},[3917],{"type":26,"value":3918},"        sendEmail.delay(user.id)\n",{"type":21,"tag":212,"props":3920,"children":3921},{"class":214,"line":506},[3922],{"type":21,"tag":212,"props":3923,"children":3924},{"style":401},[3925],{"type":26,"value":1128},{"type":21,"tag":22,"props":3927,"children":3928},{},[3929,3933,3935,3942],{"type":21,"tag":250,"props":3930,"children":3931},{},[3932],{"type":26,"value":1482},{"type":26,"value":3934}," Para poder programar tareas periódicas, puedes usar el administrador de django y usar la biblioteca ",{"type":21,"tag":72,"props":3936,"children":3939},{":target":74,"href":3937,"rel":3938},"https://github.com/celery/django-celery-beat",[77],[3940],{"type":26,"value":3941},"django-celery-beat",{"type":26,"value":82},{"type":21,"tag":3944,"props":3945,"children":3946},"style",{},[3947],{"type":26,"value":3948},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":205,"searchDepth":419,"depth":419,"links":3950},[3951,3952,3953,3957,3964,3967,3970,3973],{"id":31,"depth":419,"text":34},{"id":62,"depth":419,"text":65},{"id":113,"depth":419,"text":116,"children":3954},[3955,3956],{"id":120,"depth":428,"text":123},{"id":242,"depth":428,"text":245},{"id":360,"depth":419,"text":363,"children":3958},[3959,3960,3961,3962,3963],{"id":371,"depth":428,"text":374},{"id":592,"depth":428,"text":595},{"id":670,"depth":428,"text":673},{"id":859,"depth":428,"text":862},{"id":1131,"depth":428,"text":1134},{"id":286,"depth":419,"text":1663,"children":3965},[3966],{"id":1975,"depth":428,"text":1978},{"id":2629,"depth":419,"text":2632,"children":3968},[3969],{"id":3201,"depth":428,"text":3204},{"id":3386,"depth":419,"text":3389,"children":3971},[3972],{"id":3392,"depth":428,"text":3395},{"id":3638,"depth":419,"text":3641,"children":3974},[3975],{"id":3644,"depth":428,"text":3647},"markdown","content:blog:django-guide.md","content","blog/django-guide.md","md",1702858804122]